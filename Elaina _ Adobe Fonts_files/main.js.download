!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.ComponentLoader=o():e.ComponentLoader=o()}(self,(()=>(()=>{"use strict";var e={d:(o,n)=>{for(var t in n)e.o(n,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:n[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}};(()=>{e.S={};var o={},n={};e.I=(t,i)=>{i||(i=[]);var r=n[t];if(r||(r=n[t]={}),!(i.indexOf(r)>=0)){if(i.push(r),o[t])return o[t];e.o(e.S,t)||(e.S[t]={}),e.S[t];var s=[];return o[t]=s.length?Promise.all(s).then((()=>o[t]=1)):1}}})();var o={};e.r(o),e.d(o,{COMPONENT_LOADER_OVERRIDE_KEY:()=>r,ComponentLoader:()=>c,MODULE_CONFIGS:()=>t});const n={stage:{ACE:"shared-components.stage.adobe.com",PANDORA:"pandora-cdn.stage.adobe.com"},prod:{ACE:"shared-components.adobe.com",PANDORA:"pandora-cdn.adobe.com"}},t={AssetBrowser:{getURL:(e,o)=>`https://${n[e].ACE}/${i("asset-browser",o)}/${o}/dist/remoteEntry.js`,scope:"cc_asset_browser",module:"AssetBrowser",uiComponents:["cc-asset-organizer","cc-assignment-thumbnail","cc-assignments-organizer-toolbar","cc-classrooms-organizer-toolbar","cc-document-picker","cc-edit-project-dialog","cc-edit-workspace-dialog","cc-manage-assignment-action-button","cc-manage-assignment-button","cc-manage-assignments-organizer","cc-preview-assignment","cc-preview-submission","cc-project-card","cc-project-creation-wizard","cc-projects-express-mobile-create-project-button","cc-projects-organizer-toolbar","cc-projects-organizer","cc-projects-project-contents-header","cc-student-assignments-organizer","cc-student-classrooms-organizer","cc-submissions-organizer-toolbar","cc-submissions-organizer","cc-teacher-classrooms-organizer"]},CCLibraries:{getURL:(e,o)=>`https://${n[e].ACE}/${i("libraries",o)}/${o}/remoteEntry.js`,scope:"cc_libraries",module:"CCLibraries",uiComponents:["cc-libraries","cc-libraries-expanded"]},ColorPicker:{getURL:(e,o)=>`https://${n[e].ACE}/${i("color-picker",o)}/${o}/dist/remoteEntry.js`,scope:"ccx_color_picker",module:"ColorPicker"},Commenting:{getURL:(e,o)=>`https://${n[e].ACE}/${i("commenting",o)}/${o}/dist/remoteEntry.js`,scope:"cc_commenting",module:"Commenting"},Intelligence:{getURL:(e,o)=>`https://${n[e].ACE}/${i("intelligence",o)}/${o}/remoteEntry.js`,scope:"acpc_intelligence",module:"Intelligence"},NeuralFiltersRemoveBackground:{getURL:(e,o)=>`https://${n[e].ACE}/${i("nf-remove-background",o)}/${o}/dist/remoteEntry.js`,scope:"cc_neural_filters",module:"NeuralFiltersRemoveBackground"},ShareSheet:{getURL:(e,o)=>`https://${n[e].ACE}/${i("share-sheet",o)}/${o}/dist/remoteEntry.js`,scope:"cc_share_sheet",module:"ShareSheet"},Timeline:{getURL:(e,o)=>`https://${n[e].ACE}/${i("timeline",o)}/${o}/remoteEntry.js`,scope:"ccx_timeline",module:"Timeline"},AccountMenuTrigger:{getURL:(e,o)=>`https://${n[e].ACE}/${i("web-component-account-menu-trigger",o)}/${o}/loader/remoteEntry.js`,scope:"pandora_web_component_account_menu_trigger",module:"AccountMenuTrigger"},AccountMenuMiniApp:{getURL:(e,o)=>`https://${n[e].ACE}/${i("react-mini-app-account-menu",o)}/${o}/loader/remoteEntry.js`,scope:"pandora_react_mini_app_account_menu",module:"AccountMenuMiniApp"},ProfileSwitcherTrigger:{getURL:(e,o)=>`https://${n[e].ACE}/${i("web-component-profile-switcher-trigger",o)}/${o}/loader/remoteEntry.js`,scope:"pandora_web_component_profile_switcher_trigger",module:"ProfileSwitcherTrigger"},ProfileSwitcherMiniApp:{getURL:(e,o)=>`https://${n[e].ACE}/${i("react-mini-app-profile-switcher",o)}/${o}/loader/remoteEntry.js`,scope:"pandora_react_mini_app_profile_switcher",module:"ProfileSwitcherMiniApp"},MiniAppBeManagePeople:{getURL:(e,o)=>`https://${n[e].ACE}/${i("react-mini-app-be-manage-people",o)}/${o}/loader/remoteEntry.js`,scope:"pandora_react_mini_app_be_manage_people",module:"MiniAppBeManagePeople"},XintFrontendFoundations:{getURL:(e,o)=>`https://${n[e].ACE}/${i("xint_web_components",o)}/${o}/remoteEntry.js`,scope:"xint_web_components",module:"XintFrontendFoundations",uiComponents:["brand-management-app"]}};function i(e,o){return function(e){return e.endsWith(".pr")||e.includes("-main-")||e.includes("-dev-")}(o)?`${e}_PR`:e}const r="__component_loader_override__";"undefined"==typeof window||window[r]||(window[r]=new class{constructor(e={}){this._overrides=e}get(e){var o;const n=null===(o=this._getLocalStorageOverrides())||void 0===o?void 0:o[e];return n&&(this._overrides[e]=n),this._overrides[e]||null}set(e,o){this._overrides[e]=o;const n=this._getLocalStorageOverrides()||{};null===localStorage||void 0===localStorage||localStorage.setItem(r,JSON.stringify(Object.assign(Object.assign({},n),{[e]:o})))}remove(e){delete this._overrides[e];const o=this._getLocalStorageOverrides();o&&o[e]&&(delete o[e],null===localStorage||void 0===localStorage||localStorage.setItem(r,JSON.stringify(o)))}clear(){this._overrides={},null===localStorage||void 0===localStorage||localStorage.removeItem(r)}_getLocalStorageOverrides(){const e=null===localStorage||void 0===localStorage?void 0:localStorage.getItem(r);return e?JSON.parse(e):null}});const s={config:{apiKey:void 0,getAccessToken:void 0,getProfile:void 0,appId:void 0,appName:void 0,appVersion:void 0,moduleFederationDefaultShareScope:void 0,cdnEnvironment:"prod",environment:"prod",customElements:globalThis.customElements,locale:"en-US",spectrumTheme:"default",colorScheme:"light",clientId:void 0,context:void 0}};class c{constructor(e=s){this._options=e,this._scriptLoadingPromises=new Map,this._scopeLoadingPromises=new Map,this._loadedModulePromises=new Map;const o=e.config||{};this._config=this._assignDeprecatedConfig(o,o)}_loadScript(e){if(!this._scriptLoadingPromises.has(e)){const o=document.createElement("script");o.src=e,o.type="text/javascript",o.async=!0,o.setAttribute("crossorigin","anonymous"),this._scriptLoadingPromises.set(e,new Promise(((n,t)=>(o.onload=()=>n(),o.onerror=()=>{this._scopeLoadingPromises.delete(e),t(`Failed to load ${e}`)},document.head.appendChild(o),o))))}return this._scriptLoadingPromises.get(e)}_loadRemoteContainer(o,n){const t=`${o}#${n}`;if(!this._scopeLoadingPromises.has(t)){const i=async()=>{await this._loadScript(o),this._config.moduleFederationDefaultShareScope||await e.I("default");const t=this._config.moduleFederationDefaultShareScope||e.S.default;window.sharingscopes=t;const i=window[n];if(!i)throw new Error(`Could not find scope ${n}: this must match your ModuleFederationPlugin 'name'`);return await i.init(t),i};this._scopeLoadingPromises.set(t,i())}return this._scopeLoadingPromises.get(t)}_getModuleConfig(e,o){var n,i,s;const c=t[e],a=null===(n=window[r])||void 0===n?void 0:n.get(e);if(o=(null===(s=null===(i=window.__component_loader_versions__)||void 0===i?void 0:i[e])||void 0===s?void 0:s.version)||o,"string"==typeof a)return Object.assign(Object.assign({},c),{getURL:()=>a});if("object"==typeof a){const e=(null==a?void 0:a.version)||o,n=(null==a?void 0:a.cdnEnvironment)||this.getConfig().cdnEnvironment;return Object.assign(Object.assign({},c),{getURL:()=>this._isUrl(o)?o:c.getURL(n,e)})}return c}_isUrl(e){return e.startsWith("http")}_assignDeprecatedConfig(e,o){var n,t,i,r,c,a,l,d,p;const m=(null===(n=o.context)||void 0===n?void 0:n.environment)||o.environment||e.environment||s.config.environment;e===o&&e.context&&"prod"!==m&&console.warn&&console.warn("ComponentLoader({ config: { context } }) is deprecated. All context properties have moved to top-level `Config` properties."),e!==o&&o.context&&"prod"!==m&&console.warn&&console.warn("ComponentLoader.updateConfig({ context }) is deprecated. All context properties have moved to top-level `Config` properties."),e===o&&this._options.cdnEnvironment&&"prod"!==m&&console.warn&&console.warn("ComponentLoader({ cdnEnvironment }) is deprecated. Use ComponentLoader({ config: { cdnEnvironment } }).");const g=o.cdnEnvironment||e.cdnEnvironment||this._options.cdnEnvironment||s.config.cdnEnvironment,u=(null===(t=o.context)||void 0===t?void 0:t.theme)||o.theme||o.colorScheme||e.colorScheme||s.config.colorScheme;return Object.assign(e,Object.assign(Object.assign({},o),{locale:(null===(i=o.context)||void 0===i?void 0:i.locale)||o.locale||e.locale||s.config.locale,colorScheme:u,theme:u,clientId:o.clientId||(null===(r=o.context)||void 0===r?void 0:r.appId)||o.appId||e.clientId||s.config.clientId,customElements:o.customElements||e.customElements||s.config.customElements,cdnEnvironment:g,environment:m,spectrumTheme:o.spectrumTheme||e.spectrumTheme||s.config.spectrumTheme,context:{environment:m,locale:(null===(c=o.context)||void 0===c?void 0:c.locale)||o.locale||e.locale||s.config.locale,theme:u,apiKey:(null===(a=o.context)||void 0===a?void 0:a.apiKey)||o.apiKey||e.apiKey||s.config.apiKey,appId:(null===(l=o.context)||void 0===l?void 0:l.appId)||o.appId||o.clientId||e.clientId||s.config.appId,appName:(null===(d=o.context)||void 0===d?void 0:d.appName)||o.appName||e.appName||s.config.appName,appVersion:(null===(p=o.context)||void 0===p?void 0:p.appVersion)||o.appVersion||e.appVersion||s.config.appVersion}})),Object.keys(e).forEach((o=>{void 0===e[o]&&delete e[o]})),e}getConfig(){return this._config}async load(e,o,n={}){const t=Object.assign({},n),i=Object.assign(n,this._config,t);return await this._load(e,o,(e=>e.init(i)))}async _load(e,o,n){var t,i,r,s,c,a,l,d,p,m,g;(null===(t=window.performance)||void 0===t?void 0:t.mark)&&window.performance.mark(`component-loader:load:${e}:begin`);const u=`${e}#${o}`;let v=this._loadedModulePromises.get(u);if(v)(null===(m=window.performance)||void 0===m?void 0:m.mark)&&window.performance.mark(`component-loader:load:${e}:eval`);else{const t=this._getModuleConfig(e,o),m=this._isUrl(o)?o:t.getURL(this.getConfig().cdnEnvironment,o),g=t.scope,_=await this._loadRemoteContainer(m,g);if((null===(i=window.performance)||void 0===i?void 0:i.measure)&&window.performance.measure(`component-loader:load:${e}:eval`,`component-loader:load:${e}:begin`),(null===(r=window.performance)||void 0===r?void 0:r.mark)&&window.performance.mark(`component-loader:load:${e}:eval`),(null===(c=null===(s=window.__component_loader_versions__)||void 0===s?void 0:s[e])||void 0===c?void 0:c.version)===o&&(null===(l=null===(a=window.__component_loader_versions__)||void 0===a?void 0:a[e])||void 0===l?void 0:l.updateRequired))return await this._load(e,null===(p=null===(d=window.__component_loader_versions__)||void 0===d?void 0:d[e])||void 0===p?void 0:p.version,n);v=n(function(e){return"default"in e?e.default:e}((await _.get(e))())),this._loadedModulePromises.set(u,v)}return(null===(g=window.performance)||void 0===g?void 0:g.measure)&&window.performance.measure(`component-loader:load:${e}:init`,`component-loader:load:${e}:eval`),v}async updateConfig(e){this._config=this._assignDeprecatedConfig(Object.assign({},this._config),e),(await Promise.all(this._loadedModulePromises.values())).forEach((e=>{var o;null===(o=null==e?void 0:e.updateConfig)||void 0===o||o.call(e,this._config)}))}}return o})()));