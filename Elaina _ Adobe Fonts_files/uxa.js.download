var CS_CONF={"isSMB":false,"projectId":4451,"status":1,"hostnames":["adobe.com","photoshop.com","marketo.com","qualtrics.com","adobelr.com","dc.stage.acrobat.com","stage.acrobat.adobe.com","video.tv.adobe.com"],"crossDomainTracking":0,"crossDomainSingleIframeTracking":1,"consentRequired":0,"allowSubdomains":1,"visitorCookieTimeout":34164000000,"sampleRate":100,"replayRecordingRate":20,"validationRate":10,"lastTrackingDraw":1717775740,"trackerDomain":"c.clicktale.net","recordingDomain":"r.clicktale.net","useMalkaPipeline":1,"ed":"l.clicktale.net/log/web","eMerchandisingEnabled":0,"mouseMoveHeatmapEnabled":1,"autoInsightsEnabled":1,"jsErrorsEnabled":1,"customErrorsEnabled":0,"jsCustomErrorsEnabled":0,"apiErrorsEnabled":1,"customHashIdEnabled":0,"recordingEncryptionEnabled":0,"recordingEncryptionPublicKey":null,"recordingEncryptionPublicKeyId":0,"secureCookiesEnabled":0,"triggerSessionReplayEnabled":0,"triggerSessionReplayRegex":null,"dynamicIdRegex":"tt_blade_[a-z0-9]+Marquee","whitelistedAttributes":[],"replayRecordingUnmaskedUrlRegex":"","replayRecordingUnmaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegex":".*www(.stage)?.adobe.com\\/apps.*","anonymisationMethod":"replayRecordingMaskedUrlRegex","tagDeploymentMode":"DUAL_COLLECTION","experimental":null,"iframesTracking":1,"textVisibilityEnabled":0,"cookielessTrackingEnabled":0,"malkaUrlEnabled":0,"malkaEtrEnabled":0,"pathComputationRules":{"reliableSelectors":[],"uniqueAttributes":[],"uniqueCssSelectors":[".modal-payment"]},"asyncSerializerEnabled":1,"pendingInactivityTimeout":5000,"accessibilityEnabled":0,"uxaDomain":"app.contentsquare.com","webviewsTrackingEnabled":0,"useStaticResourceManager":1,"performanceTimingOptions":{"withResource":false,"withNavigation":false},"replayConsentRequiredForSession":0,"eventsApiEnabled":0,"clickedElementTextEnabled":0,"apiErrors":{"validCustomHeaders":[],"plainCustomHeaders":[],"validUrls":[],"configurableApiErrorRules":[],"collectStandardHeaders":0,"collectQueryParam":0,"collectRequestBody":0,"collectResponseBody":0,"collectionRules":[]},"displayAdOptions":null,"taskSchedulerOptions":{"enabled":1},"malkaQuotaServiceDomain":"q-aus1.clicktale.net","malkaRecordingDomain":"k-aus1.clicktale.net","staticResourceManagerDomain":"srm.bf.contentsquare.net","voc":{"siteId":null,"enabled":0},"dualCollectionTagDomain":"clicktale.net","ptcDomain":"cdnssl.clicktale.net","ptcPartition":"www20","ptcGuid":"df7e164d-c711-4376-a4c8-8b364d648be0","implementations":[{"template":{"name":"PiiMasking","args":{"cssSelectors":[".profile-container,.recent-assets-container-app,.welcome-message,.recent-grid-item,.your-work-container,.comment-timeline"],"attributes":[]}},"triggers":[{"name":"PageState","args":{"state":"Any"}}]}],"ptcSha512":"iJzUG7As458FUBribs8gE0OdlsZt8esEV5POl9SUd5DRMKF3y0lACR0Ije3gtvWAKh6BOS4OfOYrqTk1KsQ8Zw==","ptcSnapshotPath":"ss/4451/df7e164d-c711-4376-a4c8-8b364d648be0/19"};
;

var CS_INTEGRATIONS_CONF = {"qualtrics":{},"adobe-target":{}};
/* integration-qualtrics 2.20.0 */
!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e){e.exports=JSON.parse('{"name":"@contentsquare/integration-qualtrics-cap","version":"2.20.0","scripts":{"build:snippet":"webpack"}}')},function(e,t,n){"use strict";function i(e,t){try{e()}catch(e){window._uxa=window._uxa||[],_uxa.push(["logSnippetError",t,e.message])}}function o(e){return"object"==typeof e&&null!==e}function a(e,t){t||(t="="),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&=]"+e+t+"([^&#]*)").exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}n.r(t);const s=n(0);let c,r=s.name,u=s.version;const d=function(e){var t,n,o,a;if(i((function(){var i=e.name;o=e.version;var s=i.replace("@contentsquare/integration-","");t=s+"-"+o;var c="-contentsquare";a=new RegExp(c+"$").test(s),n=s.replace(/-contentsquare([^-contentsquare]*)$/,"$1"),a||(c="-cap",a=new RegExp(c+"$").test(s),n=s.replace(/-cap([^-cap]*)$/,"$1"))}),"Shared-Function-readPackageJSON"),a)return{snippetBuildName:t,parameterName:n,snippetVersion:o}}(s);d&&(c=d.parameterName,r=d.snippetBuildName,u=d.snippetVersion),i((function(){window._uxa=window._uxa||[],CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push("Qualtrics - v"+u);let e=!1;window.self!=window.top&&(e=CS_CONF.iframesTracking);const t=function(e,t){if(o(window.CS_INTEGRATIONS_CONF)&&o(window.CS_INTEGRATIONS_CONF[e]))return window.CS_INTEGRATIONS_CONF[e][t]}(c,"settings");let n=!1,s=1;t&&(t.indexOf("sendArtificialPageviews")>-1&&(n=!0),t.indexOf("setReplayLinkToFirstPV")>-1&&(s=0));let d=!1;function l(e){if(e){return((new DOMParser).parseFromString(e,"text/html").body.textContent||"").trim()}return""}function p(e,t,i,o){e="FB_QT_"+e,_uxa.push(["trackDynamicVariable",{key:l(e),value:t}]),d&&"etr"===i&&_uxa.push(["trackEventTriggerRecording","@ETS@"+e]),o&&n&&_uxa.push(["trackPageview",window.location.pathname+"?"+o])}function f(){let e=0,t=document.location.host;const n=t.split("."),i="_cs_tld"+(new Date).getTime();for(;e<n.length-1&&-1==document.cookie.indexOf(i+"="+i);)t=n.slice(-1-++e).join("."),document.cookie=i+"="+i+";domain="+t+";SameSite=None;Secure";return document.cookie=i+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";",t}function _(e){const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let i=n[e];for(;" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""}function S(){const e={contentsquare_integration:_("_cs_s"),vendor:"qualtrics"};window.opener?window.opener.postMessage(e,"*"):self!=top&&window.top.postMessage(e,"*")}function g(e){return e.toString().replace(/[^\w. ]/gi,(function(e){return"&#"+e.charCodeAt(0)+";"}))}if(window.Qualtrics&&Qualtrics.SurveyEngine&&"function"==typeof Qualtrics.SurveyEngine.addOnPageSubmit){if(!e){let e="";if(window._cs_integration_qualtrics_postmessage_csid||window.ClickTaleSettings&&ClickTaleSettings.PTC&&ClickTaleSettings.PTC.IntegrationHandler&&ClickTaleSettings.PTC.IntegrationHandler.UserValues)window._cs_integration_qualtrics_postmessage_csid?e=_cs_integration_qualtrics_postmessage_csid:ClickTaleSettings.PTC.IntegrationHandler.UserValues&&(e=ClickTaleSettings.PTC.IntegrationHandler.UserValues);else{const t=document.location.search;t.indexOf("CSID=")>-1?e=a("CSID"):CS_CONF.ptcDomain&&t.indexOf("CT_UID=")>-1?e=a("CT_UID"):window._cs_integration_qualtrics_csid&&(e=decodeURIComponent(_cs_integration_qualtrics_csid))}if(e&&"null"!=e){const t=e.split("~"),n=t[0],i=t[1],o=t[2],a=t[3],s=f();n&&i&&o&&(a?document.cookie="_cs_optout="+a+";domain="+s+";path=/;SameSite=None;Secure":(document.cookie="_cs_optout=;domain="+s+";path=/;expires=Thu, 01-Jan-1970 00:00:01 GMT;SameSite=None;Secure",document.cookie="_cs_optout=;path=/;expires=Thu, 01-Jan-1970 00:00:01 GMT;SameSite=None;Secure",document.cookie="_cs_optout=;domain=."+document.location.host+";path=/;expires=Thu, 01-Jan-1970 00:00:01 GMT;SameSite=None;Secure"),document.cookie="_cs_id="+n+";domain="+s+";path=/;SameSite=None;Secure",document.cookie="_cs_s="+i+";domain="+s+";path=/;SameSite=None;Secure",document.cookie="_cs_c="+o+";domain="+s+";path=/;SameSite=None;Secure")}}let t="";function m(n){if(!e){let e=_("_cs_s");if(e&&e.indexOf(".T.")>-1){const t=setInterval((function(){e=_("_cs_s"),e&&-1===e.indexOf(".T.")&&(clearInterval(t),S())}),500)}else S()}setTimeout((function(){if(d=_uxa.push(["isRecording"]),d){const e=function(e,t,n){e||(e="missingFromDynamicSnippet");var i=t;if(isNaN(i)&&(t=0),n){var o=n.sessionKey.split("."),a=n.projectId,s=o[0],c=o[1],r=n.pageNumber,u=r-t;return t>=r&&(u=r),0===i&&(u=1),"https://app.contentsquare.com/quick-playback/index.html?pid="+a+"&uu="+s+"&sn="+c+"&pvid="+u+"&recordingType=cs&vd="+e}}("qt",s,n);if(e&&Qualtrics.SurveyEngine){const n=Qualtrics.SurveyEngine;let i="";CS_CONF.ptcDomain&&(i="ClicktaleSpecificRecording",!0===t&&"function"==typeof n.setJSEmbeddedData?n.setJSEmbeddedData(i,e):!1===t&&"function"==typeof n.setEmbeddedData&&n.setEmbeddedData(i,e)),i="ContentsquareReplayLink",!0===t&&"function"==typeof n.setJSEmbeddedData?n.setJSEmbeddedData(i,e):!1===t&&"function"==typeof n.setEmbeddedData&&n.setEmbeddedData(i,e)}}}),500)}if(window.Page?t=!1:window.q&&(t=!0),_uxa.push(["afterPageView",function(e){i((function(){m(e)}),r)}]),window.addEventListener("Contentsquare_QT_Integration_Dispatcher",(function(e){i((function(){if(e&&"object"==typeof e.detail&&"string"==typeof e.detail.key&&"string"==typeof e.detail.value){let t=e.detail.key;const n=e.detail.value;"FB_QT_"===t.slice(0,6)&&(t=t.slice(6)),p(t,n)}}),r)})),!1===t&&"function"==typeof Page.getSessionId&&Page.runtime&&Page.runtime.ED&&Page.runtime.ED.SurveyID&&Page._questionRenderers&&Qualtrics.SurveyEngine.QuestionInfo){const e=Page.runtime.ED.SurveyID,t=Page.getSessionId().replace("FS_","R_");p("Feedback Displayed","Survey ID : "+e);let n=!1,o=!1,a=!1;const s=[];function y(){const e=Qualtrics.SurveyEngine.QuestionInfo,t=Object.keys(e);for(let e=0;e<t.length;e++){const n=Qualtrics.SurveyEngine.QuestionInfo[t[e]].Selector;if(n&&"TB"!=n){o=!0;break}}}function b(){i((function(){y(),n||(n=!0,p("Feedback Accepted","Survey ID : "+e,0,"cs_qualtrics=feedback_accepted_"+e)),setTimeout((function(){o&&!a&&!1===Page.runtime.FailedValidation&&(a=!0,p("Feedback Submitted","Survey ID : "+e,"etr","cs_qualtrics=feedback_submitted_"+e),p("Feedback Response ID",t))}),2e3);const i=Page._questionRenderers,c=Object.keys(i);for(let t=0;t<c.length;t++){const n=i[c[t]].runtime;if(n&&n.Selector&&n.QuestionText&&n.Displayed){const i=n.QuestionText;if("NPS"===n.Selector&&n.Selected){const o=parseInt(n.Selected);s.includes(c[t]+"~~~"+o)||(s.push(c[t]+"~~~"+o),p("NPS Rating - "+c[t]+" - "+e+" - "+i,o),p("NPS Rating - "+c[t]+" - "+e,o))}if("STAR"===n.Selector){const i=n.Choices,o=Object.keys(i);for(let n=0;n<o.length;n++){const a=i[o[n]].Display;if(i[o[n]].Value){const r=parseInt(i[o[n]].Value);s.includes(c[t]+" ("+(n+1)+")~~~"+r)||(s.push(c[t]+" ("+(n+1)+")~~~"+r),p("Star Rating - "+c[t]+" ("+(n+1)+") - "+e+" - "+a,r),p("Star Rating - "+c[t]+" ("+(n+1)+") - "+e,r))}}}if("SAVR"===n.Selector||"SAHR"===n.Selector){const i=n.Selected;if(i&&n.Choices){const o=n.Choices[i].ID;o&&(s.includes(c[t]+"~~~AID"+o)||(s.push(c[t]+"~~~AID"+o),p(c[t]+" - "+e,"AID"+o)))}}if("MAVR"===n.Selector&&n.Choices){const i=n.Choices,o=Object.keys(i);for(let n=0;n<o.length;n++)if(i[o[n]].Selected){const a=i[o[n]].ID;a&&(s.includes(c[t]+"~~~AID"+a)||(s.push(c[t]+"~~~AID"+a),p(c[t]+" - "+e,"AID"+a)))}}if("Likert"===n.Selector&&n.Choices){const i=n.Choices,o=Object.keys(i);for(let n=0;n<o.length;n++){const a=i[o[n]].Selected;if(a&&!s.includes(c[t]+"~~~"+a)){const r=i[o[n]].ID;r&&(s.push(c[t]+"~~~"+a),p(c[t]+" - "+e+" - AID"+r,a))}}}}}setTimeout((function(){document.getElementById("NextButton")||p("Feedback Completed","Survey ID : "+e,0,"cs_qualtrics=feedback_completed_"+e)}),2e3),Qualtrics.SurveyEngine.addOnPageSubmit(b)}),r)}y(),Qualtrics.SurveyEngine.addOnPageSubmit(b)}else if(!0===t&&q.appData&&q.appData.setup&&q.appData.setup.survey&&q.appData.setup.survey.id&&q.appData.session&&q.appData.session.id){const e=q.appData.setup.survey.id,t=q.appData.session.id.replace("FS_","R_");p("Feedback Displayed","Survey ID : "+e);let n=!1;function b(){n||(n=!0,p("Feedback Submitted","Survey ID : "+e,"etr","cs_qualtrics=feedback_submitted_"+e),p("Feedback Response ID",t)),setTimeout((function(){document.getElementById("next-button")||p("Feedback Completed","Survey ID : "+e,0,"cs_qualtrics=feedback_completed_"+e)}),2e3),Qualtrics.SurveyEngine.addOnPageSubmit(b)}Qualtrics.SurveyEngine.addOnPageSubmit(b)}}else if(!e){function C(){const t=_("_cs_id"),n=_("_cs_c"),i=_("_cs_optout");return t+"~"+e+"~"+n+"~"+i}let e;function I(t){function n(){const e=C();localStorage.setItem("CSID",e),CS_CONF.ptcDomain&&(localStorage.setItem("CT_UID",e),sessionStorage.setItem("CT_UID",e)),sessionStorage.setItem("CSID",e)}if(e=_("_cs_s"),e&&e.indexOf(".T.")>-1){const t=setInterval((function(){e=_("_cs_s"),e&&-1===e.indexOf(".T.")&&(clearInterval(t),n())}),500)}else n()}function m(e){I()}window.addEventListener("message",(function(e){const t=e.data;t&&(t.contentsquare_integration&&"qualtrics"===t.vendor&&i((function(){const e=t.contentsquare_integration,n=e.split("."),i=Number(n[n.length-1]),o=new Date(i).toUTCString();if(window.CS_CONF&&CS_CONF.allowSubdomains){const t=f();document.cookie="_cs_s="+g(e)+";expires="+o+";domain="+t+";path=/"}else document.cookie="_cs_s="+g(e)+";expires="+o+";path=/";I()}),r),t.message&&"Contentsquare_QT_Integration_Ready"===t.message&&i((function(){const t={message:"Contentsquare_QT_Integration_Launch",user_values:C()};e.source.postMessage(t,"*")}),r))})),_uxa.push(["afterPageView",function(e){i((function(){m()}),r)}])}}),r)}]);/* integration-adobe-target 3.6.5 */
!function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e){e.exports=JSON.parse('{"name":"@contentsquare/integration-adobe-target-cap","version":"3.6.5","scripts":{"build:snippet":"webpack"}}')},function(e,n,t){"use strict";function r(e,n){try{e()}catch(e){window._uxa=window._uxa||[],_uxa.push(["logSnippetError",n,e.message])}}function i(e){return"object"==typeof e&&null!==e}function a(e,n,t){if((t=t||window)&&n&&e){var r=!1,i=t[e];i?n():Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return i},set:function(e){i=e,r||(r=!0,n())}})}}t.r(n);var o,u=t(0),c=u.name,p=u.version,s=function(e){var n,t,i,a;if(r((function(){var r=e.name;i=e.version;var o=r.replace("@contentsquare/integration-","");n=o+"-"+i;var u="-contentsquare";a=new RegExp(u+"$").test(o),t=o.replace(/-contentsquare([^-contentsquare]*)$/,"$1"),a||(u="-cap",a=new RegExp(u+"$").test(o),t=o.replace(/-cap([^-cap]*)$/,"$1"))}),"Shared-Function-readPackageJSON"),a)return{snippetBuildName:n,parameterName:t,snippetVersion:i}}(u);s&&(o=s.parameterName,c=s.snippetBuildName,p=s.snippetVersion),r((function(){window._uxa=window._uxa||[],CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push("Adobe Target - v"+p);var e=function(e,n){if(i(window.CS_INTEGRATIONS_CONF)&&i(window.CS_INTEGRATIONS_CONF[e]))return window.CS_INTEGRATIONS_CONF[e][n]}(o,"customObjectName");e&&(e=e.trim());var n=[];function t(e){for(var t=0;t<e.length;t++){var r=e[t],i="",a="";r.CampaignName&&r.RecipeName?(i=r.CampaignName,a=r.RecipeName):r.campaign&&r.experience?(i=r.campaign,a=r.experience):r["activity.name"]&&r["experience.name"]&&(i=r["activity.name"],a=r["experience.name"]),n.length&&n.indexOf(i+"~~~~"+a)>-1&&(i="",a=""),i&&a&&(n.push(i+"~~~~"+a),u=a,o="AB_AT_"+(o=i),_uxa.push(["trackDynamicVariable",{key:o,value:u}]))}var o,u}function u(n){e||(e="ttMETA"),function(e,n,t){t=t||window;var r=e.split(".");if(1==r.length)a(e,n,t);else{var i=t,o=0;const e=function(){i=o>0?i[r[o-1]]:window,++o>=r.length?a(r[o-1],n,i):a(r[o-1],e,i)};e()}}(e,(function(){setTimeout((function(){r((function(){t(window[e])}),c)}),500)}))}document.addEventListener("at-request-succeeded",(function(e){e&&e.detail&&e.detail.responseTokens&&t(e.detail.responseTokens)})),_uxa.push(["afterPageView",function(e){r((function(){u()}),c)}])}),c)}]);;
!function(){"use strict";var t={d:function(n,i){for(var r in i)t.o(i,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:i[r]})},o:function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};function i(t,n){var i;return window.Zone&&"function"==typeof window.Zone.__symbol__&&(i=t[window.Zone.__symbol__(n)]),i||(i=t[n]),i}t.r(n),t.d(n,{getRequestParameters:function(){return ch}});var r="cs-native-frame",e={navigatorProperties:[{propertyName:"sendBeacon",binding:navigator}],nodeProperties:["childNodes","parentNode","nextSibling","firstChild"],elementProperties:["shadowRoot"],elementPropertiesValues:["matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],eventProperties:["target"],imageProperties:["src"],constructors:{Date:"csDate",JSON:"csJSON",Array:"csArray",String:"csString",URL:"csURL",MutationObserver:"csMutationObserver",screen:"csScreen",RegExp:"csRegExp"}};function s(t,n,i){var r=function(t,n){for(var i,r=t;r&&!(i=Object.getOwnPropertyDescriptor(r,n));)r=Object.getPrototypeOf(r);return i}(t,n);if(!r)return function(){return this[n]};switch(i){case"get":return r.get;case"set":return r.set;case"value":return r.value}}function o(t){var n,r;Object.keys(e.constructors).forEach((function(n){window[e.constructors[n]]=t[n]instanceof Function&&null==t[n].prototype?t[n].bind(window):t[n]})),function(t){window.csquerySelector={1:t.Element.prototype.querySelector,9:t.Document.prototype.querySelector,11:t.DocumentFragment.prototype.querySelector},window.csquerySelectorAll={1:t.Element.prototype.querySelectorAll,9:t.Document.prototype.querySelectorAll,11:t.DocumentFragment.prototype.querySelectorAll}}(t),("Prototype"in window||/^((?!chrome|android).)*safari/i.test(navigator.userAgent))&&(window.csMutationObserver=null!==(r=null!==(n=i(window,"MutationObserver"))&&void 0!==n?n:window.WebKitMutationObserver)&&void 0!==r?r:window.MutationObserver),u("csNode",e.nodeProperties,t.Node.prototype,"get"),u("csElement",e.elementProperties,t.Element.prototype,"get"),u("csElement",e.elementPropertiesValues,t.Element.prototype,"value",!1),u("csHTMLImageElement",e.imageProperties,t.HTMLImageElement.prototype,"set"),u("csEvent",e.eventProperties,t.Event.prototype,"get"),u("csNavigator",e.navigatorProperties,t.navigator,"value")}function u(t,n,i,r,e){void 0===e&&(e=!0),n.forEach((function(n){var o="string"!=typeof n&&"binding"in n,u=o?n.propertyName:n;(e||u in i)&&(window["".concat(t+u)]=s(i,u,r),o&&(window["".concat(t+u)]=window["".concat(t+u)].bind(n.binding)))}))}function c(t,n){window.CSProtectnativeFunctionsLogs=window.CSProtectnativeFunctionsLogs||{},window.CSProtectnativeFunctionsLogs[t]=n}if(window.csSetTimeout=i(window,"setTimeout"),window.csQueueMicrotask=i(window,"queueMicrotask"),window.csClearTimeout=i(window,"clearTimeout"),window.csSetInterval=i(window,"setInterval"),window.csClearInterval=i(window,"clearInterval"),function(){var t,n=0;function i(t){return"$$"+t+ ++n}i.for=i,window.csSymbol=null!==(t=window.Symbol)&&void 0!==t?t:i}(),!function(){try{var t=function(){var t=document.createElement("iframe");t.id=r,t.setAttribute("hidden",""),t.setAttribute("title","Intentionally blank"),t.setAttribute("sandbox","allow-same-origin");var n=document.createElement("cs-native-frame-holder");if(n.setAttribute("hidden",""),document.body.appendChild(n),Boolean(Element.prototype.attachShadow)){var i=n.attachShadow({mode:"closed"});return i.innerHTML=t.outerHTML,i.firstElementChild.contentWindow}return n.innerHTML=t.outerHTML,n.firstElementChild.contentWindow}();return!!t&&(window.CSPureWindow=t,o(window.CSPureWindow),!0)}catch(t){return c("Warning","failed to copy references from pure iframe: ".concat(t.message)),!1}}())try{o(window)}catch(Fu){c("Critical","failed to copy references from window: ".concat(Fu.message))}var h=function(t,n){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},h(t,n)};function a(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}h(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var f=function(){return f=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},f.apply(this,arguments)};function l(t,n,i,r){var e,s=arguments.length,o=s<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,i,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(o=(s<3?e(o):s>3?e(n,i,o):e(n,i))||o);return s>3&&o&&Object.defineProperty(n,i,o),o}function v(t,n,i,r){return new(i||(i=Promise))((function(e,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function u(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,u)}c((r=r.apply(t,n||[])).next())}))}function d(t,n){var i,r,e,s,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(s){return function(u){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(e=2&s[0]?r.return:s[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,s[1])).done)return e;switch(r=0,e&&(s=[2&s[0],e.value]),s[0]){case 0:case 1:e=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(e=o.trys,(e=e.length>0&&e[e.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!e||s[1]>e[0]&&s[1]<e[3])){o.label=s[1];break}if(6===s[0]&&o.label<e[1]){o.label=e[1],e=s;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(s);break}e[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(t,o)}catch(t){s=[6,t],r=0}finally{i=e=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function y(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function w(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,e,s=i.call(t),o=[];try{for(;(void 0===n||n-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o}function p(t,n,i){if(i||2===arguments.length)for(var r,e=0,s=n.length;e<s;e++)!r&&e in n||(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return t.concat(r||Array.prototype.slice.call(n))}Object.create;function m(t){return g(csString.prototype.toLowerCase.call(t.localName))}function g(t){return csString.prototype.replace.call(t,/([#;&,.+*~':"!^$[\]()<=>|/%?@`{}\\ ])/g,"\\$1")}function S(t){return 1===t.nodeType}function b(t){return 3===t.nodeType}function A(t){return S(t)&&"link"===t.localName}function E(t){return S(t)&&"a"===t.localName}function R(t){return A(t)&&-1!==csString.prototype.indexOf.call(t.rel,"stylesheet")}function T(t){return S(t)&&"style"===t.localName}function O(t){return S(t)&&"input"===t.localName}function N(t){return S(t)&&"textarea"===t.localName}function k(t){return S(t)&&"script"===t.localName}function C(t){return S(t)&&"ownerSVGElement"in t}function I(t){return S(t)&&"select"===t.localName}function _(t){switch(t.nodeType){case 9:case 11:case 1:return!0;default:return!1}}function x(t){return 9===t.nodeType}function P(t){return function(t){switch(t.nodeType){case 9:case 11:return!0;default:return!1}}(t)&&"host"in t&&"mode"in t}function M(t){return S(t)&&!!csElementshadowRoot.apply(t)&&P(csElementshadowRoot.apply(t))}var D=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];var L="detached";function U(t){for(var n=t,i=[n];null!==csNodeparentNode.apply(n);)n=csNodeparentNode.apply(n),csArray.prototype.push.call(i,n);return j(n)&&csArray.prototype.push.call(i,L),{ancestors:i,selectionRoot:n}}function j(t){return W.isValidElement(t)}var q=window.csElementmatches||window.csElementmatchesSelector||window.csElementmozMatchesSelector||window.csElementmsMatchesSelector||window.csElementoMatchesSelector||window.csElementwebkitMatchesSelector;function H(t,n){return!!n&&csArray.prototype.some.call(n,(function(n){return q.call(t,n)}))}var V=[/\d{4}/,/^ember\d+$/],F="data-cs-override-id",B="data-cs-dynamic-id";function z(t,n,i,r){var e=r.dynamicIdRegex||null,s=r.dynamicElementNameRegex,o=m(t);s&&(s.test(t.localName)&&(o=csString.prototype.replace.call(o,s,"$1".concat("@"))));if(function(t,n){var i=G(t);return i&&csString.prototype.match.call(i,/^[\w-]+$/)&&$(F,i,n)}(t,i)){var u=G(t);return{hasUniqueIdentifier:!0,elementSelector:"".concat(o,"[").concat(F,'="').concat(u,'"]')}}var c=function(t,n,i){var r,e;if(!i.uniqueAttributes)return{success:!1};try{for(var s=y(i.uniqueAttributes),o=s.next();!o.done;o=s.next()){var u=o.value,c=t.getAttribute(u);if(null!==c)if($(u,c,n))return{attributeName:u,attributeValue:c,success:!0}}}catch(t){r={error:t}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return{success:!1}}(t,i,r);if(c.success)return{hasUniqueIdentifier:!0,elementSelector:"".concat(o,"#UA[").concat(c.attributeName,'="').concat(c.attributeValue,'"]')};var h=function(t,n,i){var r,e;if(!i.uniqueCssSelectors)return;try{for(var s=y(i.uniqueCssSelectors),o=s.next();!o.done;o=s.next()){var u=o.value;if(q.call(t,u)&&J(u,n))return u}}catch(t){r={error:t}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return}(t,i,r);if(h)return{hasUniqueIdentifier:!0,elementSelector:"".concat(o,"#UCS[").concat(h,"]")};var a=function(t){var n=t.getAttribute("id");return n?g(n):n}(t);if(function(t,n,i,r){return n&&!function(t){return null!==G(t)}(t)&&!function(t,n,i){return t.hasAttribute(B)||function(t,n){var i=!1;t&&n&&(i=n.test(t));return t&&(csArray.prototype.some.call(V,(function(n){return n.test(t)}))||i)}(n,i)}(t,n,r)&&function(t,n){return t&&$("id",t,n)}(n,i)}(t,a,i,e))return{hasUniqueIdentifier:!0,elementSelector:"".concat(o,"#").concat(a)};var f=function(t,n){var i,r;if(!n.reliableSelectors)return;try{for(var e=y(n.reliableSelectors),s=e.next();!s.done;s=e.next()){var o=s.value;if(q.call(t,o))return o}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}return}(t,r);if(f){var l=function(t,n,i){if(t===L||9===t.nodeType)return 0;for(var r=0,e=n.previousElementSibling;e;)q.call(e,i)&&(r+=1),e=e.previousElementSibling;return r}(n,t,f);return{hasUniqueIdentifier:!1,elementSelector:"".concat(o,"[").concat(f,"](").concat(l,")")}}var v=function(t,n,i){if(t===L||9===t.nodeType)return 0;for(var r=i.dynamicElementNameRegex,e=!!(null==r?void 0:r.test(n.localName)),s=m(n),o=0,u=n.previousElementSibling;u;)(m(u)===s||e&&(null==r?void 0:r.test(u.localName)))&&!H(u,i.reliableSelectors)&&(o+=1),u=u.previousElementSibling;return o}(n,t,r);return{hasUniqueIdentifier:!1,elementSelector:"".concat(o,":eq(").concat(v,")")}}function G(t){return t.getAttribute(F)}function $(t,n,i){try{return 1===window.csquerySelectorAll[i.nodeType].call(i,"[".concat(t,'="').concat(n,'"]')).length}catch(t){if("SyntaxError"!==t.name)throw t}return!1}function J(t,n){try{return 1===window.csquerySelectorAll[n.nodeType].call(n,t).length}catch(t){if("SyntaxError"!==t.name)throw t}return!1}var W;function Y(t,n,i){var r=csArray.prototype.shift.call(t);if(0===t.length)return X(r,i);var e=z(r,t[0],n,i),s=e.elementSelector,o=e.hasUniqueIdentifier;if(!i.fullPath&&o){var u=t[t.length-1];return"".concat(X(u,i)).concat(s)}var c=Y(t,n,i);return"".concat(c?"".concat(c,">"):"").concat(s)}function X(t,n){if(t===L)return"|detached|";if(t.host){var i=U(t.host),r=i.ancestors,e=i.selectionRoot;return"".concat(Y(r,e,n),"|shadow-root|")}return 11===t.nodeType?"|fragment|":""}!function(t){function n(t){return!!t&&"localName"in t&&"getAttribute"in t&&"hasAttribute"in t&&"parentNode"in t}function i(t){return t&&"jquery"in t&&1===t.length?t[0]:t}t.INVALID_ELEMENT="INVALID_ELEMENT",t.isValidElement=n,t.getElementPath=function(r,e){void 0===e&&(e={fullPath:!1,dynamicIdRegex:null});var s=i(r);if(s===document)return"";if(!n(s))return t.INVALID_ELEMENT;var o=U(s);return Y(o.ancestors,o.selectionRoot,e)},t.getElementPathAndFirstAnchorParent=function(r,e){void 0===e&&(e={fullPath:!1,dynamicIdRegex:null});var s=i(r);if(s===document)return{path:"",firstAnchorParent:null};if(!n(s))return{path:t.INVALID_ELEMENT,firstAnchorParent:null};var o=function(t){for(var n=t,i=[n],r=null;null!==csNodeparentNode.apply(n);)null===r&&E(n)&&(r=n),csArray.prototype.push.call(i,csNodeparentNode.apply(n)),n=csNodeparentNode.apply(n);return j(n)&&csArray.prototype.push.call(i,L),{firstAnchorParent:r,ancestors:i,selectionRoot:n}}(s),u=o.firstAnchorParent;return{path:Y(o.ancestors,o.selectionRoot,e),firstAnchorParent:u}}}(W||(W={})),window.CSPathComputation=window.CSPathComputation||W;var K=function(t,n){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},K(t,n)};function Q(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}K(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var Z=function(){return Z=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},Z.apply(this,arguments)};function tt(t,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(r=Object.getOwnPropertySymbols(t);e<r.length;e++)n.indexOf(r[e])<0&&Object.prototype.propertyIsEnumerable.call(t,r[e])&&(i[r[e]]=t[r[e]])}return i}function nt(t,n,i,r){var e,s=arguments.length,o=s<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,i,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(o=(s<3?e(o):s>3?e(n,i,o):e(n,i))||o);return s>3&&o&&Object.defineProperty(n,i,o),o}function it(t,n,i,r){return new(i||(i=Promise))((function(e,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function u(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,u)}c((r=r.apply(t,n||[])).next())}))}function rt(t,n){var i,r,e,s,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(u){return function(c){return function(u){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(i=1,r&&(e=2&u[0]?r.return:u[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,u[1])).done)return e;switch(r=0,e&&(u=[2&u[0],e.value]),u[0]){case 0:case 1:e=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(e=o.trys,(e=e.length>0&&e[e.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!e||u[1]>e[0]&&u[1]<e[3])){o.label=u[1];break}if(6===u[0]&&o.label<e[1]){o.label=e[1],e=u;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(u);break}e[2]&&o.ops.pop(),o.trys.pop();continue}u=n.call(t,o)}catch(t){u=[6,t],r=0}finally{i=e=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}Object.create;function et(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function st(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,e,s=i.call(t),o=[];try{for(;(void 0===n||n-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o}function ot(t,n,i){if(i||2===arguments.length)for(var r,e=0,s=n.length;e<s;e++)!r&&e in n||(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return t.concat(r||Array.prototype.slice.call(n))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var ut=Number.MAX_SAFE_INTEGER||9007199254740991;function ct(){}function ht(t,n){return 0===csString.prototype.lastIndexOf.call(t,n,0)}function at(t,n){return-1!==csString.prototype.indexOf.call(t,n,t.length-n.length)}var ft=34164e6,lt={percentage:function(){return Math.floor(1e4*Math.random())/100},boolean:function(t){return this.percentage()<t},integer:function(t){return void 0===t&&(t=ut),Math.floor(Math.random()*t)}},vt=csSymbol("cachedJson");var dt,yt,wt=void 0!==window.Symbol?function(t){if(t[vt])return t[vt];if(csArray.isArray(t)){if(0===t.length)return"[]";for(var n="["+wt(t[0]),i=1;i<t.length;i++)n+=","+wt(t[i]);return n+"]"}return t[vt]=csJSON.stringify(t)}:csJSON.stringify,pt=function(){function t(t){var n,i,r,e,s;this.isSMB=null!==(n=t.isSMB)&&void 0!==n&&n,this.trackerDomain=t.trackerDomain,this.dynamicConfDomain=t.dynamicConfDomain,this.loggerDomain=t.ed,this.minLogLevel=t.logLevel,this.projectId=t.projectId,this.smbConfig=t.smbConfig,this.status=t.status,this.hostnames=t.hostnames,this.iframesTracking=!!t.iframesTracking,this.crossDomainTracking=!!t.crossDomainTracking,this.crossDomainSingleIframeTracking=!!t.crossDomainSingleIframeTracking,this.consentRequired=!!t.consentRequired,this.allowSubdomains=!!t.allowSubdomains,this.visitorCookieTimeout=t.visitorCookieTimeout||ft,this.sampleRate=t.sampleRate,this.replayRecordingRate=t.replayRecordingRate,this.validationRate=t.validationRate,this.lastTrackingDraw=t.lastTrackingDraw||1,this.useHttps=!0,this.eMerchandisingEnabled=t.eMerchandisingEnabled,this.mouseMoveHeatmapEnabled=t.mouseMoveHeatmapEnabled,this.jsErrorsEnabled=t.jsErrorsEnabled,this.apiErrors=Z({enabled:null!==(i=t.apiErrorsEnabled)&&void 0!==i?i:0},t.apiErrors),this.customErrors=Z({enabled:null!==(r=t.customErrorsEnabled)&&void 0!==r?r:0},t.customErrors),this.jsCustomErrorsEnabled=t.jsCustomErrorsEnabled,this.triggerSessionReplayEnabled=t.triggerSessionReplayEnabled,this.triggerSessionReplayRegex=this.t(t.triggerSessionReplayRegex),this.dynamicIdRegex=t.dynamicIdRegex?new csRegExp(t.dynamicIdRegex):null,this.whitelistedAttributes=t.whitelistedAttributes||[],this.replayRecordingUnmaskedUrlRegex=this.t(t.replayRecordingUnmaskedUrlRegex),this.replayRecordingMaskedUrlRegex=this.t(t.replayRecordingMaskedUrlRegex),this.replayRecordingMaskedUrlRegexRules=t.replayRecordingMaskedUrlRegexRules||null,this.replayRecordingUnmaskedUrlRegexRules=t.replayRecordingUnmaskedUrlRegexRules||null,this.anonymisationMethod=t.anonymisationMethod||null,this.tagDeploymentMode=t.tagDeploymentMode,this.dualCollectionTagDomain=t.dualCollectionTagDomain||null,this.ptcDomain=t.ptcDomain||null,this.ptcGuid=t.ptcGuid||null,this.secureCookiesEnabled=!!t.secureCookiesEnabled,this.ptcSha512=t.ptcSha512||null,this.ptcSnapshotPath=t.ptcSnapshotPath||null,this.emitDebugEvents=!1,this.malkaQuotaServiceDomain=t.malkaQuotaServiceDomain||null,this.staticResourceManagerDomain=t.staticResourceManagerDomain||null,this.malkaRecordingDomain=t.malkaRecordingDomain||null,this.textVisibilityEnabled=t.textVisibilityEnabled,this.experimental=t.experimental||{},this.malkaEtrEnabled=!!t.malkaEtrEnabled,this.malkaUrlEnabled=!!t.malkaUrlEnabled,this.cookielessTrackingEnabled=t.cookielessTrackingEnabled,this.customHashIdEnabled=!!t.customHashIdEnabled,this.encryptionEnabled=!!t.recordingEncryptionEnabled,this.encryptionPublicKey=t.recordingEncryptionPublicKey||null,this.pathComputationRules=t.pathComputationRules||{},t.pathComputationRules&&""===t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=null),t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=new csRegExp(t.pathComputationRules.dynamicElementNameRegex)),this.asyncSerializerEnabled=!!t.asyncSerializerEnabled,this.encryptionPublicKeyId=t.recordingEncryptionPublicKeyId,this.pendingInactivityTimeout=t.pendingInactivityTimeout||5e3,this.accessibilityEnabled=!!t.accessibilityEnabled,this.useStaticResourceManager=!!t.useStaticResourceManager,t.taskSchedulerOptions&&(this.taskSchedulerOptions=Z(Z({},t.taskSchedulerOptions),{enabled:!!t.taskSchedulerOptions.enabled})),this.uxaDomain=t.uxaDomain,this.performanceTimingOptions=t.performanceTimingOptions,this.replayConsentRequiredForSession=!!t.replayConsentRequiredForSession,this.isWebView=!1,t.displayAdOptions&&t.displayAdOptions.length&&(this.displayAdOptions=t.displayAdOptions),t.voc&&(this.voc=Z(Z({},t.voc),{enabled:!!t.voc.enabled})),t.heapEnvironment&&(this.heapEnvironment=t.heapEnvironment),t.implementations&&t.implementations.length&&(this.implementations=t.implementations),this.eventsApiEnabled=!!t.eventsApiEnabled,this.anonymizeDigits=null!==(e=t.anonymizeDigits)&&void 0!==e?e:null,this.isHeapPresent=void 0!==window.heap,this.clickedElementTextEnabled=!!t.clickedElementTextEnabled,this.recordTargetingRules=null!==(s=t.recordTargetingRules)&&void 0!==s?s:[]}return t.prototype.getTrackerUri=function(){return"".concat(this.i(),"://").concat(this.trackerDomain)},t.prototype.getRecordingUri=function(){return"".concat(this.i(),"://").concat(this.malkaRecordingDomain)},t.prototype.getLegacyQuotaUri=function(){return"".concat(this.i(),"://").concat(this.malkaQuotaServiceDomain)},t.prototype.getLoggerUri=function(){return"".concat(this.i(),"://").concat(this.loggerDomain)},t.prototype.getStaticResourceManagerUri=function(){return"".concat(this.i(),"://").concat(this.staticResourceManagerDomain)},t.prototype.getQuotaUri=function(){return"".concat(this.i(),"://").concat(this.dynamicConfDomain,"/").concat(this.projectId,".json")},t.prototype.isQuotaEnabled=function(){return this.isSMB&&!!this.dynamicConfDomain},t.prototype.i=function(){return this.useHttps?"https":"http"},t.prototype.isProjectActive=function(){return 1===this.status},t.prototype.processOptionOverrides=function(t){var n=this;t&&t.forEach&&t.forEach((function(t){var i=st(t),r=i[0],e=i.slice(1);if("setOption"===r){var s=st(e,2),o=s[0],u=s[1];n.u(o,u)}}))},t.prototype.u=function(t,n){"trackerDomain"===t&&(this.trackerDomain=n),"loggerDomain"===t&&(this.loggerDomain=n),"malkaRecordingDomain"===t&&(this.malkaRecordingDomain=n),"malkaQuotaServiceDomain"===t&&(this.malkaQuotaServiceDomain=n),"staticResourceManagerDomain"===t&&(this.staticResourceManagerDomain=n),"minLogLevel"===t&&(this.minLogLevel=n),"useHttps"===t&&(this.useHttps=!!n),"isWebView"===t&&(this.isWebView=n)},t.prototype.t=function(t){return t?this.h(t):null},t.prototype.getRequestParameters=function(){return{pid:"".concat(this.projectId)}},t.prototype.updateDynamicFields=function(t,n){"emitDebugEvents"===t&&(this.emitDebugEvents=n),"minLogLevel"===t&&(this.minLogLevel=n)},t.prototype.h=function(t){try{var n=/^\/(.*)\/([gim]*)$/.exec(t);if(n){var i=st(n,3),r=i[1],e=i[2];return new csRegExp("^".concat(r,"$"),e)}return new csRegExp("^".concat(t,"$"))}catch(t){return null}},t.prototype.isHeaderCollectionActive=function(){var t,n;return this.apiErrors.collectStandardHeaders||!!(null===(t=this.apiErrors.validCustomHeaders)||void 0===t?void 0:t.length)||!!(null===(n=this.apiErrors.plainCustomHeaders)||void 0===n?void 0:n.length)},t.prototype.isCsSideloadingHeap=function(){var t;return"cs_sideloads_heap"===(null===(t=this.heapEnvironment)||void 0===t?void 0:t.heap_tag_status)&&!this.isHeapPresent},t.prototype.isHeapSideloadsCs=function(){var t;return"heap_sideloads_cs"===(null===(t=this.heapEnvironment)||void 0===t?void 0:t.heap_tag_status)},t.prototype.isHeapSideloadsCsV5=function(){var t,n,i="function"==typeof(null===(t=window.heap)||void 0===t?void 0:t.getUserId);return"heap_sideloads_cs"===(null===(n=this.heapEnvironment)||void 0===n?void 0:n.heap_tag_status)&&i},t.prototype.isCsCrosswritingHeap=function(){var t;return"cs_crosswrites_heap"===(null===(t=this.heapEnvironment)||void 0===t?void 0:t.heap_tag_status)},t.prototype.isClickedElementTextEnabled=function(){return this.isSMB||this.clickedElementTextEnabled},t.prototype.isNetworkDetailsEnabled=function(){return!!this.performanceTimingOptions&&(this.performanceTimingOptions.withResource||this.performanceTimingOptions.withNavigation)},t.prototype.hasTargetingRules=function(){var t;return!!(null===(t=this.recordTargetingRules)||void 0===t?void 0:t.length)},t}(),mt=function(){function t(t,n){this.S=t,this.A=n}return t.prototype.init=function(){this.R=this.S!==this.S.top,this.T=this.A.isWebView&&this.S===this.S.top,this.A.iframesTracking&&this.R||this.T?this.O=!1:this.O=!0},t.prototype.isInIframeContext=function(){return this.R},t.prototype.isTopWindowTracker=function(){return this.O},t.prototype.isInWebViewContext=function(){return this.T},t}();!function(t){t.debug="debug",t.warn="warn",t.error="error",t.critical="critical"}(dt||(dt={})),function(t){t.toQuery=function(t){return csArray.prototype.join.call(csArray.prototype.map.call(Object.keys(t),(function(n){return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(t[n]))})),"&")}}(yt||(yt={}));var gt,St=function(){function t(t,n){this.domainUri=t,this.path=n,this.beforeRequestCallbacks=[],this.afterRequestCallbacks=[]}return t.prototype.setRequestParametersProviders=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.requestParametersProviders=t},t.prototype.before=function(t){csArray.prototype.push.call(this.beforeRequestCallbacks,t)},t.prototype.after=function(t){csArray.prototype.push.call(this.afterRequestCallbacks,t)},t.prototype.retrieveParameters=function(){return this.requestParametersProviders?csArray.prototype.reduce.call(csArray.prototype.map.call(this.requestParametersProviders,(function(t){return t.getRequestParameters()})),(function(t,n){return Z(Z({},t),n)})):{}},t}(),bt=function(t){function n(n,i){return t.call(this,n,i)||this}return Q(n,t),n.prototype.send=function(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,(function(t){return t()}));var t=this.retrieveParameters();this.N(t);var n=yt.toQuery(t);this.C(n),csArray.prototype.forEach.call(this.afterRequestCallbacks,(function(t){return t()}))},n.prototype.C=function(t){var n=new window.Image(1,1);n.onload=ct,n.onerror=ct,csHTMLImageElementsrc.call(n,"".concat(this.domainUri).concat(this.path?"/".concat(this.path):"","?").concat(t))},n.prototype.N=function(t){t.r=csString.prototype.slice.call("".concat(Math.random()),2,8)},n}(St),At=function(){function t(t,n){this.I=t,this.P=n}return t.prototype.init=function(){this.M=new bt(this.I.getLoggerUri()),this.M.setRequestParametersProviders(this,this.P)},t.prototype.send=function(t){this.D=t,this.M.send()},t.prototype.getRequestParameters=function(){return{a:this.D.app,l:this.D.level,m:this.D.message,s:this.D.stacktrace}},t}(),Et=/[a-zA-Z0-9._%+-]+(?:@|%40|%2540)[a-zA-Z0-9.%-_]+((?:\.|%2[eE])[a-zA-Z0-9-]+)+/g,Rt=/[a-zA-Z0-9+_-](?:@|%40|%2540)/,Tt="([-A-Za-z0-9+/=_]|=[^=]|={3,})+",Ot=new csRegExp("(ey".concat(Tt,"\\.ey").concat(Tt,"\\.").concat(Tt,")"),"g"),Nt=/[0-9]{4}/,kt=/(^|[^a-zA-Z0-9*.,-])([45*][0-9*]{3}([ -]?)[0-9*]{4}\3[0-9*]{4}\3[0-9*]{4})($|[^a-zA-Z0-9*.,-])/g,Ct=/\d/g,It=/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/,_t=/(?:\d{1,3}\.){3}\d{1,3}/,xt=/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/;!function(t){t.replaceEmail=function(t){return csString.prototype.replace.call(t,Et,"CS_ANONYMIZED_EMAIL")},t.replaceJWT=function(t){return csString.prototype.replace.call(t,Ot,"CS_ANONYMIZED_JWT")},t.replaceCreditCardNumber=function(t,n){return csString.prototype.replace.call(t,kt,n)},t.replaceDigits=function(t){return csString.prototype.replace.call(t,Ct,"•")},t.mayHaveIPAddress=function(t){return _t.test(t)||xt.test(t)},t.mayHaveNumberSequence=function(t){return It.test(t)},t.mayHaveCreditCardNumber=function(t){return Nt.test(t)},t.mayHaveEmail=function(t){return Rt.test(t)}}(gt||(gt={}));var Pt=function(){function t(){}return t.prototype.hasPII=function(t,n){return t!==this.checkAndAnonymizePII(t,n)},t.prototype.checkAndAnonymizePII=function(t,n){void 0===n&&(n=null);var i=this.anonymizeCreditCard(this.anonymizeEmail(t));return!0===n?i=this.anonymizeAllDigits(i):!1===n&&(i=this.anonymizeNumberSequence(i)),i},t.prototype.anonymizePII=function(t){return"string"==typeof t&&(t=this.anonymizeEmail(t)),t},t.prototype.anonymizeEmail=function(t){return gt.mayHaveEmail(t)?gt.replaceEmail(t):t},t.prototype.anonymizeAllDigits=function(t){return gt.replaceDigits(t)},t.prototype.anonymizeNumberSequence=function(t){return gt.mayHaveNumberSequence(t)?gt.replaceDigits(t):t},t.prototype.anonymizeCreditCard=function(t){var n=this;return gt.mayHaveCreditCardNumber(t)?gt.replaceCreditCardNumber(t,(function(t,i,r,e,s){if(-1===csString.prototype.indexOf.call(r,"*")){var o=e.length?csArray.prototype.join.call(csString.prototype.split.call(r,e),""):r;if(!n.L(o))return t}return"".concat(i).concat("CS_ANONYMIZED_PII").concat(s)})):t},t.prototype.L=function(t){for(var n=parseInt(t[t.length-1]),i=0,r=t.length-2;r>=0;r--){var e=parseInt(t[r]);r%2==0&&(e*=2),i+=Math.floor(e/10)+e%10}return 10-i%10===n},t.prototype.anonymizeJwt=function(t){return gt.replaceJWT(t)},t.prototype.anonymizeFields=function(t,n){var i=this;return csArray.prototype.forEach.call(n,(function(n){t[n]=i.anonymizeEmail(t[n])})),t},t}(),Mt="15.39.3";function Dt(){return{v:Mt}}function Lt(t){return Vt(t)&&("number"==typeof t||t instanceof Number)&&!isNaN(t)}function Ut(t){return t===parseInt(t,10)}function jt(t){return Vt(t)&&("string"==typeof t||t instanceof csString)}function qt(t){return"boolean"==typeof t}function Ht(t){return"object"==typeof t}function Vt(t){return void 0!==t}function Ft(t){return Vt(t)&&null!==t}function Bt(t){return"function"==typeof t}function zt(t){return t instanceof Element}function Gt(t){return t instanceof Error}function $t(t){for(var n=t.length,i=0;i<n;i++)switch(csString.prototype.charCodeAt.call(t,i)){case 9:case 10:case 11:case 12:case 13:case 32:case 160:continue;default:return!1}return!0}var Jt="undefined"!=typeof performance&&performance.now,Wt=Jt?function(){return performance.now()}:csDate.now,Yt=Jt?performance.timing.navigationStart:0,Xt=function(){return Math.round(Wt()+Yt)},Kt=function(){return Wt()};function Qt(){return Math.floor(Xt()/1e3)}function Zt(){return"function"==typeof window.Promise}function tn(){var t,n;return"function"==typeof(null===(t=window.navigation)||void 0===t?void 0:t.addEventListener)&&"function"==typeof(null===(n=window.navigation)||void 0===n?void 0:n.removeEventListener)}function nn(t,n){return 0===csString.prototype.lastIndexOf.call(t,n,0)}function rn(t,n){return-1!==csString.prototype.indexOf.call(t,n,t.length-n.length)}var en,sn,on=function(){function t(t,n){this.U=t,this.j=n}return t.prototype.getRequestParameters=function(){return Z(Z({d:"".concat(Xt()),p:this.j.anonymizePII(window.location.href)},this.U.getRequestParameters()),Dt())},t}(),un="snippet-",cn="implementation-snippet-";!function(t){t.IMPLEMENTATION="implementation",t.DYNAMIC="dynamic"}(en||(en={})),function(t){t[t.debug=0]="debug",t[t.warn=1]="warn",t[t.error=2]="error",t[t.critical=3]="critical"}(sn||(sn={}));var hn=function(){function t(t,n,i){var r;this.q=n,this.j=new Pt,this.H=sn[dt.warn],this.H=sn[t.minLogLevel||dt.warn],this.M=i||new At(t,new on(t,this.j)),this.V=((r={})[dt.debug]=[],r[dt.warn]=[],r[dt.error]=[],r[dt.critical]=[],r),this.F={implementation:{},dynamic:{}},this.M.init()}return t.prototype.send=function(t,n,i){if(void 0===n&&(n=""),void 0===i&&(i=dt.warn),this.B(i,n)){csArray.prototype.push.call(this.V[i],n||"");var r={message:this.G(t,n),stacktrace:this.J(t),app:"uxa",level:i};this.M.send(r)}},t.prototype.G=function(t,n){var i=Gt(t)?this.j.anonymizePII(t.message||t.toString()):t;return n&&(i+=" ErrorCode: ".concat(n)),i},t.prototype.J=function(t){return Gt(t)?"".concat(t.stack||"No stacktrace"," ").concat(this.W()):this.W()},t.prototype.W=function(){var t=this.q.getVisitorService(),n=null==t?void 0:t.getVisitor();if(!n)return"No context";var i=this.q.getSessionService(),r=i&&i.getSession(),e={userId:n.id,sessionNumber:n.visitsCount,pageNumber:r&&r.pageNumber};return csJSON.stringify(e)},t.prototype.B=function(t,n){if(sn[t]<this.H)return!1;if(0===(null==n?void 0:csString.prototype.indexOf.call(n,cn,0)))return this.Y(n,en.IMPLEMENTATION);if(0===(null==n?void 0:csString.prototype.indexOf.call(n,un,0)))return this.Y(n,en.DYNAMIC);var i=this.V[t];return!(i.length>=5)&&(!n||!csArray.prototype.some.call(i,(function(t){return t===n})))},t.prototype.Y=function(t,n){return t in this.F[n]?!(this.F[n][t]>=5)&&(this.F[n][t]+=1,!0):(this.F[n][t]=1,!0)},t}(),an="undefined"==typeof window,fn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:process;var ln=!an&&document.createElement("a"),vn=/(:443|:80)$/;function dn(t){return ln?(ln.href=t,ln.href):""}function yn(t,n){return new csURL(t,n).href}function wn(t){var n=gn(t);return null===n?"":decodeURIComponent(n.hostname)}function pn(t,n){return csArray.prototype.some.call(n,(function(n){return rn(t,".".concat(n))||t===n||""===n}))}function mn(t){return csString.prototype.replace.call(t,vn,"")}function gn(t){return ln&&(nn(t,"http://")||nn(t,"https://"))?(ln.href=t,{hash:ln.hash,host:mn(ln.host),hostname:ln.hostname,href:ln.href,origin:ln.origin?ln.origin:mn("".concat(ln.protocol,"//").concat(ln.host)),pathname:(n=ln.pathname,"/"===n[0]?n:"/".concat(n)),port:ln.port,protocol:ln.protocol,search:ln.search}):null;var n}var Sn,bn,An,En,Rn="CS_IFRAME_MESSAGE";!function(t){t.AfterPageView="afterPageView",t.GetSessionKey="getSessionKey"}(Sn||(Sn={})),function(t){t.Parent="parent",t.Child="child"}(bn||(bn={})),function(t){t.Discovery="discovery",t.Stop="stop",t.RecordingContext="recordingContext",t.SensitiveStatus="sensitiveStatus",t.RecordingEvent="recordingEvent",t.EndOfBufferedMessages="endOfBufferedMessages",t.ChildLogMessage="childLogMessage",t.AnalysisEvent="analysisEvent",t.JavascriptError="javascriptError",t.ApiError="apiError",t.Assets="assets",t.DetailedApiError="detailedApiError",t.EmerchandisingMessage="emerchandisingMessage",t.Commands="commands",t.IntegrationCallback="integrationCallback",t.StaticResource="staticResource",t.TrackingContextResultMessage="trackingContextResultMessage",t.TrackingContextRequestMessage="trackingContextRequestMessage",t.CustomError="customError"}(An||(An={})),function(t){t.buildBaseMessage=function(t,n,i,r){var e={type:t,from:n,pid:i,signature:Rn};return void 0!==r&&r>=0&&(e.id=r),e},t.isMessageValid=function(t,n,i,r){var e=wn(t.origin);return!!t.data&&!!t.data.type&&t.data.signature===Rn&&t.data.from===n&&t.data.pid===i&&pn(e,r)},t.sendPostMessage=function(t,n,i,r){r?t.postMessage(i,n,r):t.postMessage(i,n)},t.getNewChannelMessage=function(){return new MessageChannel},t.sendChannelMessage=function(t,n){t.postMessage(n)},t.closeChannelPort=function(t){t.close()}}(En||(En={}));var Tn=function(){function t(t){this.U=t}return t.prototype.send=function(t,n,i){void 0===n&&(n=""),void 0===i&&(i=dt.warn);var r={message:t,errorCode:n,level:i},e=En.buildBaseMessage(An.ChildLogMessage,bn.Child,this.U.projectId);e.content=r,En.sendPostMessage(window.parent,"*",e)},t}(),On=function(){function t(){}return t.prototype.setContext=function(t,n){this.X=t,this.K=n},t.prototype.getVisitorService=function(){return this.X},t.prototype.getSessionService=function(){return this.K},t}(),Nn=["t.contentsquare.net","clicktale"];window.addEventListener("error",(function(t){"string"!=typeof t.filename||!csArray.prototype.some.call(Nn,(function(n){return csString.prototype.indexOf.call(t.filename,n)>-1}))||csString.prototype.indexOf.call(t.filename,"blob")>-1&&(null==t.message?void 0:csString.prototype.indexOf.call(t.message,"importScripts"))>-1||kn.critical("Uncaught jsError: filename: ".concat(t.filename," - lineno: ").concat(t.lineno," - colno: ").concat(t.colno," - message: ").concat(t.message," "))}));var kn=function(){function t(){}return t.whiteListFilename=function(t){csArray.prototype.push.call(Nn,t)},t.setStrategy=function(n){t.Z=n},t.computeIsActive=function(n){t.tt=lt.boolean(n),t.tt?t.nt=lt.boolean(10):t.nt=!1},t.isLoggingActive=function(){return t.tt},t.getStrategy=function(){return t.Z},t.debug=function(n,i){void 0===i&&(i=""),t.tt&&this.Z.send(n,i,dt.debug)},t.warn=function(n,i,r){var e;void 0===i&&(i=!0),void 0===r&&(r=""),t.tt&&i&&this.Z.send(n,r,dt.warn),null===(e=window.UXAnalytics.Console)||void 0===e||e.warn(n)},t.error=function(n,i){var r;void 0===i&&(i=""),t.tt&&this.Z.send(n,i,dt.error),null===(r=window.UXAnalytics.Console)||void 0===r||r.error(n)},t.critical=function(t,n){void 0===n&&(n=""),this.Z.send(t,n,dt.critical)},t.tryToExecute=function(t,n){var i=this;return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];try{var s=n.apply(void 0,ot([],st(r),!1));return Vt(window.Promise)&&s instanceof window.Promise?s.then((function(t){return t}),(function(n){return i.error(n,t)})):s}catch(n){try{i.error(n,t)}catch(t){}}}},t.isPerfLoggingActive=function(){return t.nt},t.tt=!1,t.nt=!1,t}(),Cn=function(t,n){return Cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Cn(t,n)};function In(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Cn(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var _n=function(){return _n=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var e in n=arguments[i])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},_n.apply(this,arguments)};function xn(t,n,i,r){var e,s=arguments.length,o=s<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,i,r);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(o=(s<3?e(o):s>3?e(n,i,o):e(n,i))||o);return s>3&&o&&Object.defineProperty(n,i,o),o}function Pn(t,n,i,r){return new(i||(i=Promise))((function(e,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function u(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,u)}c((r=r.apply(t,n||[])).next())}))}function Mn(t,n){var i,r,e,s,o={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(u){return function(c){return function(u){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(i=1,r&&(e=2&u[0]?r.return:u[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,u[1])).done)return e;switch(r=0,e&&(u=[2&u[0],e.value]),u[0]){case 0:case 1:e=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(e=o.trys,(e=e.length>0&&e[e.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!e||u[1]>e[0]&&u[1]<e[3])){o.label=u[1];break}if(6===u[0]&&o.label<e[1]){o.label=e[1],e=u;break}if(e&&o.label<e[2]){o.label=e[2],o.ops.push(u);break}e[2]&&o.ops.pop(),o.trys.pop();continue}u=n.call(t,o)}catch(t){u=[6,t],r=0}finally{i=e=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}Object.create;function Dn(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ln(t,n){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,e,s=i.call(t),o=[];try{for(;(void 0===n||n-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o}function Un(t,n,i){if(i||2===arguments.length)for(var r,e=0,s=n.length;e<s;e++)!r&&e in n||(r||(r=Array.prototype.slice.call(n,0,e)),r[e]=n[e]);return t.concat(r||Array.prototype.slice.call(n))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var jn={debug:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},warn:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},error:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},critical:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]},isPerfLoggingActive:function(){return!1}};var qn=function(t){return function(n,i,r){var e=(null==i?void 0:i.toString())||"",s=t||"".concat(n.constructor&&n.constructor.name,".").concat(e);if(r){var o=r.value;r.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Hn(s,o.bind(this)).apply(void 0,Un([],Ln(t),!1))}}}};function Hn(t,n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];try{var e=n.apply(void 0,Un([],Ln(i),!1));return Vt(window.Promise)&&e instanceof window.Promise?e.then((function(t){return t}),(function(n){return jn.error(n,t)})):e}catch(n){try{jn.error(n,t)}catch(t){}}}}var Vn=!1;function Fn(){return function(t,n,i){var r=i.value;i.value=function(t,n){!1===(null==t?void 0:t.isTrusted)&&Vn||r.call(this,t,n)}}}var Bn=function(){function t(){this.it=0}return Object.defineProperty(t.prototype,"length",{get:function(){return this.it},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!this.et},enumerable:!1,configurable:!0}),t.prototype.pushAll=function(t){for(var n=0;n<t.length;n++)this.push(t[n])},t.prototype.push=function(t){this.it++,this.st?this.st=this.st[1]=[t,void 0]:this.st=this.et=[t,void 0]},t.prototype.pop=function(){if(!this.et)return null;this.it--;var t=this.et[0];return this.et=this.et[1],this.et||(this.st=void 0),t},t.prototype.forEach=function(t){for(var n=this.et;null==n?void 0:n.length;)t(n[0]),n=n[1]},t.prototype.clear=function(){this.it=0,this.et=this.st=void 0},t}(),zn=50,Gn=.1;var $n=!1,Jn=new Bn;var Wn=[],Yn=[];function Xn(t){csArray.prototype.push.call(Wn,t),performance.mark("".concat(t,"-start"))}function Kn(t){var n=performance.measure(t,"".concat(t,"-start"));if(n){var i=n.duration;i>=Gn&&csArray.prototype.push.call(Yn,{mName:t,mDuration:+i.toFixed(2)}),csArray.prototype.pop.call(Wn),0===Wn.length&&(i>zn&&Jn.push(Yn),Yn=[])}}function Qn(t,n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(!$n)return t.apply(this,i);Xn(n);var e=t.apply(this,i);return Kn(n),e}}var Zn,ti,ni,ii,ri=function(t){return function(n,i,r){var e=r.value;r.value=function(){if(!$n)return r.value=e,e.apply(this,arguments);Xn(t);var n=e.apply(this,arguments);return Kn(t),n}}};!function(t){function n(t){var n=new csRegExp("(^|;)[ ]*".concat(t,"=([^;]*)")).exec(document.cookie);return n?decodeURIComponent(n[2]):null}function i(n,i,e,s,o,u){var c=encodeURIComponent("".concat(i)),h=e===t.CURRENT_DOMAIN?void 0:e,a=r(s),f=a?";expires=".concat(a.toUTCString()):"",l=Ft(h)?";domain=".concat(h):"",v="".concat(n,"=").concat(c).concat(f).concat(";path=/").concat(l);return Vt(o)&&o!==ni.NotSet&&(v="".concat(v,";SameSite=").concat(o)),Vt(u)&&u===ii.Yes&&(v="".concat(v,";Secure")),document.cookie=v,!0}function r(t){return Lt(t)?new csDate(Xt()+t):t}function e(t,r){n(t)&&i(t,"",r,new csDate(0)),n(t)&&i(t,"",r,new csDate(0),ni.None,ii.Yes)}t.CURRENT_DOMAIN="CURRENT_DOMAIN",t.get=n,t.set=i,t.toExpireDate=r,t.remove=e,t.isCookiePresent=function(){return document.cookie.length>0},t.getRootDomain=function(t,r){var s="_cs_root-domain",o=n(s);if(null!==o&&"1"!==o)return o;for(var u=csString.prototype.split.call(window.location.hostname,"."),c=csArray.prototype.pop.call(u);u.length&&(null===o||"1"===o);)i(s,c=csArray.prototype.join.call([csArray.prototype.pop.call(u),c],"."),c,void 0,t,r),o=n(s);return e(s,c),c}}(Zn||(Zn={})),function(t){t.browserIsSafariV12=function(){return window.navigator.vendor&&csString.prototype.indexOf.call(window.navigator.vendor,"Apple")>-1&&window.navigator.appVersion&&csString.prototype.indexOf.call(window.navigator.appVersion,"Version/12.")>-1}}(ti||(ti={})),function(t){t.None="None",t.Lax="Lax",t.NotSet="X"}(ni||(ni={})),function(t){t[t.Yes=1]="Yes",t[t.No=0]="No"}(ii||(ii={}));var ei=function(){function t(t,n,i){this.U=t,this.ot=n,this.ut=i,this.ht=!1,this.ft=ni.NotSet,this.lt=ii.No}return t.prototype.getSameSiteFlag=function(){return this.ft},t.prototype.getSecureFlag=function(){return this.lt},t.prototype.getDomain=function(){return this.vt},t.prototype.getRootDomain=function(){return this.yt},t.prototype.init=function(){if(!this.U.cookielessTrackingEnabled){var t=this.wt(),n=this.gt();this.ht=this.St(t,n),this.ht?(this.ft=t,this.lt=n):this.U.secureCookiesEnabled&&"https:"===this.ot.getUrlProtocol()&&(this.lt=ii.Yes),this.yt=this.bt(),this.vt=this.At(this.yt)}},t.prototype.St=function(n,i){return!ti.browserIsSafariV12()&&(Zn.set(t.COOKIE_TEST_FOR_SAME_SITE,"Test same site",t.CURRENT_DOMAIN,void 0,n,i),!!Zn.get(t.COOKIE_TEST_FOR_SAME_SITE)&&(Zn.remove(t.COOKIE_TEST_FOR_SAME_SITE,t.CURRENT_DOMAIN),!0))},t.prototype.wt=function(){return"http:"===this.ot.getUrlProtocol()?ni.Lax:this.ut.isSameSiteNoneSecureNeeded()||this.U.crossDomainTracking?ni.None:ni.Lax},t.prototype.gt=function(){return"http:"===this.ot.getUrlProtocol()?ii.No:this.U.secureCookiesEnabled||this.U.crossDomainTracking||this.ut.isSameSiteNoneSecureNeeded()?ii.Yes:ii.No},t.prototype.isSameSiteSupported=function(){return this.ht},t.prototype.set=function(t,n,i){var r=Zn.toExpireDate(i);Zn.set(t,n,this.vt,r,this.getSameSiteFlag(),this.getSecureFlag())},t.prototype.get=function(t){var n=new csRegExp("(^|;)[ ]*".concat(t,"=([^;]*)")).exec(document.cookie);return n?decodeURIComponent(n[2]):null},t.prototype.delete=function(t,n){var i=n||this.vt;Zn.remove(t,i)},t.prototype.bt=function(){var t=this.ut.isSameSiteNoneSecureNeeded()&&this.isSameSiteSupported(),n=t?ni.None:void 0,i=t?ii.Yes:void 0;return Zn.getRootDomain(n,i)},t.prototype.At=function(t){return this.U.allowSubdomains?t:Zn.CURRENT_DOMAIN},t.CURRENT_DOMAIN="CURRENT_DOMAIN",t.COOKIE_TEST_FOR_SAME_SITE="_cs_same_site",t}(),si="_cs_t",oi=function(){function t(t,n){this.Et=t,this.U=n,this.Rt=!1,this.Tt=!1}return t.prototype.init=function(){if(!this.U.cookielessTrackingEnabled&&this.Et.isTopWindowTracker()&&"cookie"in document){if(!this.Et.isInIframeContext()&&Zn.isCookiePresent())return this.Rt=!0,void(this.Tt=!1);if(Zn.set(si,"1",Zn.CURRENT_DOMAIN),null!==Zn.get(si))return this.Rt=!0,this.Tt=!1,void Zn.remove(si,Zn.CURRENT_DOMAIN);Zn.set(si,"1",Zn.CURRENT_DOMAIN,void 0,ni.None,ii.Yes),null!==Zn.get(si)&&(this.Rt=!0,this.Tt=!0,Zn.remove(si,Zn.CURRENT_DOMAIN))}},t.prototype.areCookiesEnabled=function(){return this.Rt},t.prototype.isSameSiteNoneSecureNeeded=function(){return this.Tt},t}();var ui,ci=function(){function t(t,n){this.U=t,this.ut=n}return t.prototype.canTrack=function(){return this.U.isProjectActive()&&this.Ot()&&this.Nt()&&this.kt()},t.prototype.canTrackInChild=function(){return this.U.isProjectActive()&&this.Ct()&&(this.Nt()||this.It())},t.prototype.kt=function(){return this.U.cookielessTrackingEnabled?function(){var t="CSSessionStorageTest";try{return sessionStorage.setItem(t,t),sessionStorage.getItem(t)===t&&(sessionStorage.removeItem(t),!0)}catch(t){return!1}}():this.ut.areCookiesEnabled()},t.prototype.Nt=function(){return pn(window.location.hostname,this.U.hostnames)},t.prototype.Ot=function(){return!this._t()&&this.xt()},t.prototype.Ct=function(){return!this._t()&&this.Pt()},t.prototype.It=function(){return ht(window.location.href,"about:srcdoc")&&"about:"===window.location.protocol&&""===window.location.hostname},t.prototype._t=function(){return"visibilityState"in document&&"prerender"===document.visibilityState},t.prototype.xt=function(){return this.Mt()&&this.Dt()},t.prototype.Pt=function(){return this.Mt()},t.prototype.Dt=function(){try{return!!window.localStorage}catch(t){return!1}},t.prototype.Mt=function(){return"pageXOffset"in window&&"pageYOffset"in window&&"onpagehide"in window&&"JSON"in window&&"parse"in window.csJSON&&"stringify"in window.csJSON&&"addEventListener"in window&&"removeEventListener"in window&&"Node"in window&&"filter"in csArray.prototype&&"forEach"in csArray.prototype&&"querySelectorAll"in document&&"now"in csDate&&"keys"in Object&&"performance"in window&&"Map"in window&&"Set"in window},t}(),hi=function(){function t(t){var n=this;this.Lt=!1,this.Ut=new Map,this.jt=new Map,this.qt=new Map,this.Ht="CS_WORKER_SIGNATURE";var i="\n    const algorithm = ".concat(t.algorithm,";\n    const compressor = (").concat(t.getCompressorSourceCode(),")();\n    ").concat('!function(){"use strict";var e,t=function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};function r(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))}function n(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(e){e.UNCOMPRESSED="0",e.GZIP="2"}(e||(e={}));var o,a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},s=function(){function r(e){var t,r=this;this.queryParams={},this.headers={},this.handleRecoveredRequests=function(e){var t,n;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),a=o.next();!a.done;a=o.next()){var s=a.value,i=s.metadata,c=s.events;r.send(c,i)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},this.endpoint=e.endpoint,this.compressionOpts=e.compressionOpts,this.recoveryStorage=e.recoveryStorage,this.mandatoryParameters=null!==(t=e.mandatoryParameters)&&void 0!==t?t:[],this.worker=!!e.worker,this.recoveryStorage&&this.recoveryStorage.recover(this.handleRecoveredRequests)}return r.prototype.setQueryParams=function(e){var t=this;Object.keys(e).forEach((function(r){t.queryParams[r]=e[r]}))},r.prototype.removeQueryParams=function(e){var t=this;e?e.forEach((function(e){delete t.queryParams[e]})):this.queryParams={}},r.prototype.send=function(r,n){var o=this,s=n||t({},this.queryParams),i=!("ct"in s),c="string"!=typeof r&&!this.isArrayBuffer(r);"ct"in s||(this.compressionOpts&&i?s.ct=this.compressionOpts.compressionType:s.ct=e.UNCOMPRESSED);var u=c?JSON.stringify(r):r,h=Object.keys(s).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(s[e]))})).join("&"),f="".concat(this.endpoint,"?").concat(h);!function(e,t){for(var r=e.length,n=0;n<r;n++)if(t(e[n],n))return!0;return!1}(this.mandatoryParameters,(function(e){return null==s[e]}))?this.compressionOpts&&i&&"string"==typeof u?this.compressionOpts.compressor(u,this.compressionOpts.compressionOutputType,(function(e){return o.doSend(f,s,e)})):this.doSend(f,s,u):a("[".concat(this.worker?"WORKER":"MAIN","] All mandatory parameters are not present on ").concat(f))},r.prototype.onLoad=function(e){this.onLoadCallback=e},r.prototype.onError=function(e){this.onErrorCallback=e},r.prototype.onTimeout=function(e,t){this.onTimeoutCallback=e,this.timeout=t},r.prototype.abort=function(){this.abortCurrentXhrCall&&this.abortCurrentXhrCall()},r.prototype.setRequestHeader=function(e,t){this.headers[e]=t},r.prototype.getQueryParams=function(){return this.queryParams},r.prototype.isArrayBuffer=function(e){return e&&void 0!==e.byteLength},r.prototype.doSend=function(e,t,r){var n=this,o=new XMLHttpRequest,a=Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).join("&");o.open("POST",e),o.onload=function(){if(n.recoveryStorage&&n.recoveryStorage.recover(n.handleRecoveredRequests),n.onLoadCallback){var e={params:t,responseText:o.responseText,status:o.status};n.onLoadCallback(e)}},o.onerror=function(){n.recoveryStorage&&n.recoveryStorage.save({key:a,metadata:t,events:r}),n.onErrorCallback&&n.onErrorCallback({params:t})},this.timeout&&this.onTimeoutCallback&&(o.timeout=this.timeout,o.ontimeout=function(){n.onTimeoutCallback()}),this.abortCurrentXhrCall=function(){return o.abort()},Object.keys(this.headers).forEach((function(e){o.setRequestHeader(e,n.headers[e])})),o.send(r)},r}(),i=function(){function e(e){this.maxStoredBytes=e,this.storageBytesUsed=0}return e.prototype.addString=function(e){this.storageBytesUsed+=2*e.length},e.prototype.addArrayBuffer=function(e){this.storageBytesUsed+=e.byteLength},e.prototype.isThresholdReached=function(){return this.storageBytesUsed>this.maxStoredBytes},e.prototype.reset=function(){this.storageBytesUsed=0},e}(),c=function(){function e(e){this.ramStorage={},this.byteSizeCounter=new i(e)}return e.prototype.save=function(e){var t=e.key,r=e.metadata,n=e.events;this.byteSizeCounter.isThresholdReached()||(this.byteSizeCounter.addString(t),"string"==typeof n?this.byteSizeCounter.addString(n):this.byteSizeCounter.addArrayBuffer(n),this.byteSizeCounter.isThresholdReached()||(this.ramStorage[t]={metadata:r,events:n}))},e.prototype.recover=function(e){var t=this,r=[];this.getStorageKeys().forEach((function(e){var n=t.ramStorage[e];void 0!==n&&(delete n.metadata.datatype,r.push(n),t.removeItem(e))})),0!==r.length&&(e(r),this.byteSizeCounter.reset())},e.prototype.getStorageKeys=function(){return Object.keys(this.ramStorage)},e.prototype.removeItem=function(e){delete this.ramStorage[e]},e}();!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",e[e.OPEN_FAILED=2]="OPEN_FAILED",e[e.READY=3]="READY"}(o||(o={}));var u=function(){function e(e,t,r){this.storageName=e,this.onOpenError=r,this.cacheState=o.NOT_STARTED,this.toBeSavedBuffer=[],this.recoveryInProgress=0,this.origin=self.origin,this.context="object"==typeof window?"":"worker-",this.byteSizeCounter=new i(t),this.init()}return e.prototype.init=function(){return r(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.openCache()];case 1:return e.sent(),this.cacheState===o.READY?this.flushToBeSavedBuffer():this.onOpenError(this.toBeSavedBuffer),[2]}}))}))},e.prototype.flushToBeSavedBuffer=function(){var e=this;this.toBeSavedBuffer.forEach((function(t){e.save(t)})),this.toBeSavedBuffer=[]},e.prototype.save=function(e){return r(this,void 0,void 0,(function(){var t,r,a;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.cacheState===o.OPEN_IN_PROGRESS?(this.toBeSavedBuffer.push(e),[2]):this.cacheState!==o.READY||this.byteSizeCounter.isThresholdReached()?[2]:(t=e.key,r=e.metadata,a=e.events,this.byteSizeCounter.addString(t),"string"==typeof a?this.byteSizeCounter.addString(a):this.byteSizeCounter.addArrayBuffer(a),this.byteSizeCounter.isThresholdReached()?[2]:[4,this.cache.put("".concat(this.origin,"/").concat(t),new Response(a,{headers:r}))]);case 1:case 2:return n.sent(),[3,3];case 3:return[2]}}))}))},e.prototype.recover=function(e){return r(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return this.cache?[3,2]:[4,this.openCache()];case 1:if(t.sent(),this.cacheState!==o.READY)return[2];t.label=2;case 2:return this.doRecover(e),[2]}}))}))},e.prototype.openCache=function(){return r(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.cacheState=o.OPEN_IN_PROGRESS,e=this,[4,self.caches.open("".concat(this.context).concat(this.storageName))];case 1:return e.cache=t.sent(),this.cacheState=o.READY,[3,3];case 2:return t.sent(),this.cacheState=o.OPEN_FAILED,[3,3];case 3:return[2]}}))}))},e.prototype.doRecover=function(e){return r(this,void 0,void 0,(function(){var t,r,o,a,s=this;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,6,7]),this.recoveryInProgress++,this.recoveryInProgress>1?[2]:[4,this.cache.keys()];case 1:return 0===(t=n.sent()).length?[2]:[4,this.cache.matchAll()];case 2:return r=n.sent(),o=r.map((function(e){var t={};e.headers.forEach((function(e,r){t[r]=e})),delete t["content-type"];var r=t.datatype;return delete t.datatype,"json"===r||"base64"===r?e.text().then((function(e){return{metadata:t,events:e}})):e.arrayBuffer().then((function(e){return{metadata:t,events:e}}))})),[4,Promise.all(o)];case 3:return a=n.sent(),[4,Promise.all(t.map((function(e){return s.cache.delete(e)})))];case 4:return n.sent(),e(a),this.byteSizeCounter.reset(),[3,7];case 5:return n.sent(),[3,7];case 6:return this.recoveryInProgress--,[7];case 7:return[2]}}))}))},e}(),h=function(){function e(e){try{this.initializeStorageStrategy(e)}catch(e){this.setRamStorageStrategy()}}return e.prototype.initializeStorageStrategy=function(e){self.caches?this.setCachesStrategy(e):this.setRamStorageStrategy()},e.prototype.save=function(e){this.storageStrategy.save(e)},e.prototype.recover=function(e){this.storageStrategy.recover(e)},e.prototype.setCachesStrategy=function(t){var r=this;this.storageStrategy=new u(t,e.MAX_SIZE,(function(e){r.setRamStorageStrategy(e)}))},e.prototype.setRamStorageStrategy=function(t){var r=this;this.storageStrategy=new c(e.MAX_SIZE),t&&t.forEach((function(e){r.storageStrategy.save(e)}))},e.MAX_SIZE=16777216,e}();!function(){var e="CS_WORKER_SIGNATURE",t=new Map,o=new h("csPersisted");function a(r){var n;if((n=r)&&n.WORKER_SIGNATURE===e)switch(r.type){case"CreatePostRequest":var a=r.endpoint,i=r.compressionOutputType,c=r.useRetry,u=r.mandatoryParameters,h={endpoint:a,mandatoryParameters:u,worker:!0};i&&(h.compressionOpts={compressor:compressor,compressionOutputType:i,compressionType:algorithm}),c&&(h.recoveryStorage=o);var f=new s(h);t.set(a,f),f.onLoad((function(t){var r={type:"onLoad",endpoint:a,response:t,WORKER_SIGNATURE:e};self.postMessage(r)})),f.onError((function(t){var r={type:"onError",endpoint:a,response:t,WORKER_SIGNATURE:e};self.postMessage(r)}));break;case"SetQueryParams":var p=r.endpoint,y=r.queryParams;(f=t.get(p))&&f.setQueryParams(y);break;case"RemoveQueryParams":p=r.endpoint,y=r.queryParams,(f=t.get(p))&&f.removeQueryParams(y);break;case"Send":p=r.endpoint;var d=r.payload;y=r.queryParams,(f=t.get(p))&&f.send(d,y);break;case"Abort":p=r.endpoint,(f=t.get(p))&&f.abort();break;case"SetHeader":p=r.endpoint;var l=r.headerName,v=r.headerValue;(f=t.get(p))&&f.setRequestHeader(l,v);break;case"SetTimeout":var S=r.endpoint,m=r.timeout;(f=t.get(S))&&f.onTimeout((function(){var t={type:"onTimeout",endpoint:S,WORKER_SIGNATURE:e};self.postMessage(t)}),m);break;default:throw new Error(JSON.stringify(r))}}self.addEventListener("message",(function(e){e.data.getReader?function(e,t){r(this,void 0,void 0,(function(){var r,o,a,s;return n(this,(function(n){switch(n.label){case 0:r=e.getReader(),n.label=1;case 1:return[4,r.read()];case 2:return o=n.sent(),a=o.done,s=o.value,a?[3,3]:(t(s),[3,1]);case 3:return[2]}}))}))}(e.data,a):a(e.data)}))}()}();');try{this.Vt=this.Ft(i),this.Lt=!0,this.Bt()&&(this.zt=new ReadableStream({start:function(t){n.Gt=t}}),this.Vt.postMessage(this.zt,[this.zt]),this.postMessage=this.postMessageAsTransferable)}catch(t){this.Lt=!1}}return t.prototype.postMessage=function(t){t.WORKER_SIGNATURE=this.Ht,this.Vt.postMessage(t)},t.prototype.postMessageAsTransferable=function(t){t.WORKER_SIGNATURE=this.Ht,this.Gt.enqueue(t)},t.prototype.Ft=function(t){var n=this,i=window.csURL||window.webkitURL,r=window.Blob,e=window.Worker,s=new r([t],{type:"application/javascript"}),o=i.createObjectURL(s);kn.whiteListFilename(o);var u=new e(o);return u.onmessage=function(t){var i=t.data,r=i.type,e=i.endpoint;if(i.WORKER_SIGNATURE===n.Ht)if("onLoad"===r){var s=t.data.response;(o=n.Ut.get(e))&&o(s)}else if("onError"===r){s=t.data.response;(o=n.jt.get(e))&&o(s)}else if("onTimeout"===r){var o;(o=n.qt.get(e))&&o()}},u},t.prototype.registerOnLoadCallback=function(t,n){this.Ut.set(t,n)},t.prototype.registerOnErrorCallback=function(t,n){this.jt.set(t,n)},t.prototype.registerOnTimeoutCallback=function(t,n){this.qt.set(t,n)},t.prototype.isSupported=function(){return this.Lt},t.prototype.Bt=function(){try{var t=new ReadableStream;return structuredClone(t,{transfer:[t]}),!0}catch(t){return!1}},t}(),ai=function(){function t(t){var n;this.$t={},this.Jt=t.endpoint,this.Wt=t.networkWorker,this.Yt=t.compressionOutputType,this.Xt=t.useRetry,this.Wt.postMessage({type:"CreatePostRequest",endpoint:this.Jt,compressionOutputType:this.Yt,useRetry:this.Xt,mandatoryParameters:null!==(n=t.mandatoryParameters)&&void 0!==n?n:[]})}return t.prototype.setQueryParams=function(t){var n=this;this.Wt.postMessage({type:"SetQueryParams",endpoint:this.Jt,queryParams:t}),csArray.prototype.forEach.call(Object.keys(t),(function(i){n.$t[i]=t[i]}))},t.prototype.getQueryParams=function(){return this.$t},t.prototype.removeQueryParams=function(t){var n=this;this.Wt.postMessage({type:"RemoveQueryParams",endpoint:this.Jt,queryParams:t}),t&&csArray.prototype.forEach.call(t,(function(t){delete n.$t[t]}))},t.prototype.send=function(t,n){this.Wt.postMessage({type:"Send",endpoint:this.Jt,payload:t,queryParams:n})},t.prototype.abort=function(){this.Wt.postMessage({type:"Abort",endpoint:this.Jt})},t.prototype.onLoad=function(t){this.Wt.registerOnLoadCallback(this.Jt,t)},t.prototype.onError=function(t){this.Wt.registerOnErrorCallback(this.Jt,t)},t.prototype.setRequestHeader=function(t,n){this.Wt.postMessage({type:"SetHeader",endpoint:this.Jt,headerName:t,headerValue:n})},t.prototype.onTimeout=function(t,n){this.Wt.registerOnTimeoutCallback(this.Jt,t),this.Wt.postMessage({type:"SetTimeout",endpoint:this.Jt,timeout:n})},t}();!function(t){t.UNCOMPRESSED="0",t.GZIP="2"}(ui||(ui={}));var fi=function(t){this.onError=t};function li(t){for(var n,i=null!==(n=t.length)&&void 0!==n?n:0,r=new csArray(i),e=0;e<i;e+=1)r[e]=t[e];return r}function vi(t,n){for(var i=t.length,r=new csArray(i),e=0;e<i;e+=1)r[e]=n(t[e]);return r}function di(t,n){var i=[];return function(t,n,i){for(var r=0,e=0;e<t.length;e+=1)for(var s=n(t[e]),o=0;o<s.length;o++)i(s[o],r++)}(t,n,(function(t){return csArray.prototype.push.call(i,t)})),i}function yi(t,n){if(t.length>=0)for(var i=t.length,r=0;r<i;r++)n(t[r],r);else for(var e=0,s=t.next();!s.done;)n(s.value,e++),s=t.next()}function wi(t,n){for(var i=t.length,r=0;r<i;r++)if(n(t[r],r))return t[r]}function pi(t,n){for(var i=t.length,r=0;r<i;r++)if(n(t[r],r))return!0;return!1}function mi(t,n){for(var i=t.length,r=[],e=0;e<i;e+=1){var s=t[e];n(s)&&csArray.prototype.push.call(r,s)}return r}function gi(t,n){for(var i=0;i<t.length;i++)csArray.prototype.push.call(n,t[i])}function Si(t){var n=t instanceof Map,i=[];return t.forEach((function(t,r){return csArray.prototype.push.call(i,n?[r,t]:t)})),i}var bi,Ai,Ei,Ri,Ti=function(){function t(t){var n,i=this;this.$t={},this.Kt={},this.Qt=function(t){var n,r;try{for(var e=et(t),s=e.next();!s.done;s=e.next()){var o=s.value,u=o.metadata,c=o.events;i.send(c,u)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}},this.Jt=t.endpoint,this.Zt=t.compressionOpts,this.tn=t.recoveryStorage,this.mandatoryParameters=null!==(n=t.mandatoryParameters)&&void 0!==n?n:[],this.worker=!!t.worker,this.tn&&this.tn.recover(this.Qt)}return t.prototype.setQueryParams=function(t){var n=this;Object.keys(t).forEach((function(i){n.$t[i]=t[i]}))},t.prototype.removeQueryParams=function(t){var n=this;t?t.forEach((function(t){delete n.$t[t]})):this.$t={}},t.prototype.send=function(t,n){var i=this,r=n||Z({},this.$t),e=!("ct"in r),s="string"!=typeof t&&!this.nn(t);"ct"in r||(this.Zt&&e?r.ct=this.Zt.compressionType:r.ct=ui.UNCOMPRESSED);var o=s?JSON.stringify(t):t,u=Object.keys(r).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r[t]))})).join("&"),c="".concat(this.Jt,"?").concat(u);pi(this.mandatoryParameters,(function(t){return null==r[t]}))?jn.warn("[".concat(this.worker?"WORKER":"MAIN","] All mandatory parameters are not present on ").concat(c)):this.Zt&&e&&"string"==typeof o?this.Zt.compressor(o,this.Zt.compressionOutputType,(function(t){return i.rn(c,r,t)})):this.rn(c,r,o)},t.prototype.onLoad=function(t){this.en=t},t.prototype.onError=function(t){this.un=t},t.prototype.onTimeout=function(t,n){this.cn=t,this.hn=n},t.prototype.abort=function(){this.an&&this.an()},t.prototype.setRequestHeader=function(t,n){this.Kt[t]=n},t.prototype.getQueryParams=function(){return this.$t},t.prototype.nn=function(t){return t&&void 0!==t.byteLength},t.prototype.rn=function(t,n,i){var r=this,e=new XMLHttpRequest,s=Object.keys(n).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n[t]))})).join("&");e.open("POST",t),e.onload=function(){if(r.tn&&r.tn.recover(r.Qt),r.en){var t={params:n,responseText:e.responseText,status:e.status};r.en(t)}},e.onerror=function(){r.tn&&r.tn.save({key:s,metadata:n,events:i}),r.un&&r.un({params:n})},this.hn&&this.cn&&(e.timeout=this.hn,e.ontimeout=function(){r.cn()}),this.an=function(){return e.abort()},Object.keys(this.Kt).forEach((function(t){e.setRequestHeader(t,r.Kt[t])})),e.send(i)},t}(),Oi=function(){function t(t){this.fn=t,this.Wt=new hi(this.fn)}return t.prototype.create=function(t,n,i,r,e){if(void 0===e&&(e=[]),this.Wt.isSupported()&&n)return new ai({networkWorker:this.Wt,endpoint:t,compressionOutputType:i,useRetry:!!r,mandatoryParameters:e});var s=i?{compressor:this.fn.compress,compressionOutputType:i,compressionType:this.fn.algorithm}:void 0;return new Ti({endpoint:t,compressionOpts:s,recoveryStorage:r})},t}(),Ni=function(){function t(t,n,i,r,e){this.X=t,this.K=n,this.ln=i,this.vn=r,this.U=e}return t.prototype.get=function(){return{exclusion:this.ln.getAppliedTrackingDraw(),visitor:this.X.getVisitor(),session:this.K.getSession(),cvars:this.vn.getCustomVariablesSession()}},t.prototype.apply=function(t){t&&(t.exclusion?this.exclude():this.include(t))},t.prototype.exclude=function(){this.ln.exclude(this.U),this.X.removeVisitor(),this.K.removeSession(),this.vn.removeCustomVariablesSession()},t.prototype.include=function(t){this.ln.removeExclusion(),this.X.setVisitor(t.visitor),t.session?this.K.setSession(t.session):this.K.removeSession(),t.cvars?this.vn.setCustomVariableSession(t.cvars):this.vn.removeCustomVariablesSession()},t}(),ki="_cs_id",Ci=/^(([a-z0-9\-])+(\.[0-9]+){6})(\.(None|Lax|X)\.(0|1))?(\.[0-1])?$/,Ii=function(){function t(t,n,i){this.U=t,this.dn=n,this.yn=i}return t.prototype.onCookieToSet=function(t){this.wn=t},t.prototype.onCookieToRemove=function(t){this.mn=t},t.prototype.get=function(){var n;return(n=this.U.cookielessTrackingEnabled?this.yn.getItem(ki):this.dn.get(ki))?t.fromString(n):null},t.prototype.set=function(n){var i,r=t.toString(n);if(this.U.cookielessTrackingEnabled)this.yn.setItem(ki,r);else{var e=new csDate(n.expires);this.dn.set(ki,r,e),null===(i=this.wn)||void 0===i||i.call(this,ki,r,e)}},t.prototype.remove=function(){var t;this.U.cookielessTrackingEnabled?this.yn.removeItem(ki):(this.dn.delete(ki),null===(t=this.mn)||void 0===t||t.call(this,ki))},t.prototype.handleSubdomainChange=function(){if(!this.U.cookielessTrackingEnabled){var t=this.get();t&&(t.allowSubdomains=this.U.allowSubdomains,this.U.allowSubdomains?this.dn.delete(ki,ei.CURRENT_DOMAIN):this.dn.delete(ki,this.dn.getRootDomain()),this.set(t))}},t.fromString=function(t){var n=st(csString.prototype.split.call(t,"."),8),i=n[0],r=n[1],e=n[2],s=n[3],o=n[4],u=n[5],c=n[6],h=n[7];return{id:i,creationTimestamp:Number(r),visitsCount:Number(e),hitTimestamp:Number(s),lastVisitTimestamp:Number(o),appliedTrackingDraw:Number(u),expires:Number(c),allowSubdomains:void 0===h?void 0:!!Number(h)}},t.toString=function(t){return csArray.prototype.join.call([t.id,t.creationTimestamp,t.visitsCount,t.hitTimestamp,t.lastVisitTimestamp,t.appliedTrackingDraw,t.expires,t.allowSubdomains?1:0],".")},t.isValidVisitorString=function(t){return Ci.test(t)},t}();!function(t){t.QUOTA_REACHED="X",t.RECORDING_RULES_TARGETING="8",t.ANALYTICS_ONLY_RULES_TARGETING="9",t.ANALYTICS_ONLY="0",t.RECORDING_GLOBAL_SAMPLING="5",t.RECORDING_TEMPORARILY="T",t.RECORDING_URL_SAMPLING="6",t.RECORDING_ETR_SAMPLING="7",t.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED="B",t.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN="W"}(bi||(bi={})),function(t){t.ETR_OFF="0",t.ETR_ON="1"}(Ai||(Ai={})),function(t){t.ETR_LEGACY="0",t.ETR_SESSION="1",t.ETR_PAGE="2"}(Ei||(Ei={})),function(t){t.ETR_DISABLED="0",t.ETR_PENDING="1",t.ETR_SAVED_PAGE="2",t.ETR_SAVED_SESSION="3",t.ETR_NOT_SAVED_SESSION="9"}(Ri||(Ri={}));var _i,xi="_cs_s",Pi=18e5,Mi=/^(\d+\.[01356789TBWX](\.[01])?(\.[39])?)(\.\d+)?$/,Di=".";!function(t){t[t.NOT_FOUND=0]="NOT_FOUND",t[t.EXPIRED=1]="EXPIRED",t[t.FOUND=2]="FOUND"}(_i||(_i={}));var Li,Ui=function(){function t(t,n,i){this.U=t,this.dn=n,this.yn=i,this.gn=null,this.Sn=!1}return t.prototype.get=function(n){var i=this.getRawSession(n);return this.isValid(i)?t.fromString(i):null},t.prototype.getRawSession=function(n){if(n){var i=this.bn();return t.An(i)}var r=this.En(),e=r.sessionString,s=r.status,o=t.An(e);if(s!==_i.EXPIRED)return o;if(this.U.cookielessTrackingEnabled)return null;var u=this.bn();if(!u)return null;var c=csString.prototype.split.call(u,Di);if(!t.Rn(c))return u;var h=c[c.length-1],a=parseInt(h,10);return isNaN(a)||this.Tn(a),o},t.prototype.onCookieToSet=function(t){this.wn=t},t.prototype.onCookieToRemove=function(t){this.mn=t},t.prototype.set=function(t,n){var i;void 0===n&&(n=Pi);var r=Xt()+n,e=this.toString(t);e+="".concat(Di).concat(r),this.On(e,r),this.U.cookielessTrackingEnabled?this.yn.setItem(xi,e):(this.dn.set(xi,e,n),null===(i=this.wn)||void 0===i||i.call(this,xi,e,n))},t.prototype.remove=function(){var t;this.U.cookielessTrackingEnabled?this.yn.removeItem(xi):(this.dn.delete(xi),null===(t=this.mn)||void 0===t||t.call(this,xi)),this.Nn()},t.prototype.handleSubdomainChange=function(){if(!this.U.cookielessTrackingEnabled){var t=this.get(!0);t&&(this.U.allowSubdomains?this.dn.delete(xi,ei.CURRENT_DOMAIN):this.dn.delete(xi,this.dn.getRootDomain()),this.set(t))}},t.prototype.isValid=function(n){return null!==n&&t.isValidSessionString(n)},t.prototype.toString=function(t){return csArray.prototype.join.call([t.pageNumber,t.collectState,t.etrState,t.etrStatus],Di)},t.prototype.On=function(t,n){this.gn={sessionString:t,expires:n}},t.prototype.En=function(){return this.gn?this.gn&&Xt()<=this.gn.expires?{sessionString:this.gn.sessionString,status:_i.FOUND}:{sessionString:this.gn.sessionString,status:_i.EXPIRED}:{sessionString:this.bn(),status:_i.NOT_FOUND}},t.prototype.Nn=function(){this.gn=null},t.prototype.Tn=function(t){this.gn&&(this.gn.expires=t,this.Sn=!0)},t.prototype.isCacheRefreshed=function(){return this.Sn},t.prototype.resetCacheRefreshed=function(){this.Sn=!1},t.prototype.bn=function(){if(this.U.cookielessTrackingEnabled){var t=this.yn.getItem(xi);return!t||this.kn(t)?null:t}var n=this.dn.get(xi);return!n||this.kn(n)?null:n},t.prototype.kn=function(n){var i=csString.prototype.split.call(n,Di);if(!t.Rn(i))return!1;var r=parseInt(i[i.length-1],10);return!isNaN(r)&&Xt()>r},t.Rn=function(t){return 13===t[t.length-1].length},t.An=function(t){var n;if(!t)return null;var i=null===(n=csString.prototype.match.call(t,Mi))||void 0===n?void 0:n[1];return null!=i?i:null},t.fromRawString=function(n){var i=t.An(n);return null!==i?t.fromString(i):null},t.fromString=function(t){var n,i,r=st(csString.prototype.split.call(t,Di),4),e=r[0],s=r[1],o=r[2],u=r[3];return{collectState:s,etrState:null!==(n=o)&&void 0!==n?n:Ai.ETR_OFF,etrStatus:null!==(i=u)&&void 0!==i?i:Ri.ETR_NOT_SAVED_SESSION,pageNumber:parseInt(e,10)}},t.isValidSessionString=function(t){return Mi.test(t)},t}();!function(t){t.fromRaw=function(t){return{exclusion:Number(t._cs_ex)||0,visitor:t._cs_id?Ii.fromString(t._cs_id):null,session:t._cs_s?Ui.fromRawString(t._cs_s):null,cvars:t._cs_cvars?window.csJSON.parse(t._cs_cvars):null}}}(Li||(Li={}));var ji,qi="_cs_ex",Hi=2592e6,Vi=/^[0-9]+$/,Fi=function(){function t(t,n,i){this.U=t,this.dn=n,this.yn=i}return t.prototype.onCookieToSet=function(t){this.wn=t},t.prototype.onCookieToRemove=function(t){this.mn=t},t.prototype.get=function(){return this.U.cookielessTrackingEnabled?Number(this.yn.getItem(qi)):Number(this.dn.get(qi))},t.prototype.set=function(t){var n;this.U.cookielessTrackingEnabled?this.yn.setItem(qi,t):(this.dn.set(qi,t,Hi),null===(n=this.wn)||void 0===n||n.call(this,qi,t,Hi))},t.prototype.remove=function(){var t;this.U.cookielessTrackingEnabled?this.yn.removeItem(qi):(this.dn.delete(qi),null===(t=this.mn)||void 0===t||t.call(this,qi))},t.isValidExclusionString=function(t){return Vi.test(t)},t}(),Bi="_cs_cvars",zi=function(){function t(t,n,i){this.U=t,this.dn=n,this.yn=i}return t.prototype.onCookieToSet=function(t){this.wn=t},t.prototype.onCookieToRemove=function(t){this.mn=t},t.prototype.get=function(){return this.U.cookielessTrackingEnabled?this.yn.getItem(Bi):this.dn.get(Bi)},t.prototype.set=function(t){var n;this.U.cookielessTrackingEnabled?this.yn.setItem(Bi,t):(this.dn.set(Bi,t),null===(n=this.wn)||void 0===n||n.call(this,Bi,t))},t.prototype.remove=function(){var t;this.U.cookielessTrackingEnabled?this.yn.removeItem(Bi):(this.dn.delete(Bi),null===(t=this.mn)||void 0===t||t.call(this,Bi))},t.isValidCustomVarString=function(t){return"string"==typeof t},t}();!function(t){function n(t){var n=["_cs_ex","_cs_id","_cs_s","_cs_cvars"];return csArray.prototype.every.call(Object.keys(t),(function(t){return csArray.prototype.indexOf.call(n,t)>=0}))}t.isRawDomainState=n,t.isValid=function(t){return!!n(t)&&((!t._cs_id||Ii.isValidVisitorString(t._cs_id))&&(!t._cs_s||Ui.isValidSessionString(t._cs_s))&&(!t._cs_ex||Fi.isValidExclusionString(t._cs_ex))&&(!t._cs_cvars||zi.isValidCustomVarString(t._cs_cvars)))}}(ji||(ji={}));var Gi,$i,Ji,Wi=function(){function t(t,n){this.Cn=t,this.In=n}return t.prototype.retrieve=function(n,i){var r=this;this._n=i,this.retrievedStates=[],this.xn=csArray.prototype.map.call(csArray.prototype.filter.call(n,(function(t){return r.Pn(t)})),t.getXdframeOrigin),this.Cn.onMessage((function(t){r.Mn(t)})),this.Cn.onTimeout((function(){r.Dn()})),this.Cn.start(),csArray.prototype.forEach.call(csArray.prototype.map.call(this.xn,t.getXdframeUrl),(function(t){return r.Cn.open(t)}))},t.prototype.Mn=function(t){if(this.Ln(t)){var n=t.data;if(!ji.isValid(n))throw this.Cn.stop(),"Invalid domain state: ".concat(csJSON.stringify(t.data)," from ").concat(t.origin);csArray.prototype.push.call(this.retrievedStates,n)}this.Un()&&(this.Cn.stop(),this._n(csArray.prototype.map.call(this.retrievedStates,Li.fromRaw)))},t.prototype.Dn=function(){kn.warn("xdframe: all messages not received")},t.prototype.Ln=function(t){return csArray.prototype.indexOf.call(this.xn,t.origin)>-1},t.prototype.Un=function(){return this.retrievedStates.length===this.xn.length},t.prototype.Pn=function(t){return!at(this.In.hostname,t)},t.getXdframeOrigin=function(t){return"https://csxd.".concat(t)},t.getXdframeUrl=function(t){return"".concat(t,"/xdframe-").concat("1.0.0",".html")},t}(),Yi=function(){function t(){var t=this;this.jn=3e3,this.qn=function(n){t.handleMessage(n)}}return t.prototype.onMessage=function(t){this.Hn=t},t.prototype.onTimeout=function(t){this.cn=t},t.prototype.start=function(){var t=this;window.addEventListener("message",this.qn),this.Vn=window.csSetTimeout((function(){t.cn()}),this.jn)},t.prototype.open=function(t){var n=document.createElement("iframe");return n.src=t,n.setAttribute("hidden",""),n.setAttribute("title","Intentionally blank"),document.body.appendChild(n),n},t.prototype.stop=function(){window.removeEventListener("message",this.qn),window.csClearTimeout(this.Vn),this.Hn=ct,this.cn=ct},t.prototype.handleMessage=function(t){this.Hn(t)},nt([qn("XdframeMessage")],t.prototype,"handleMessage",null),t}();function Xi(t,n){void 0===n&&(n=Zi.SHOW_ALL);var i=n|Zi.SHOW_ELEMENT,r=[document.createTreeWalker(t,i,null,!1)],e=Ki(t);e&&csArray.prototype.push.call(r,document.createTreeWalker(e,i,null,!1));var s=null;return{root:t,nextNode:function(){if(e){var t=e;return e=null,t}for(;r.length>0;){if(s){t=s;return s=null,t}var o=r[r.length-1].nextNode();if(o){var u=Ki(o);if(n&Zi.SHOW_DOCUMENT_FRAGMENT&&u&&(s=u),u&&csArray.prototype.push.call(r,document.createTreeWalker(u,i,null,!1)),tr[o.nodeType]&n)return o}else csArray.prototype.pop.call(r)}return null},visitAll:function(i){tr[t.nodeType]&n&&i(t);for(var r=this.nextNode();r;)tr[r.nodeType]&n?(i(r),r=this.nextNode()):r=this.nextNode()},collectAll:function(t){var n=[];return this.visitAll((function(i){return csArray.prototype.push.call(n,t?t(i):i)})),n}}}function Ki(t){return t&&M(t)?t.shadowRoot:null}var Qi=null!==($i=fn.Node)&&void 0!==$i?$i:{},Zi=null!==(Ji=fn.NodeFilter)&&void 0!==Ji?Ji:{},tr=((Gi={})[2]=Zi.SHOW_ATTRIBUTE,Gi[4]=Zi.SHOW_CDATA_SECTION,Gi[8]=Zi.SHOW_COMMENT,Gi[11]=Zi.SHOW_DOCUMENT_FRAGMENT,Gi[9]=Zi.SHOW_DOCUMENT,Gi[10]=Zi.SHOW_DOCUMENT_TYPE,Gi[1]=Zi.SHOW_ELEMENT,Gi[Qi.ENTITY_NODE]=Zi.SHOW_ENTITY,Gi[Qi.ENTITY_REFERENCE_NODE]=Zi.SHOW_ENTITY_REFERENCE,Gi[Qi.NOTATION_NODE]=Zi.SHOW_NOTATION,Gi[7]=Zi.SHOW_PROCESSING_INSTRUCTION,Gi[3]=Zi.SHOW_TEXT,Gi);function nr(){var t=new Error,n=t.stack?csArray.prototype.filter.call(csString.prototype.split.call(t.stack,"\n"),(function(t){return"Error"!==t&&-1===csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(t),"promise ")&&-1===csString.prototype.indexOf.call(t,"[native code]")})):[];if(0===n.length)return"";var i=function(t){return t.length>0?ir(t[0]):""}(n);return""===i?"":(n=function(t,n){return csArray.prototype.filter.call(t,(function(t){return-1===csString.prototype.indexOf.call(t,n)}))}(n,i),0===n.length?"":ir(n[0]))}function ir(t){var n,i="";n=t;var r=(-1!==csString.prototype.indexOf.call(n,"@")?new csRegExp("@(.+):(\\d+):(\\d+)$"):new csRegExp("\\((.+):(\\d+):(\\d+)\\)")).exec(t);return r&&(i=r[1]),i}var rr,er=function(t){return t};function sr(t){var n,i=t.target,r=t.methodName,e=t.hook,s=t.hookPrepareArgs,o=void 0===s?er:s,u=t.options;if(!(null===(n=Object.getOwnPropertyDescriptor(i,r))||void 0===n?void 0:n.writable))return jn.warn("Cannot intercept read only function '".concat(csString(r),"' of object '").concat(i,"'")),null;var c,h,a=!1,f=i[r];if("function"==typeof f){var l=function(){var t=o(arguments),n=f.apply(this,arguments);if(a){var i=void 0;u&&u.withCallerName&&(i=nr());try{e({result:n,context:this,args:t,callerName:i})}catch(t){jn.error(t)}}return n};(c=l).prototype=(h=f).prototype,Object.defineProperty(c,"toString",{value:function(){return h.toString()}}),i[r]=l}return{activate:function(){return a=!0},deactivate:function(){return a=!1}}}function or(t,n,i){var r=!1,e=Object.getOwnPropertyDescriptor(t,n);if(e){if(!e.configurable)return jn.warn("Cannot intercept read only property '".concat(csString(n),"' of object '").concat(t,"'")),null;Object.defineProperty(t,n,{set:function(){var t=arguments,s=this[n],o=e.set.apply(this,t);if(r)try{i(this,t[0],s)}catch(t){jn.error(t)}return o}})}return{activate:function(){return r=!0},deactivate:function(){return r=!1}}}!function(t){t.isSupported=function(){return!!Element.prototype.attachShadow},t.getShadowRoot=function(t){return t&&M(t)?t.shadowRoot:null},t.getAllShadowHosts=Qn((function(t){return Xi(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).collectAll((function(t){return t.host}))}),"getAllShadowHosts")}(rr||(rr={}));var ur=function(){function t(t){this._n=t,this._n=Hn("DocumentShadowRootObserver:callback",(function(n,i){return t(n,i)}))}var n;return t.Fn=function(t){this.Bn.forEach((function(n){t(n,"initial")}))},t.zn=function(t){var n,i,r=this;if(csArray.prototype.push.call(this.Gn,t),!this.$n){this.$n=!0,this.Jn.observe(document,this.Wn);try{for(var e=Dn(rr.getAllShadowHosts(document)),s=e.next();!s.done;s=e.next()){var o=s.value,u=csElementshadowRoot.apply(o);this.Bn.add(u),this.Jn.observe(u,this.Wn)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}this.Yn||(this.Yn=sr({target:Element.prototype,methodName:"attachShadow",hook:function(t){return t.result.isConnected&&r.Xn(t.result)}})),this.Yn.activate()}this.Fn(t)},t.Kn=function(t){var n;this.Gn=csArray.prototype.filter.call(this.Gn,(function(n){return n!==t})),0===this.Gn.length&&(this.Gn=[],this.$n=!1,this.Jn.disconnect(),null===(n=this.Yn)||void 0===n||n.deactivate(),this.Bn.clear())},Object.defineProperty(t.prototype,"shadowRoots",{get:function(){return Si(n.Bn)},enumerable:!1,configurable:!0}),t.prototype.takeRecords=function(){var t,i;return null!==(i=null===(t=n.Jn)||void 0===t?void 0:t.takeRecords())&&void 0!==i?i:[]},t.prototype.observe=function(){rr.isSupported()&&n.zn(this._n)},t.prototype.disconnect=function(){rr.isSupported()&&n.Kn(this._n)},n=t,t.Gn=[],t.Bn=new Set,t.$n=!1,t.Wn={childList:!0,subtree:!0},t.Jn=new csMutationObserver((function(t){var i,r;try{for(var e=Dn(t),s=e.next();!s.done;s=e.next()){var o=s.value;o.target.isConnected&&yi(o.addedNodes,n.Qn),yi(o.removedNodes,n.Zn)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}})),t.Xn=function(t){n.Bn.has(t)||(n.Jn.observe(t,n.Wn),n.Bn.add(t),yi(n.Gn,(function(n){return n(t,"added")})))},t.Qn=function(t){Xi(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(n.Xn)},t.Zn=function(t){t.isConnected||Xi(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll((function(t){n.Bn.has(t)&&(n.Bn.delete(t),yi(n.Gn,(function(n){return n(t,"removed")})))}))},xn([qn()],t.prototype,"observe",null),xn([qn()],t.prototype,"disconnect",null),t}(),cr=!0;function hr(t,n){void 0===n&&(n=cr),t.boundElement.addEventListener(t.type,t.listener,n)}function ar(t,n){void 0===n&&(n=cr),t.boundElement.removeEventListener(t.type,t.listener,n)}function fr(t,n){void 0===n&&(n=0);var i=Math.pow(10,n);return Math.round(t*i)/i}function lr(t,n){"number"==typeof n&&(n={wait:n});var i,r=n.wait;if(n.ignoreThrottledCalls){var e=0;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=Xt();if(s-e>r)return e=s,t.apply(this,n)}}var s,o=[],u=null,c=0,h=function(){c=Xt(),u=null,s=t.apply(i,o)},a=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var a=Xt(),f=r-(a-c);return i=null!=this?this:window,o=Un([],Ln(n),!1),f<=0||f>r?(c=a,s=t.apply(i,o),u?(window.csClearTimeout(u),u=null):o=[]):u||(u=window.csSetTimeout(h,f)),s};return a.cancel=function(){u&&(window.csClearTimeout(u),c=0,u=null,o=[])},a.flushPending=function(){u&&(window.csClearTimeout(u),h())},a}var vr,dr,yr,wr,pr,mr,gr=function(t){return function(n,i,r){r.value=lr(r.value,t)}};function Sr(t){var n=csEventtarget.apply(t);return n&&S(n)&&csElementshadowRoot.apply(n)&&t.composedPath?t.__csOriginalTarget||t.composedPath()[0]:n}!function(t){t[t.MUTATION_INSERT=1]="MUTATION_INSERT",t[t.MUTATION_REMOVE=2]="MUTATION_REMOVE",t[t.MUTATION_ATTRIBUTE=3]="MUTATION_ATTRIBUTE",t[t.MUTATION_CHARACTER_DATA=4]="MUTATION_CHARACTER_DATA",t[t.INITIAL_DOM=5]="INITIAL_DOM",t[t.SCROLL=6]="SCROLL",t[t.CLICK=8]="CLICK",t[t.RESIZE=9]="RESIZE",t[t.INPUT_CHECKABLE=10]="INPUT_CHECKABLE",t[t.INPUT_SELECT=11]="INPUT_SELECT",t[t.INPUT_TEXT=12]="INPUT_TEXT",t[t.HASH_CHANGE=13]="HASH_CHANGE",t[t.UNANONYMIZED_CONSENT_GRANTED=14]="UNANONYMIZED_CONSENT_GRANTED",t[t.UNANONYMIZED_CONSENT_WITHDRAWN=15]="UNANONYMIZED_CONSENT_WITHDRAWN",t[t.MOUSE_OVER=16]="MOUSE_OVER",t[t.VISIBILITY_CHANGE=17]="VISIBILITY_CHANGE",t[t.STYLESHEET_RULE_INSERT=18]="STYLESHEET_RULE_INSERT",t[t.STATIC_RESOURCE_URL=19]="STATIC_RESOURCE_URL",t[t.PERFORMANCE_TIMINGS=20]="PERFORMANCE_TIMINGS",t[t.ATTACH_SHADOW=22]="ATTACH_SHADOW",t[t.STYLESHEET_CSS_TEXT_UPDATE=23]="STYLESHEET_CSS_TEXT_UPDATE",t[t.JAVASCRIPT_ERROR=26]="JAVASCRIPT_ERROR",t[t.PAGE_EVENT=27]="PAGE_EVENT",t[t.API_ERROR=28]="API_ERROR",t[t.TEXT_VISIBILITY=29]="TEXT_VISIBILITY",t[t.MUTATION_ENCRYPTED_CHARACTER_DATA=30]="MUTATION_ENCRYPTED_CHARACTER_DATA",t[t.INPUT_ENCRYPTED_TEXT=31]="INPUT_ENCRYPTED_TEXT",t[t.KEY_DOWN=32]="KEY_DOWN",t[t.KEY_UP=33]="KEY_UP",t[t.CLIPBOARD_COMMAND=34]="CLIPBOARD_COMMAND",t[t.STYLESHEET_RULE_DELETE=37]="STYLESHEET_RULE_DELETE",t[t.USER_IDENTIFIER=38]="USER_IDENTIFIER",t[t.TOUCH_START=41]="TOUCH_START",t[t.TOUCH_MOVE=42]="TOUCH_MOVE",t[t.TOUCH_END=43]="TOUCH_END",t[t.GESTURE_RECOGNITION=44]="GESTURE_RECOGNITION",t[t.POINTER_DOWN=47]="POINTER_DOWN",t[t.POINTER_MOVE=48]="POINTER_MOVE",t[t.POINTER_UP=49]="POINTER_UP",t[t.CUSTOM_ERROR=50]="CUSTOM_ERROR",t[t.CUSTOM_ELEMENT_REGISTRATION=54]="CUSTOM_ELEMENT_REGISTRATION",t[t.REGISTER_ADOPTED_STYLE_SHEET=60]="REGISTER_ADOPTED_STYLE_SHEET",t[t.SET_ADOPTED_STYLE_SHEETS=61]="SET_ADOPTED_STYLE_SHEETS",t[t.ADOPTED_STYLESHEET_RULE_INSERT=62]="ADOPTED_STYLESHEET_RULE_INSERT",t[t.ADOPTED_STYLESHEET_RULE_DELETE=63]="ADOPTED_STYLESHEET_RULE_DELETE",t[t.SCREEN_RESIZE=65]="SCREEN_RESIZE",t[t.RESOURCE_HASHES=66]="RESOURCE_HASHES",t[t.PERFORMANCE_NAVIGATION_TIMING=67]="PERFORMANCE_NAVIGATION_TIMING",t[t.PERFORMANCE_RESOURCE_TIMING=68]="PERFORMANCE_RESOURCE_TIMING",t[t.RECORDING_INFO_EVENT=72]="RECORDING_INFO_EVENT",t[t.TEXT_REF=73]="TEXT_REF",t[t.TOUCH_CANCEL=74]="TOUCH_CANCEL",t[t.MUTATION_MOVE=75]="MUTATION_MOVE",t[t.STYLESHEET_RULE_UPDATE=76]="STYLESHEET_RULE_UPDATE",t[t.ADOPTED_STYLESHEET_RULE_UPDATE=77]="ADOPTED_STYLESHEET_RULE_UPDATE",t[t.VIDEO_PLAY=78]="VIDEO_PLAY",t[t.VIDEO_PAUSE=79]="VIDEO_PAUSE",t[t.VIDEO_SEEK=80]="VIDEO_SEEK",t[t.DEBUG=999]="DEBUG"}(vr||(vr={})),function(t){t[t.RECORDING_CONSENT_FOR_SESSION_GRANTED=1]="RECORDING_CONSENT_FOR_SESSION_GRANTED",t[t.RECORDING_CONSENT_FOR_SESSION_WITHDRAWN=2]="RECORDING_CONSENT_FOR_SESSION_WITHDRAWN"}(dr||(dr={})),function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Fourth=3]="Fourth",t[t.Fifth=4]="Fifth"}(yr||(yr={})),function(t){t[t.SWIPE=0]="SWIPE",t[t.PINCH_IN=1]="PINCH_IN",t[t.PINCH_OUT=2]="PINCH_OUT",t[t.LONG_PRESS=3]="LONG_PRESS",t[t.TAP=4]="TAP",t[t.DOUBLE_TAP=5]="DOUBLE_TAP"}(wr||(wr={})),function(t){t[t.SPACE=0]="SPACE",t[t.ENTER=1]="ENTER",t[t.BACKSPACE=2]="BACKSPACE",t[t.DELETE=3]="DELETE",t[t.ARROWUP=4]="ARROWUP",t[t.ARROWDOWN=5]="ARROWDOWN",t[t.ARROWLEFT=6]="ARROWLEFT",t[t.ARROWRIGHT=7]="ARROWRIGHT",t[t.CAPSLOCK=8]="CAPSLOCK",t[t.SHIFT=9]="SHIFT",t[t.TAB=10]="TAB",t[t.ALPHANUMERICAL=11]="ALPHANUMERICAL",t[t.ESCAPE=12]="ESCAPE",t[t.END=13]="END",t[t.ALT=14]="ALT",t[t.CTRL=15]="CTRL",t[t.META=16]="META"}(pr||(pr={})),function(t){t[t.COPY=0]="COPY",t[t.CUT=1]="CUT",t[t.PASTE=2]="PASTE"}(mr||(mr={}));var br,Ar=!!window.chrome,Er="data-cs-scroll-container";!function(t){t.isEventOnScrollContainer=function(t){return!!(Ft(t)&&function(t){try{if(Ft(csEventtarget.apply(t)))return!0}catch(t){}return!1}(t)&&zt(csEventtarget.apply(t))&&null!==csEventtarget.apply(t).getAttribute(Er))},t.getScrollContainer=function(){return window.csquerySelector[document.nodeType].call(document,"[".concat(Er,"]"))}}(br||(br={}));var Rr,Tr,Or=(Rr=csSymbol.for("propStore"),{getStore:function(t){return t[Rr]},get:function(t,n){var i=t[Rr];return null==i?void 0:i[n]},set:function(t,n,i){var r=t[Rr];r||(r={},t[Rr]=r),r[n]=i}});!function(t){function n(t,i,r){var e,s,o=!1;if(r(t,i,(function(){return o=!0})),!o){var u=t.shadowRoot;u&&n(u,t,r);var c=t.children;if(null==c?void 0:c.length)try{for(var h=y(c),a=h.next();!a.done;a=h.next()){var f=a.value;if(f&&(n(f,t,r),o))break}}catch(t){e={error:t}}finally{try{a&&!a.done&&(s=h.return)&&s.call(h)}finally{if(e)throw e.error}}}}t.setProperty=function(t,n,i){var r;t instanceof Node?Or.set(t,n,i):(null!==(r=t.props)&&void 0!==r||(t.props={}),t.props[n]=i)},t.getProperty=function(t,n){var i;return t instanceof Node?Or.get(t,n):null===(i=t.props)||void 0===i?void 0:i[n]},t.getProperties=function(t){return t instanceof Node?Or.getStore(t):t.props},t.traverse=function(t,i){n(t,void 0,i)}}(Tr||(Tr={}));var Nr=1,kr=csSymbol("nodeIdentifier");function Cr(t){var n=Tr.getProperty(t,kr);return null!=n?n:(Tr.setProperty(t,kr,Nr++),Tr.getProperty(t,kr))}var Ir;var _r,xr=null!==(Ir=fn.Element)&&void 0!==Ir?Ir:{prototype:{}},Pr=window.csElementmatches||window.csElementmatchesSelector||window.csElementmozMatchesSelector||window.csElementmsMatchesSelector||window.csElementoMatchesSelector||window.csElementwebkitMatchesSelector,Mr=xr.prototype.closest,Dr=document.createElement("div");function Lr(t){if(!(!!t&&jt(t)))return jn.warn("isValidSelector: invalid selector provided '".concat(t,"'")),!1;try{return Pr.call(Dr,t),!0}catch(n){return jn.warn("isValidSelector: invalid selector provided '".concat(t,"'")),!1}}function Ur(t,n){if(Mr)return Mr.call(t,n);var i=t;do{if(Pr.call(i,n))return i;i=null==i?void 0:i.parentElement}while(null!==i&&1===i.nodeType);return null}!function(t){var n;!function(t){t[t.NotMasked=0]="NotMasked",t[t.Parent=1]="Parent",t[t.Child=2]="Child"}(n=t.MaskedElementState||(t.MaskedElementState={})),t.maskedProp="masked",t.maskedAttributeProp="maskedAttribute",t.isSelectorUserInput=function(t){return!!(Ht(t)&&"Attributes"in t&&"PIISelectors"in t)&&(t.Attributes instanceof Array&&t.PIISelectors instanceof Array)},t.sanitizeSelectorUserInput=function(t){return Ht(t)&&null!==t?("Attributes"in t||(t.Attributes=[]),"PIISelectors"in t||(t.PIISelectors=[]),t):(jn.warn("setPIISelectors called with invalid input of type ".concat(typeof t,": ").concat(csJSON.stringify(t)),!1),{Attributes:[],PIISelectors:[]})},t.getMaskedElementDetails=function(i){var r;return null!==(r=Tr.getProperty(i,t.maskedProp))&&void 0!==r?r:{state:n.NotMasked}},t.getMaskedAttributeDetails=function(n){var i;return null!==(i=Tr.getProperty(n,t.maskedAttributeProp))&&void 0!==i?i:{attributes:[]}},t.isMaskedElement=function(i){var r=Tr.getProperty(i,t.maskedProp);return(null==r?void 0:r.state)===n.Parent},t.isMaskedElementChild=function(i){var r=Tr.getProperty(i,t.maskedProp);return(null==r?void 0:r.state)===n.Child},t.isMaskedAttribute=function(n,i){var r=Tr.getProperty(n,t.maskedAttributeProp);return(null==(null==r?void 0:r.attributes)?void 0:csArray.prototype.indexOf.call(null==r?void 0:r.attributes,i))>-1},t.setMaskedElementProperty=function(n,i){Tr.setProperty(n,t.maskedProp,i)},t.unsetMaskedElementProperty=function(n){Tr.setProperty(n,t.maskedProp,void 0)},t.setMaskedAttributeProperty=function(n,i){Tr.setProperty(n,t.maskedAttributeProp,i)},t.getComputedSelectorSettings=function(t,n){var i,r=csArray.prototype.filter.call(t.PIISelectors,(function(t){return Lr(t)}));n.elementSelector.length>0&&(i=csArray.prototype.push).call.apply(i,p([r],w(csString.prototype.split.call(n.elementSelector,",")),!1));var e,s,o=function(t){var n,i,r,e;if(t.length<=1)return t;var s=[];try{for(var o=y(t),u=o.next();!u.done;u=o.next()){var c=u.value,h=csString.prototype.split.call(c,",");try{for(var a=(r=void 0,y(h)),f=a.next();!f.done;f=a.next()){var l=f.value;-1===csArray.prototype.indexOf.call(s,l)&&csArray.prototype.push.call(s,l)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(e=a.return)&&e.call(a)}finally{if(r)throw r.error}}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return s}(p([],w(r),!1)),u={elementSelector:csArray.prototype.join.call(o,","),attrSelector:n.attrSelector,attrSelectors:n.attrSelectors};return csArray.prototype.forEach.call(t.Attributes,(function(t){(null==t?void 0:t.attrName)&&(null==t?void 0:t.selector)&&Lr(t.selector)&&!function(t,n){return csArray.prototype.some.call(t,(function(t){return t.selector===n.selector&&t.attrName===n.attrName}))}(u.attrSelectors,t)&&csArray.prototype.push.call(u.attrSelectors,t)})),u.attrSelector=(e=u.attrSelectors,s="",csArray.prototype.forEach.call(e,(function(t){var n=csString.prototype.split.call(t.selector,",");csArray.prototype.forEach.call(n,(function(t){Lr(t)&&(s&&(s+=","),s+=t)}))})),s),u}}(_r||(_r={}));var jr,qr=function(){function t(){var t=this;this.ti=[],this.ni=[{type:"pointerup",listener:function(n){return t.pointerUpListener(n)},boundElement:document},{type:"pointermove",listener:function(n){return t.pointerMoveListener(n)},boundElement:document},{type:"pointerdown",listener:function(n){return t.pointerDownListener(n)},boundElement:document}],this.ii=[{type:"touchstart",listener:function(n){return t.touchStartListener(n)},boundElement:document},{type:"touchmove",listener:function(n){return t.touchMoveListener(n)},boundElement:document},{type:"touchend",listener:function(n){return t.touchEndCancelListener(n)},boundElement:document},{type:"touchcancel",listener:function(n){return t.touchEndCancelListener(n)},boundElement:document}],this.ei=[{type:"click",listener:function(n){return t.clickListener(n)},boundElement:document},{type:"keyup",listener:function(n){return t.keyUpListener(n)},boundElement:document},{type:"keydown",listener:function(n){return t.keyDownListener(n)},boundElement:document},{type:"copy",listener:function(n){return t.copyListener(n)},boundElement:document},{type:"cut",listener:function(n){return t.cutListener(n)},boundElement:document},{type:"paste",listener:function(n){return t.pasteListener(n)},boundElement:document},{type:"scroll",listener:function(n){return t.scrollListener(csEventtarget.apply(n))},boundElement:document},{type:"mouseover",listener:function(n){return t.mouseOverListener(n)},boundElement:document}],this.si=[{type:"scroll",listener:function(n){return t.scrollListener(csEventtarget.apply(n))}}];var n=function(t){if(!jt(t))return null;var n=/iP(ad|hone|od).+Version\/(\d+)\..*Safari/i.exec(t);return n?Number(n[2]):null}(window.navigator.userAgent);(null===n||n&&n>=16)&&csArray.prototype.push.call(this.si,{type:"mouseover",listener:function(n){return t.mouseOverListener(n)}}),this.oi=new ur((function(n,i){switch(i){case"initial":case"added":t.ui(n);break;case"removed":t.ci(n)}}))}return t.prototype.init=function(){this.hi(),this.ai(),this.fi()},t.prototype.onEvent=function(t){csArray.prototype.push.call(this.ti,t)},t.prototype.li=function(t,n){void 0===n&&(n=!1),csArray.prototype.forEach.call(this.ti,(function(i){return i(t,n)}))},t.prototype.start=function(){this.yi(),this.ui(document),this.oi.observe()},t.prototype.stop=function(){this.ci(document),this.oi.disconnect()},t.prototype.ai=function(){var t;this.wi()&&(t=csArray.prototype.push).call.apply(t,ot([this.ei],st(this.ni),!1))},t.prototype.hi=function(){var t;this.pi()&&(t=csArray.prototype.push).call.apply(t,ot([this.ei],st(this.ii),!1))},t.prototype.ui=function(t){x(t)?csArray.prototype.forEach.call(this.ei,(function(t){return hr(t)})):csArray.prototype.forEach.call(this.si,(function(n){hr({type:n.type,listener:n.listener,boundElement:t})}))},t.prototype.ci=function(t){x(t)?csArray.prototype.forEach.call(this.ei,(function(t){return ar(t)})):csArray.prototype.forEach.call(this.si,(function(n){ar({type:n.type,listener:n.listener,boundElement:t})}))},t.prototype.wi=function(){return"PointerEvent"in window&&"function"==typeof window.PointerEvent},t.prototype.pi=function(){return"TouchEvent"in window&&"function"==typeof window.TouchEvent},t.prototype.yi=function(){this.mi()},t.prototype.mi=function(){var t=br.getScrollContainer()||document,n=Cr(t),i=this.gi(t);if(0!==i.top||0!==i.left){var r={type:vr.SCROLL,args:[n,i.left,i.top],date:Xt()};this.li(r,!0)}},t.prototype.gi=function(t){return t===document?{top:window.pageYOffset,left:window.pageXOffset}:{top:t.scrollTop,left:t.scrollLeft}},t.prototype.scrollListener=function(t){if(!_r.isMaskedElement(t)&&!_r.isMaskedElementChild(t)){var n=Cr(t),i=this.gi(t),r={type:vr.SCROLL,args:[n,i.left,i.top],date:Xt()};this.li(r)}},t.prototype.mouseOverListener=function(t){if(!_r.isMaskedElementChild(t.target)){var n=Cr(t.target),i={type:vr.MOUSE_OVER,args:[n],date:Xt()};this.li(i)}},t.prototype.clickListener=function(t){var n=Sr(t);if(!_r.isMaskedElementChild(n)){var i=Cr(n),r={type:vr.CLICK,args:[i],date:Xt()};this.li(r)}},t.prototype.keyUpListener=function(t){var n=Sr(t);if(!_r.isMaskedElementChild(n)){var i=Cr(n),r=this.Si[t.key];if(void 0!==r){var e={type:vr.KEY_UP,args:[i,r],date:Xt()};this.li(e)}}},t.prototype.keyDownListener=function(t){var n=Sr(t);if(!_r.isMaskedElementChild(n)){var i=Cr(n),r=this.Si[t.key];if(void 0!==r){var e={type:vr.KEY_DOWN,args:[i,r],date:Xt()};this.li(e)}}},t.prototype.copyListener=function(t){var n=Sr(t);if(!_r.isMaskedElementChild(n)){var i=Cr(n),r={type:vr.CLIPBOARD_COMMAND,args:[i,mr.COPY],date:Xt()};this.li(r)}},t.prototype.cutListener=function(t){var n=Sr(t);if(!_r.isMaskedElementChild(n)){var i=Cr(n),r={type:vr.CLIPBOARD_COMMAND,args:[i,mr.CUT],date:Xt()};this.li(r)}},t.prototype.pasteListener=function(t){var n=Sr(t);if(!_r.isMaskedElementChild(n)){var i=Cr(n),r={type:vr.CLIPBOARD_COMMAND,args:[i,mr.PASTE],date:Xt()};this.li(r)}},t.prototype.pointerUpListener=function(t){var n=Sr(t);if(!_r.isMaskedElementChild(n)){var i=Cr(n),r={type:vr.POINTER_UP,args:[t.pointerId,t.pointerType,fr(t.clientX,1),fr(t.clientY,1),i,t.button],date:Xt()};this.li(r)}},t.prototype.pointerMoveListener=function(t){var n={type:vr.POINTER_MOVE,args:[t.pointerId,t.pointerType,fr(t.clientX,1),fr(t.clientY,1)],date:Xt()};this.li(n)},t.prototype.pointerDownListener=function(t){var n=Sr(t);if(!_r.isMaskedElementChild(n)){var i=Cr(n),r={type:vr.POINTER_DOWN,args:[t.pointerId,t.pointerType,fr(t.clientX,1),fr(t.clientY,1),i,t.button,{pageX:fr(t.pageX,1),pageY:fr(t.pageY,1)}],date:Xt()};this.li(r)}},t.prototype.touchStartListener=function(t){if(t.changedTouches)for(var n=t.changedTouches,i=0;i<n.length;i+=1){var r=n[i],e={type:vr.TOUCH_START,args:[r.identifier,fr(r.clientX,1),fr(r.clientY,1)],date:Xt()};this.li(e)}},t.prototype.touchMoveListener=function(t){if(t.changedTouches)for(var n=t.changedTouches,i=0;i<n.length;i+=1){var r=n[i],e={type:vr.TOUCH_MOVE,args:[r.identifier,fr(r.clientX,1),fr(r.clientY,1)],date:Xt()};this.li(e)}},t.prototype.touchEndCancelListener=function(t){if(t.changedTouches)for(var n=t.changedTouches,i=0;i<n.length;i+=1){var r=n[i],e={type:"touchend"===t.type?vr.TOUCH_END:vr.TOUCH_CANCEL,args:[r.identifier,fr(r.clientX,1),fr(r.clientY,1)],date:Xt()};this.li(e)}},t.prototype.fi=function(){this.Si={},this.Si[" "]=pr.SPACE,this.Si.Spacebar=pr.SPACE,this.Si.Backspace=pr.BACKSPACE,this.Si.Enter=pr.ENTER,this.Si.Delete=pr.DELETE,this.Si.ArrowUp=pr.ARROWUP,this.Si.ArrowDown=pr.ARROWDOWN,this.Si.ArrowLeft=pr.ARROWLEFT,this.Si.ArrowRight=pr.ARROWRIGHT,this.Si.Up=pr.ARROWUP,this.Si.Down=pr.ARROWDOWN,this.Si.Left=pr.ARROWLEFT,this.Si.Right=pr.ARROWRIGHT,this.Si.CapsLock=pr.CAPSLOCK,this.Si.Shift=pr.SHIFT,this.Si.Tab=pr.TAB,this.Si.Escape=pr.ESCAPE,this.Si.Esc=pr.ESCAPE,this.Si.End=pr.END,this.Si.Alt=pr.ALT,this.Si.Control=pr.CTRL,this.Si.Meta=pr.META},nt([ri("RecordingPageEvents.start")],t.prototype,"start",null),nt([qn("scroll")],t.prototype,"scrollListener",null),nt([qn("mouseOver"),Fn(),function(t,n,i){var r=i.value;return r&&(i.value=function(t){if(Sr(t)===csEventtarget.apply(t))return r.call(this,t)}),i}],t.prototype,"mouseOverListener",null),nt([qn("click"),Fn()],t.prototype,"clickListener",null),nt([qn("Event handler type: keyup")],t.prototype,"keyUpListener",null),nt([qn("Event handler type: keydown")],t.prototype,"keyDownListener",null),nt([qn("Event handler type: copy")],t.prototype,"copyListener",null),nt([qn("Event handler type: cut")],t.prototype,"cutListener",null),nt([qn("Event handler type: paste")],t.prototype,"pasteListener",null),nt([qn("Event handler type: pointerup"),Fn()],t.prototype,"pointerUpListener",null),nt([qn("Event handler type: pointermove"),Fn(),gr({wait:33,ignoreThrottledCalls:!1})],t.prototype,"pointerMoveListener",null),nt([qn("Event handler type: pointerdown"),Fn()],t.prototype,"pointerDownListener",null),nt([qn("Event handler type: touchstart"),Fn()],t.prototype,"touchStartListener",null),nt([qn("Event handler type: touchmove"),Fn()],t.prototype,"touchMoveListener",null),nt([qn("Event handler type: touchend-cancel"),Fn()],t.prototype,"touchEndCancelListener",null),t}(),Hr=function(){function t(t){this.bi=t,this.Ai=0}return t.prototype.addString=function(t){this.Ai+=2*t.length},t.prototype.addArrayBuffer=function(t){this.Ai+=t.byteLength},t.prototype.isThresholdReached=function(){return this.Ai>this.bi},t.prototype.reset=function(){this.Ai=0},t}(),Vr=function(){function t(t,n){void 0===t&&(t=[]),void 0===n&&(n=2048e3),this.Ei=t,this.Ri=new Hr(n)}return t.prototype.addEvent=function(t){this.Ri.addString(wt(t)),csArray.prototype.push.call(this.Ei,t)},t.prototype.addEventByTimestamp=function(t){for(var n=0;n<this.Ei.length;n+=1){if(this.Ei[n].date>=t.date)break}csArray.prototype.splice.call(this.Ei,n,0,t)},t.prototype.eventsCount=function(){return this.Ei.length},t.prototype.clearEvents=function(){this.Ri.reset(),this.Ei=[]},t.prototype.isFull=function(){return this.eventsCount()>=200},t.prototype.isThresholdReached=function(){return this.Ri.isThresholdReached()},t.prototype.getEvents=function(){return this.Ei},t.prototype.extractEvents=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=[],r=[];return csArray.prototype.forEach.call(this.Ei,(function(n){-1!==csArray.prototype.indexOf.call(t,n.type)?csArray.prototype.push.call(i,n):csArray.prototype.push.call(r,n)})),this.Ei=r,i},t.prototype.stringifyEvents=function(){return wt(this.Ei)},t.prototype.Ti=function(t){t.type===vr.INITIAL_DOM&&(window.CSDomSerialized=window.CSDomSerialized?window.CSDomSerialized+1:1)},nt([ri("RecordingBatch.addEvent")],t.prototype,"addEvent",null),t}(),Fr=function(){function t(){this.Oi=1}return t.prototype.getCurrentIndex=function(){return this.Oi},t.prototype.increment=function(){this.Oi+=1},t.prototype.reset=function(){this.Oi=1},t.prototype.getRequestParameters=function(){return{ri:"".concat(this.Oi)}},t}(),Br=function(){function t(){}return t.prototype.emit=function(n,i,r,e){void 0===e&&(e=document);var s="".concat(void 0!==r?r:t.Ni),o="".concat(s).concat(n),u=t.createEvent(o,{detail:i});null!==u&&e.dispatchEvent(u)},t.createEvent=function(t,n){if(void 0===n&&(n={}),"function"==typeof CustomEvent)return new CustomEvent(t,n);var i=this.ki();if(null===i)return null;var r=n.bubbles,e=void 0!==r&&r,s=n.cancelable,o=void 0!==s&&s,u=n.detail;return i.initCustomEvent(t,e,o,u),i},t.ki=function(){try{return document.createEvent("CustomEvent")}catch(t){return null}},t.Ni="cs.tracking.",t}(),zr=function(){function t(){this._isStarted=!1}return Object.defineProperty(t.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!1,configurable:!0}),t.prototype.start=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._isStarted||(this._isStarted=!0,this.onStart.apply(this,ot([],st(t),!1)))},t.prototype.stop=function(){this._isStarted&&(this._isStarted=!1,this.onStop())},t.prototype.restart=function(){this.stop(),this.start()},t}();!function(t){t.Visible="visible",t.Hidden="hidden",t.Blur="blur",t.PagehideVisible="pagehideVisible",t.PagehideHidden="pagehideHidden",t.ExitPageByNavigate="exitPageByNavigate"}(jr||(jr={}));var Gr,$r=function(){function t(){var t=this;this.Ci=!1,this.Ii=function(n){try{switch(n.type){case"visibilitychange":if("hidden"===document.visibilityState)return t._i(jr.Hidden);break;case"pagehide":return"hidden"===document.visibilityState?t._i(jr.PagehideHidden):t._i(jr.PagehideVisible);case"blur":return t._i(jr.Blur);case"navigate":return t.xi(n)?t._i(jr.ExitPageByNavigate):void 0;default:return}}catch(t){}}}return t.prototype.start=function(){this.Ci||(this.Ci=!0,this.Pi(),this.Mi(),this.Di(),tn()&&this.Li())},t.prototype.stop=function(){this.Ci&&(this.Ci=!1,this.Ui(),this.ji(),this.qi(),tn()&&this.Hi())},t.prototype.onEvent=function(t){this._i=t},t.prototype.Li=function(){window.navigation.addEventListener("navigate",this.Ii)},t.prototype.Hi=function(){window.navigation.removeEventListener("navigate",this.Ii)},t.prototype.Pi=function(){document.addEventListener("visibilitychange",this.Ii)},t.prototype.Ui=function(){document.removeEventListener("visibilitychange",this.Ii)},t.prototype.Mi=function(){window.addEventListener("pagehide",this.Ii)},t.prototype.ji=function(){window.removeEventListener("pagehide",this.Ii)},t.prototype.Di=function(){window.addEventListener("blur",this.Ii)},t.prototype.qi=function(){window.removeEventListener("blur",this.Ii)},t.prototype.xi=function(t){return t instanceof NavigateEvent!=!1&&(!t.hashChange&&!t.downloadRequest&&!t.formData)},t}(),Jr="null",Wr=null,Yr=[];function Xr(t){null==Wr||Wr.postMessage(t)}!!(null===(Gr=document.body)||void 0===Gr?void 0:Gr.getAttribute("data-cs-tag-extension"))&&(window._uxa?_uxa.push(["debugEvents",!0]):window._uxa=[["debugEvents",!0]],Wr=new BroadcastChannel("cs-tag"),document.addEventListener("cs.tracking.recordingEvent",(function(t){Xr({type:"UXA_EVENT",event:t.detail})})),Wr.addEventListener("message",(function(t){if("CONNECT"===t.data.type){if(t.data.sessionId===Jr)return;Jr=t.data.sessionId,csArray.prototype.forEach.call(Yr,(function(t){return t()})),null==Wr||Wr.postMessage({type:"CONNECTED",sessionId:Jr})}})));var Kr,Qr,Zr=function(t,n){void 0===n&&(n=""),this.name=t,this.format=n},te=function(t){function n(n){var i=t.call(this,n,"Value: {count}")||this;return i.count=0,i}return In(n,t),n.prototype.increase=function(t){void 0===t&&(t=1),this.count+=t},n.prototype.decrease=function(){this.count>0&&this.count--},n.prototype.clear=function(){this.count=0},n.prototype.getData=function(){return{count:this.count}},n}(Zr),ne=(function(t){function n(n,i){var r=t.call(this,n,"Value: {count}")||this;return r.Vi=i,r}In(n,t),n.prototype.getData=function(){return{count:this.Vi()}}}(Zr),function(t){function n(n){var i=t.call(this,n,"Living intances: {instances}<br/>Added: {added}<br/>Removed: {removed}")||this;return i.added=0,i.removed=0,i}return In(n,t),Object.defineProperty(n.prototype,"value",{get:function(){return this.added-this.removed},enumerable:!1,configurable:!0}),n.prototype.increase=function(){this.added++},n.prototype.decrease=function(){this.removed++},n.prototype.getData=function(){return{added:this.added,removed:this.removed,instances:this.added-this.removed}},n}(Zr)),ie=function(t){function n(n){var i=t.call(this,n,"Count: {count}<br/>Average: {average}ms<br/>Total: {total}ms")||this;return i.total=0,i.count=0,i}return In(n,t),Object.defineProperty(n.prototype,"average",{get:function(){return this.count?this.total/this.count:0},enumerable:!1,configurable:!0}),n.prototype.measure=function(t){var n=Kt();t(),this.count++,this.total+=Kt()-n},n.prototype.asyncMeasure=function(){var t=this,n=Kt();return function(){t.count++,t.total+=Kt()-n}},n.prototype.getData=function(){return{total:this.total,count:this.count,average:this.average}},n}(Zr),re={general:{category:"General",nbEvents:new te("Nb of Events"),pendingTasks:new te("Pending Tasks"),pendingEvents:new te("Pending Tasks"),nbOfMutationObservers:new ne("Nb of Mutation Observers")},mutations:{category:"Mutations",initialDOM:new ie("Initial DOM"),pendingMutations:new te("Nb of Mutations scheduled"),serializedMutations:new ie("Serialized Mutations"),count:new te("Mutation Count"),elementMutationObserved:new ne("Nb of Elements Observed by MutationObserver"),unobserveGarbageCollection:new ie("Unobserve GC")},visibilityObserver:{category:"Visibility Observer",hiddenElements:new te("Nb of Hidden Elements "),nbElements:new te("Nb of  Elements")}},ee=null;Kr=function(){var t=function(t){return Object.keys(t)},n=csArray.prototype.map.call(t(re),(function(t){return re[t]})),i=csArray.prototype.map.call(n,(function(n){return csArray.prototype.filter.call(csArray.prototype.map.call(t(n),(function(t){return n[t]})),(function(t){return t instanceof Zr}))})),r=csArray.prototype.map.call(n,(function(t,n){return{category:t.category,performanceCounters:csArray.prototype.map.call(i[n],(function(t){return{name:t.name,format:t.format}}))}}));Xr({type:"UXA_PERFORMANCE_COUNTER_SCHEMA",event:r}),ee||(ee=csSetInterval((function(){var t=di(vi(i,(function(t){return vi(t,(function(t){return t.getData()}))})),(function(t){return t}));Xr({type:"UXA_PERFORMANCE_COUNTER",event:t})}),1e3))},null!==Jr&&Kr(),csArray.prototype.push.call(Yr,Kr),function(t){t[t.Active=0]="Active",t[t.Paused=1]="Paused",t[t.Stopped=2]="Stopped"}(Qr||(Qr={}));var se=function(){function t(t,n,i){void 0===i&&(i=[]);this.Fi=t,this.Bi=n,this.zi=i,this.Gi=null,this.$i=Qr.Active,this.Ji=[]}return t.prototype.reset=function(){this.Gi=null,this.Ji=[],this.$i=Qr.Active},t.prototype.disconnect=function(){this.$i=Qr.Stopped},t.prototype.Wi=function(){var n=this;this.Bi(Qr.Paused),this.$i=Qr.Paused,csSetTimeout((function(){n.$i===Qr.Paused&&n.Yi()}),t.STOP_TIMEOUT)},t.prototype.Xi=function(){this.Bi(Qr.Active),this.$i=Qr.Active,yi(this.Ji,this.Fi),this.Ji=[]},t.prototype.Yi=function(){this.Ji=[],this.Bi(Qr.Stopped),this.$i=Qr.Stopped},t.prototype.pushEvent=function(t,n){if(n.isUserEvent&&(this.Gi=t.date,this.$i!==Qr.Active))return this.Xi(),void this.Fi(t);if(this.Ki(t))this.Fi(t);else switch(this.$i){case Qr.Active:if(this.Qi(t,n))return this.Wi(),void csArray.prototype.push.call(this.Ji,t);this.Fi(t);break;case Qr.Paused:csArray.prototype.push.call(this.Ji,t);case Qr.Stopped:}},t.prototype.Qi=function(n,i){return!i.isUserEvent&&null!==this.Gi&&n.date-this.Gi>t.INACTIVITY_TIMEOUT},t.prototype.Ki=function(t){return csArray.prototype.indexOf.call(this.zi,t.type)>-1},t.INACTIVITY_TIMEOUT=5e3,t.STOP_TIMEOUT=5e3,t}();function oe(t){return nn(t,"data:")}function ue(t){return nn(t,"#")}function ce(t){return!!t&&rn(t,".css")}function he(t){var n=csString.prototype.trim.call(t);if(""===t)return[];var i,r=Ln((i=n,csString.prototype.split.call(i,/\s(.+)/)),2),e=r[0],s=r[1];return s?(rn(e,",")||(s=function(t){return csString.prototype.split.call(t,/,(.+)/)[1]||""}(s)),Un([ae(e)],Ln(he(s)),!1)):[ae(e)]}function ae(t){return csString.prototype.split.call(t,/,$/)[0]}var fe=/(@import\s*("([^"]+)"|'([^']+)'))|(url\s*\(\s*((("([^"\]]+)"|'([^'\]]+)')\s*)|([^)\]]+))\))/g;function le(t,n){var i=csString.prototype.replace.call(t,fe,(function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r,e,s=t[3]||t[4],o=t[9]||t[10]||t[11],u=(r=(s||o).trim(),e=/(\\)*\\(?:([a-fA-F0-9]{1,6})|(.))[\n\t\x20]?/g,csString.prototype.replace.call(r,e,(function(t,n,i,r){if("\\"===n)return csString.prototype.slice.call(t,1);if(r)return r;var e=parseInt(i,16);return 55296<=e&&e<=57343||0===e||e>1114111?"�":csString.fromCodePoint(e)}))),c=s?"@import ":"",h=n(u)||u;return"".concat(c,"url(").concat(function(t){if(-1===csString.prototype.indexOf.call(t,'"'))return'"'.concat(t,'"');if(-1===csString.prototype.indexOf.call(t,"'"))return"'".concat(t,"'");return t}(h),")")}));return i}function ve(t){var n=new Set;return le(t,(function(t){var i,r;return n.add(null!==(r=null===(i=csString.prototype.match.call(t,/^["|'](.*)?["|']$/))||void 0===i?void 0:i[1])&&void 0!==r?r:t),t})),Si(n)}var de=new Map,ye=!an&&document.implementation.createHTMLDocument("");function we(t){if(!T(t))return null;var n=pe(t);if(null===n||0===n.length)return null;var i="";if($t(t.textContent))yi(n,(function(t){return i+=t.cssText}));else{var r=function(t){if(!ye)return 0;var n=de.get(t.textContent);if(n)return n;var i=t.cloneNode(!0);i.textContent=t.textContent,ye.head.appendChild(i);var r=pe(i);return n=r?r.length:0,de.set(t.textContent,n),ye.head.removeChild(i),n}(t);if(r===n.length)return null;if(r>n.length)return null;for(var e=new csArray(n.length-r),s=r,o=0;s<n.length;s+=1,o+=1)e[o]=n[s];yi(e,(function(t){return i+=t.cssText}))}return i}function pe(t){try{if(t.disabled)return null;var n=t.sheet;return n?n.cssRules||n.rules:null}catch(t){if("SecurityError"!==t.name&&"InvalidAccessError"!==t.name)throw t;return null}}var me=function(t){return t instanceof HTMLFormElement?"form":t.localName},ge=function(t){this.csId=Cr(t),this.props=Or.getStore(t)},Se=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=3,i.data=n.data,i}return a(n,t),n}(ge),be=function(t){function n(n){var i,r=t.call(this,n)||this;r.attributes=[],r.nodeType=1,r.localName=me(n),r.namespaceURI=null!==(i=n.namespaceURI)&&void 0!==i?i:void 0,r.children=[];var e=we(n);if(e){r.children=new csArray(csNodechildNodes.apply(n).length);var s=document.createTextNode(e),o=new Se(s);csArray.prototype.push.call(r.children,o)}return C(n)&&Tr.setProperty(r,"SVG",!0),r}return a(n,t),n.isElement=function(t){return 1===t.nodeType},n.getAttribute=function(t,n){return wi(t.attributes,(function(t){return t.name===n}))},n.getAttributeValue=function(t,n){var i;return null===(i=this.getAttribute(t,n))||void 0===i?void 0:i.value},n}(ge),Ae=function(){function t(t){var n=this;this.type="asyncEvent",this.Zi=!1,t&&t((function(t){return n.resolve(t)}))}return t.prototype.resolve=function(t){if(this.Zi)throw new Error("AsyncEvent already resolve.");null==t.timestamp&&(t=f(f({},t),{timestamp:this.timestamp})),this.tr=t,this.Zi=!0,this._n&&this._n(this.tr)},t.prototype.complete=function(t){this.Zi&&t(this.tr),this._n=t},t.prototype.wait=function(){var t=this;return new Promise((function(n){return t.complete(n)}))},t}();var Ee,Re,Te=(Ee="queueMicrotask",Re=csSetTimeout,void 0!==fn[Ee]?fn[Ee]:Re);"object"==typeof window&&Bt(window.csQueueMicrotask)&&(Te=window.csQueueMicrotask);var Oe=new Bn,Ne=new Bn,ke=1;function Ce(t,n){void 0===n&&(n="high");var i=ke;Oe.isEmpty&&Ne.isEmpty&&Ie((function(){if(ke===i){var t=Qn((function(){for(;!Ne.isEmpty;){Ne.pop()()}for(;!Oe.isEmpty;){Oe.pop()()}Ne.isEmpty||t()}),"groupMicrotask.run");t()}}));var r=t.name||t.toString(),e=Hn("groupMicrotask:".concat(n,":").concat(r),t);"high"===n?Ne.push(e):Oe.push(e)}function Ie(t,n){void 0===n&&(n=10),Te(0===n?t:function(){return Ie(t,n-1)})}function _e(t){return void 0===t&&(t=1),Pn(this,void 0,void 0,(function(){var n;return Mn(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<t?[4,new Promise((function(t){return Ce(t)}))]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))}var xe,Pe,Me=function(t,n){return void 0===n&&(n=0),csSetTimeout(function(t){return function(){try{t.apply(window,arguments)}catch(t){jn.critical(t)}}}(t),n)};!function(t){function n(){var t=[r()];return document.documentElement&&csArray.prototype.push.call(t,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),document.body&&csArray.prototype.push.call(t,document.body.scrollHeight,document.body.offsetHeight),Math.max.apply(Math,Un([],Ln(t),!1))}function i(){return document.documentElement.scrollWidth}function r(){return window.innerHeight}function e(){return window.innerWidth}function s(){var t=window.csScreen.width;return Ut(t)&&t>0?t:window.screen.width}function o(){var t=window.csScreen.height;return Ut(t)&&t>0?t:window.screen.height}t.documentHeight=n,t.documentWidth=i,t.windowHeight=r,t.windowWidth=e,t.screenWidth=s,t.screenHeight=o,t.windowOffsetX=function(){return window.pageXOffset},t.windowOffsetY=function(){return window.pageYOffset},t.getRequestParameters=function(){return{dw:"".concat(i()),dh:"".concat(n()),ww:"".concat(e()),wh:"".concat(r()),sw:"".concat(s()),sh:"".concat(o())}}}(xe||(xe={}));var De,Le=null!==(Pe=fn.Node)&&void 0!==Pe?Pe:Object;function Ue(){var t=new Set;return{add:function(n){t.add(n),1===t.size&&csSetTimeout((function(){t.clear()}))},has:function(n){return t.has(n)},del:function(n){t.delete(n)},clear:function(){t.clear()},values:function(){return Si(t)},get count(){return t.size}}}function je(t,n){void 0===n&&(n=!1);var i=Ue();return{push:function(r){0===i.count&&(n?Ce:csSetTimeout)((function(){t(i.values()),i.clear()}));i.add(r)}}}!function(t){var n="isConnected"in Le.prototype?function(t){return t.isConnected}:function(t){return!(t.ownerDocument&&t.ownerDocument.compareDocumentPosition(t)&t.DOCUMENT_POSITION_DISCONNECTED)};t.forEachChild=function(t,n){for(var i=t;i;i=csNodenextSibling.apply(i))n(t)},t.isConnected=function(t){return n(t)},t.getAncestors=function(t,n){var i,e,s=[];try{for(var o=Dn(r(t,n)),u=o.next();!u.done;u=o.next()){var c=u.value;csArray.prototype.push.call(s,c)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(i)throw i.error}}return s};var i=function(t,n){var i;return null!==(i=csNodeparentNode.apply(t))&&void 0!==i?i:n&&P(t)?t.host:null};function r(t,n){var r,e;return void 0===n&&(n=!1),Mn(this,(function(s){switch(s.label){case 0:r=t,s.label=1;case 1:return r?[4,r]:[3,3];case 2:return s.sent(),(e=i(r,n))&&e!==r?(r=e,[3,1]):[3,3];case 3:return[2]}}))}function e(n){var i;return n.parentElement?n.parentElement:t.getRootNode(n)?null===(i=t.getRootNode(n))||void 0===i?void 0:i.host:null}function s(t){var n,i;if(!1===(null===(n=t.checkVisibility)||void 0===n?void 0:n.call(t,{checkOpacity:!0,checkVisibilityCSS:!0})))return!0;if(!t.offsetParent){if(!t.getBoundingClientRect)return jn.warn("SUP-11432: Element doesn't have getBoundingClientRect. Node: ".concat(t instanceof Le," Ctor: ").concat(null===(i=null==t?void 0:t.constructor)||void 0===i?void 0:i.name)),!1;var r=t.getBoundingClientRect();if(0==r.width&&0==r.height)return!0}var e,s=window.getComputedStyle(t);return!s||("none"===s.display||"hidden"===s.visibility||"collapse"===s.visibility||"0"===s.opacity||"opacity(0)"===s.filter||"0px"===s.width&&"0px"===s.height||("transparent"===(e=s.color)||/^(rgba|hsla)\(\d+, \d+%?, \d+%?, 0\)$/.test(e)))}function o(t){var n=t.getBoundingClientRect(),i=n.left+.5*n.width,r=n.top+.5*n.height;return u(document,i,r)}function u(n,i,r){var e=n.elementFromPoint(i,r);if(!e)return null;var s=rr.getShadowRoot(e);return s&&s!=t.getRootNode(document.body)&&s!==n?u(s,i,r):e}function c(t){var n=o(t);return null!==n&&(t===n||t.contains(n))}t.findAncestor=function(t,n,r){void 0===r&&(r=!1);for(var e=t;e;){if(n(e))return e;var s=i(e,r);if(!s||s===e)break;e=s}return null},t.walkUp=r,t.isDescendantOf=function n(i,r){if(i===r||r.contains(i))return!0;var e=t.getParentElement(i);return!(!e||e===i)&&n(e,r)},t.getParentElement=e,t.findAllElements=function(t,n){var i,r,e;void 0===n&&(n=document);var s=li(window.csquerySelectorAll[n.nodeType].call(n,t)),o=rr.getAllShadowHosts(n);try{for(var u=Dn(o),c=u.next();!c.done;c=u.next()){var h=c.value,a=rr.getShadowRoot(h);if(a){var f=li(window.csquerySelectorAll[a.nodeType].call(a,t));(e=csArray.prototype.push).call.apply(e,Un([s],Ln(f),!1))}}}catch(t){i={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return s},t.getRootNode=function(){if("getRootNode"in Le.prototype)return function(t,n){return t.getRootNode(n)};function t(i){var r=n(i);return P(r)?t(r.host):r}function n(t){return null!=csNodeparentNode.apply(t)?n(csNodeparentNode.apply(t)):t}return function(i,r){return"object"==typeof r&&Boolean(r.composed)?t(i):n(i)}}(),t.isHiddenByCSS=s,t.areAncestorsHiddenByCSS=function t(n){if(s(n))return!0;var i=e(n);return null!=i&&t(i)},t.getTopAncestorHiddenByCSS=function(t){var n=null,i=t;do{if(!s(i))break;n=i}while(i=e(i));return n},t.getTopElement=o,t.getElementOnTop=function(n){if(!n.getBoundingClientRect)return null;var i=n.getBoundingClientRect(),r=i.x+i.width/2,e=i.y+i.height/2;return t.getTopElementFromPoint(document,r,e)},t.getTopElementFromPoint=u,t.isVisibleInDocument=function(t){return!function(t){var n=t.getBoundingClientRect();return n.right+xe.windowOffsetX()<0||n.bottom+xe.windowOffsetY()<0}(t)&&!s(t)&&!function(t){var n=o(t);return null!==n&&!t.contains(n)}(t)},t.isVisibleInViewportInForeground=function(t){return!s(t)&&c(t)},t.isInViewPort=c,t.getAttributeNS=function(t,n,i){var r=t.getAttributeNS(n,i);return""===r?t.hasAttributeNS(n,i)?r:null:r},t.isElementFocusable=function(t){return!!t.hasAttribute("tabIndex")||("true"===t.getAttribute("contentEditable")||(!(!E(t)||!t.hasAttribute("href"))||(!(!(I(t)||N(t)||O(t)||(n=t,S(n)&&"button"===n.localName))||t.hasAttribute("disabled"))||!(!function(t){return S(t)&&"details"===t.localName}(t)&&!function(t){return S(t)&&"summary"===t.localName}(t)))));var n}}(De||(De={}));var qe,He=csSymbol(),Ve=function(){function t(t){var n,i,r,e,s,o,u,c,h=this;this._n=t,this.nr=null,this.ir=null,this.rr=null,this.er=null,this.ur=je((function(t){return h.processUpdateRulesInATick(t)})),this._n=function(n){return Ce((function(){return t(n)}))},"function"==typeof(null===(i=null===(n=window.CSSStyleSheet)||void 0===n?void 0:n.prototype)||void 0===i?void 0:i.insertRule)&&(this.nr=sr({target:window.CSSStyleSheet.prototype,methodName:"insertRule",hook:function(t){var n=t.context,i=t.args;h.processInsertRule(n,i)}})),"function"==typeof(null===(e=null===(r=window.CSSStyleSheet)||void 0===r?void 0:r.prototype)||void 0===e?void 0:e.deleteRule)&&(this.ir=sr({target:window.CSSStyleSheet.prototype,methodName:"deleteRule",hook:function(t){var n=t.context,i=t.args;h.processDeleteRule(n,i)}})),"function"==typeof(null===(o=null===(s=window.CSSGroupingRule)||void 0===s?void 0:s.prototype)||void 0===o?void 0:o.insertRule)&&(this.rr=sr({target:window.CSSGroupingRule.prototype,methodName:"insertRule",hook:function(t){var n=t.context;return h.processUpdateRule(n)}})),"function"==typeof(null===(c=null===(u=window.CSSGroupingRule)||void 0===u?void 0:u.prototype)||void 0===c?void 0:c.deleteRule)&&(this.er=sr({target:window.CSSGroupingRule.prototype,methodName:"deleteRule",hook:function(t){var n=t.context;return h.processUpdateRule(n)}}))}return t.prototype.observe=function(){var t,n,i,r;null===(t=this.nr)||void 0===t||t.activate(),null===(n=this.ir)||void 0===n||n.activate(),null===(i=this.rr)||void 0===i||i.activate(),null===(r=this.er)||void 0===r||r.activate()},t.prototype.disconnect=function(){var t,n,i,r;null===(t=this.nr)||void 0===t||t.deactivate(),null===(n=this.ir)||void 0===n||n.deactivate(),null===(i=this.rr)||void 0===i||i.deactivate(),null===(r=this.er)||void 0===r||r.deactivate()},t.prototype.processInsertRule=function(t,n){var i=Ln(n,2),r=i[0],e=i[1];if(null!=t[He]||t.ownerNode){var s={type:"cssRuleInserted",sheet:t,rule:r,index:e};this._n(s)}},t.prototype.processUpdateRule=function(t){for(var n=t;null!==n.parentRule;)n=n.parentRule;null!==n.parentStyleSheet&&this.ur.push(n)},t.prototype.processUpdateRulesInATick=function(t){var n,i;try{for(var r=Dn(t),e=r.next();!e.done;e=r.next()){var s=e.value;if(null===s.parentStyleSheet)return;var o=s.parentStyleSheet,u=csArray.prototype.indexOf.call(li(o.cssRules),s);if(-1===u)return;var c={type:"cssRuleUpdated",sheet:o,rule:s.cssText,index:u};this._n(c)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.prototype.processDeleteRule=function(t,n){var i=Ln(n,1)[0];if(null!=t[He]||t.ownerNode){var r={type:"cssRuleDeleted",sheet:t,index:i};this._n(r)}},xn([qn()],t.prototype,"observe",null),xn([qn()],t.prototype,"disconnect",null),xn([qn()],t.prototype,"processInsertRule",null),xn([qn()],t.prototype,"processUpdateRule",null),xn([qn()],t.prototype,"processUpdateRulesInATick",null),xn([qn()],t.prototype,"processDeleteRule",null),t}(),Fe=function(){function t(t){var n=this;this.cr=1,this.hr=new Set,this.ar=null,this.lr=null,this.vr=function(t,i){"initial"!==i&&"added"!==i||n.setStyleSheets(t,t.adoptedStyleSheets)},this.yr=function(t){var i=t.sheet;if(n.hr.has(i))if("cssRuleInserted"===t.type){var r={type:"adoptedStyleSheetRuleInserted",sheetId:i[He],rule:t.rule,index:t.index};n._n(r)}else if("cssRuleDeleted"===t.type){var e={type:"adoptedStyleSheetRuleDeleted",sheetId:i[He],index:t.index};n._n(e)}else if("cssRuleUpdated"===t.type){var s={type:"adoptedStyleSheetRuleUpdated",sheetId:i[He],rule:t.rule,index:t.index};n._n(s)}},this._n=function(i){return Ce((function(){return Pn(n,void 0,void 0,(function(){return Mn(this,(function(n){switch(n.label){case 0:return[4,_e(2)];case 1:return n.sent(),t(i),[2]}}))}))}))},this.oi=new ur(this.vr),"adoptedStyleSheets"in Document.prototype&&(this.ar=or(window.Document.prototype,"adoptedStyleSheets",(function(t,i){n.setStyleSheets(t,i)}))),"ShadowRoot"in window&&"adoptedStyleSheets"in window.ShadowRoot.prototype&&(this.lr=or(window.ShadowRoot.prototype,"adoptedStyleSheets",(function(t,i){n.setStyleSheets(t,i)}))),this.wr=new Ve(this.yr)}return t.prototype.observe=function(){var t,n;this.setStyleSheets(document,document.adoptedStyleSheets),this.oi.observe(),null===(t=this.ar)||void 0===t||t.activate(),null===(n=this.lr)||void 0===n||n.activate(),this.wr.observe()},t.prototype.disconnect=function(){var t,n;this.hr.clear(),this.oi.disconnect(),null===(t=this.ar)||void 0===t||t.deactivate(),null===(n=this.lr)||void 0===n||n.deactivate(),this.wr.disconnect()},t.prototype.setStyleSheets=function(t,n){if(n.length){this.pr(n);var i={type:"adoptedStyleSheetsSet",target:t,sheetsIds:vi(n,(function(t){return t[He]}))};this._n(i)}},t.prototype.pr=function(t){var n=this;yi(t,(function(t){if(!n.hr.has(t)){var i=n.cr++;t[He]=i,n.hr.add(t);var r={type:"adoptedStyleSheetRegistered",sheetId:i,cssRules:n.mr(t)};n._n(r)}}))},t.prototype.mr=function(t){var n=[];try{n=vi(t.cssRules,(function(t){return t.cssText}))}catch(t){}return n},xn([qn()],t.prototype,"observe",null),xn([qn()],t.prototype,"disconnect",null),xn([qn()],t.prototype,"setStyleSheets",null),t}(),Be=Qn((function(t){var n,i,r,e=[],s=function(t){var n,i,r,e,s,o=new Map,u=function(t){var n=o.get(t);return n||o.set(t,n=[]),n},c=function(t,n){var i=u(t);i.length&&"insert"!==i[0].operation&&"remove"!==i[0].operation&&(i.length=0),csArray.prototype.push.call(i,n)},h=function(t){switch(t.type){case"attributes":var n=u(t.target);if("insert"===(null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.operation)||!De.isConnected(t.target))return"continue";var i=csArray.prototype.findIndex.call(n,(function(n){return"attributes"===n.mutation.type&&n.mutation.attributeName===t.attributeName})),o={operation:"attribute",mutation:t};i>=0?n[i]=o:csArray.prototype.push.call(n,o);break;case"characterData":n=u(t.target.parentElement);var h=u(t.target);if(function(t,n,i){var r=csSymbol.for(i?"".concat(n,":").concat(i):n),e=Xt(),s=t[r];if(s&&e<s)return!0;return t[r]=e+ze,!1}(t.target,"characterData"))return"continue";if("insert"===(null===(e=n[0])||void 0===e?void 0:e.operation)||"insert"===(null===(s=h[0])||void 0===s?void 0:s.operation)||!De.isConnected(t.target))return"continue";h[0]={operation:"characterData",mutation:t};break;case"childList":yi(t.removedNodes,(function(n){return c(n,{operation:"remove",mutation:t})})),yi(t.addedNodes,(function(n){return c(n,{operation:"insert",mutation:t})}))}};try{for(var a=Dn(t),f=a.next();!f.done;f=a.next()){h(f.value)}}catch(t){n={error:t}}finally{try{f&&!f.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}(t);try{for(var o=Dn(t),u=o.next();!u.done;u=o.next()){var c=u.value;switch(c.type){case"attributes":case"characterData":csArray.prototype.push.call(e,c);break;case"childList":(r=csArray.prototype.push).call.apply(r,Un([e],Ln(Ge(c,s)),!1))}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}var h=mi(e,(function(t){return!function(t,n){var i;if("attributes"===t.type||"characterData"===t.type){var r=n.get(t.target);return!r||!pi(r,(function(n){return n.mutation===t}))}if(null===(i=t.addedNodes)||void 0===i?void 0:i.length){if(t.target===document.body)return!1;var e=function(t){var i,r;return"insert"===(null===(r=null===(i=n.get(t))||void 0===i?void 0:i[0])||void 0===r?void 0:r.operation)};return!!e(t.target)||null!==De.findAncestor(t.target,e,!0)}return!1}(t,s)}));return csArray.prototype.sort.call(h,(function(t,n){if("childList"===t.type&&"childList"===n.type){if(t.removedNodes.length&&n.removedNodes.length)return 0;if(t.removedNodes.length&&!n.addedNodes.length)return 1;if(n.removedNodes.length&&!t.addedNodes.length)return-1}return 0})),h}),"optimizeMutations");!function(t){t.Move="remove-insert",t.Remove="remove-remove",t.NoOp="insert-remove",t.Insert="insert-insert",t.None="none"}(qe||(qe={}));var ze=30;function Ge(t,n){var i,r,e,s=function(t){return(null==n.get(t)?void 0:csArray.prototype.reduce.call(n.get(t),(function(t,n){return"attribute"!==n.operation&&"characterData"!==n.operation?t+1:t}),0))||0},o=function(t){return pi(t.addedNodes,(function(t){return s(t)>1}))||pi(t.removedNodes,(function(t){return s(t)>1}))};if(t.addedNodes.length&&!t.removedNodes.length&&!pi(t.addedNodes,De.isConnected))return[];if(!De.isConnected(t.target)&&!o(t))return[];if(!o(t)){var u=Je(t),c=We(t);if(c||u!==t.nextSibling){var h=[];return csArray.prototype.push.call(h,{nextSibling:u,previousSibling:c,target:t.target,type:"childList",addedNodes:t.addedNodes,removedNodes:t.removedNodes}),h}return[t]}var a=function(t,n){return mi(t.addedNodes,(function(i){var r=Ye(i,n),e=mi(n.get(i),(function(t){return"insert"===t.operation}));switch(r){case qe.Insert:return t===e[e.length-1].mutation;case qe.None:return!0;case qe.Move:case qe.Remove:case qe.NoOp:return!1}}))}(t,n),f=function(t,n){return mi(t.removedNodes,(function(i){var r=Ye(i,n),e=mi(n.get(i),(function(t){return"remove"===t.operation}));switch(r){case qe.Remove:return t===e[e.length-1].mutation;case qe.None:return!0;case qe.Move:case qe.Insert:case qe.NoOp:return!1}}))}(t,n),l=function(t,n){return mi(t.addedNodes,(function(i){var r=mi(n.get(i),(function(t){return"insert"===t.operation}));return Ye(i,n)===qe.Move&&t===r[r.length-1].mutation}))}(t,n),v=$e(a),d=$e(l),y=[];if(v.length>1||d.length>1){var w=function(t,n,i,r){var e=[],s=!0;return yi(t,(function(t){0!==t.length&&(csArray.prototype.push.call(e,{nextSibling:csNodenextSibling.apply(t[t.length-1]),previousSibling:t[0].previousSibling,target:i.target,type:"childList",addedNodes:t,removedNodes:s?r:[]}),s=!1)})),yi(n,(function(t){0!==t.length&&csArray.prototype.push.call(e,{nextSibling:csNodenextSibling.apply(t[t.length-1]),previousSibling:t[0].previousSibling,target:i.target,movedNodes:t,addedNodes:[],removedNodes:[],type:"childList"})})),function(t,n){var i=function(t){var n;return(null===(n=t.movedNodes)||void 0===n?void 0:n.length)?t.movedNodes[0]:t.addedNodes[0]},r=function(n){return function(t,n){for(var i=t.length,r=0;r<i;r++)if(n(t[r],r))return r;return-1}(t.addedNodes,(function(t){return t===i(n)}))};csArray.prototype.sort.call(n,(function(t,n){return r(t)-r(n)}))}(i,e),e}(v,d,t,f);return(i=csArray.prototype.push).call.apply(i,Un([y],Ln(w),!1)),y}return(a.length>0||f.length>0)&&csArray.prototype.push.call(y,{nextSibling:null!==(r=Je(t))&&void 0!==r?r:t.nextSibling,previousSibling:null!==(e=We(t))&&void 0!==e?e:t.previousSibling,target:t.target,type:"childList",addedNodes:a,removedNodes:f}),l.length&&csArray.prototype.push.call(y,{nextSibling:csNodenextSibling.apply(l[0]),previousSibling:l[0].previousSibling,target:t.target,movedNodes:l,addedNodes:[],removedNodes:[],type:"childList"}),y}function $e(t){if(t.length<=1)return[t];for(var n=[],i=0,r=0;r<t.length-1;r+=1)csNodenextSibling.apply(t[r])!==t[r+1]&&(csArray.prototype.push.call(n,csArray.prototype.slice.call(t,i,r+1)),i=r+1);return i>0&&csArray.prototype.push.call(n,csArray.prototype.slice.call(t,i,t.length)),n}function Je(t){if(!t.nextSibling)return null;if(!De.isConnected(t.nextSibling)){if(t.addedNodes.length)return csNodenextSibling.apply(t.addedNodes[t.addedNodes.length-1]);if(t.removedNodes.length)return csNodenextSibling.apply(t.removedNodes[t.removedNodes.length-1])}return De.getParentElement(t.nextSibling)!==t.target?null:t.nextSibling}function We(t){if(t.previousSibling&&!De.isConnected(t.previousSibling)){if(t.addedNodes.length)return t.addedNodes[0].previousSibling;if(t.removedNodes.length)return t.removedNodes[0].previousSibling}return null}function Ye(t,n){var i=n.get(t);if(!i||i.length<=1)return qe.None;var r=wi(i,(function(t){return"attribute"!==t.operation})),e=function(t,n){for(var i=t.length-1;i>=0;i--)if(n(t[i],i))return t[i]}(i,(function(t){return"attribute"!==t.operation}));return"".concat(r.operation,"-").concat(e.operation)}var Xe={childList:!0,subtree:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0},Ke=function(){function t(t,n){var i=this;this._n=t,this.gr=n;var r=je((function(n){return t(n,i)}),!0);this._n=Hn("DocumentMutationObserver:callback",(function(t){yi(t,(function(t){return r.push(t)}))}))}var n;return t.setShadowRootFilter=function(t){csArray.prototype.push.call(n.shadowRootFilters,t)},t.Sr=function(t){if(n.shadowRootFilters.length>0&&P(t))for(var i=0;i<n.shadowRootFilters.length;i++){if((0,n.shadowRootFilters[i])(t))return}this.observedTargets.add(t),this.mutationObserver.observe(t,Xe)},t.disconnectShadowRoot=function(t){var i=this;this.observedTargets.has(t)&&(this.observedTargets.delete(t),this.isRefreshing||(this.isRefreshing=!0,Ce((function(){i.isRefreshing=!1;var t=i.mutationObserver.takeRecords();t.length&&n.mutationCallback(t),i.mutationObserver.disconnect(),i.observedTargets.forEach((function(t){i.mutationObserver.observe(t,Xe)}))}))))},t.observe=function(t,n){var i=this;csArray.prototype.push.call(this.callbacks,t),n&&csArray.prototype.push.call(this.shadowRootCallbacks,n),this.started?n&&csArray.prototype.forEach.call(rr.getAllShadowHosts(document),(function(t){return n(csElementshadowRoot.apply(t),"initial")})):(this.mutationObserver=new csMutationObserver(this.mutationCallback),this.Sr(document),this.shadowRootObserver=new ur(this.onShadowRoot),this.shadowRootObserver.observe(),this.started=!0,yi(this.shadowRootObserver.shadowRoots,(function(t){i.Sr(t)})))},t.disconnect=function(t,i){var r,e;this.callbacks=csArray.prototype.filter.call(this.callbacks,(function(n){return n!==t})),i&&(this.shadowRootCallbacks=csArray.prototype.filter.call(this.shadowRootCallbacks,(function(t){return t!==i}))),0===this.callbacks.length&&(this.callbacks=[],this.shadowRootCallbacks=[],n.shadowRootFilters=[],null===(r=this.shadowRootObserver)||void 0===r||r.disconnect(),null===(e=this.mutationObserver)||void 0===e||e.disconnect(),this.observedTargets.clear(),this.started=!1)},Object.defineProperty(t.prototype,"shadowRoots",{get:function(){var t,i;return null!==(i=null===(t=n.shadowRootObserver)||void 0===t?void 0:t.shadowRoots)&&void 0!==i?i:[]},enumerable:!1,configurable:!0}),t.prototype.takeRecords=function(){var t,i=null===(t=n.mutationObserver)||void 0===t?void 0:t.takeRecords(),r=n.shadowRootObserver.takeRecords();return(null==i?void 0:i.length)&&r.length?function(t,n,i){for(var r=t.length+n.length+((null==i?void 0:i.length)||0),e=new csArray(r),s=0,o=0;o<t.length;o++)e[s++]=t[o];for(o=0;o<n.length;o++)e[s++]=n[o];if(!i)return e;for(o=0;o<i.length;o++)e[s++]=i[o];return e}(i,r):null!=i?i:r},t.prototype.observe=function(){n.observe(this._n,this.gr)},t.prototype.disconnect=function(){n.disconnect(this._n,this.gr)},n=t,t.callbacks=[],t.shadowRootCallbacks=[],t.started=!1,t.observedTargets=new Set,t.shadowRootFilters=[],t.mutationCallback=function(t){re.mutations.count.increase(t.length),csArray.prototype.forEach.call(n.callbacks,(function(i){return i(t,n.mutationObserver)}))},t.onShadowRoot=function(t,i){yi(n.shadowRootCallbacks,(function(n){return n(t,i)})),"removed"!==i?n.Sr(t):n.disconnectShadowRoot(t)},t.isRefreshing=!1,xn([qn()],t.prototype,"observe",null),xn([qn()],t.prototype,"disconnect",null),t}(),Qe=function(){function t(t){var n=this;this._n=t,this.br=function(t){t.sheet.ownerNode&&("cssRuleInserted"===t.type?n._n({type:t.type,target:t.sheet.ownerNode,rule:t.rule,index:t.index}):"cssRuleDeleted"===t.type?n._n({type:t.type,target:t.sheet.ownerNode,index:t.index}):"cssRuleUpdated"===t.type&&n._n({type:t.type,target:t.sheet.ownerNode,rule:t.rule,index:t.index}))},this._n=function(n){return Ce((function(){return t(n)}))},this.Ar=new Ve((function(t){return Ce((function(){return Pn(n,void 0,void 0,(function(){return Mn(this,(function(n){switch(n.label){case 0:return[4,_e()];case 1:return n.sent(),this.br(t),[2]}}))}))}))})),"adoptedStyleSheets"in Document.prototype&&(this.Er=new Fe(t))}return t.prototype.observe=function(){var t,n=this;this.Jn=new Ke((function(t){return n.Rr(t)}),(function(t,i){"added"===i&&n.Tr(t)})),this.Jn.observe(),this.Ar.observe(),null===(t=this.Er)||void 0===t||t.observe()},t.prototype.disconnect=function(){var t,n;null===(t=this.Jn)||void 0===t||t.disconnect(),this.Ar.disconnect(),null===(n=this.Er)||void 0===n||n.disconnect()},t.prototype.Rr=function(t){for(var n=Be(t),i=0;i<n.length;i++){var r=n[i];if(r)switch(r.type){case"attributes":this.processAttributeChanged(r);break;case"characterData":this.processCharacterDataChanged(r);break;case"childList":this.processChildListChanged(r);break;default:jn.error("processRawMutations: unknown record type '".concat(r.type,"'"))}else jn.error("processRawMutations: empty record")}},t.prototype.processAttributeChanged=function(t){var n={type:"attributeChanged",target:t.target,attribute:t.attributeName,namespace:t.attributeNamespace,oldValue:t.oldValue,newValue:De.getAttributeNS(t.target,t.attributeNamespace,t.attributeName)};this._n(n)},t.prototype.processCharacterDataChanged=function(t){var n={type:"characterDataChanged",target:t.target,oldValue:t.oldValue,newValue:t.target.data};this._n(n)},t.prototype.processChildListChanged=function(t){var n,i,r;if(null===(n=t.movedNodes)||void 0===n?void 0:n.length){var e={type:"nodesMoved",target:t.target,nodes:t.movedNodes,previousSibling:t.movedNodes[0].previousSibling||void 0,nextSibling:csNodenextSibling.apply(t.movedNodes[t.movedNodes.length-1])||void 0};this._n(e)}if(null===(i=t.addedNodes)||void 0===i?void 0:i.length){var s=[];if(yi(t.addedNodes,(function(t){csArray.prototype.push.call(s,t)})),0===s.length)return;var o={type:"nodesAdded",target:t.target,previousSibling:t.previousSibling,nextSibling:t.nextSibling,nodes:s};this._n(o)}if(null===(r=t.removedNodes)||void 0===r?void 0:r.length){var u={type:"nodesRemoved",target:t.target,nodes:vi(t.removedNodes,(function(t){return t}))};this._n(u)}},t.prototype.Tr=function(t){var n={type:"shadowRootAttached",target:t.host,shadowRoot:t};this._n(n)},xn([qn()],t.prototype,"processAttributeChanged",null),xn([qn()],t.prototype,"processCharacterDataChanged",null),xn([qn()],t.prototype,"processChildListChanged",null),t}(),Ze=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=4,i.data=n.data,i}return a(n,t),n}(ge),ts=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=8,i.data=n.data,i}return a(n,t),n}(ge),ns=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=10,i.name=n.name,i.publicId=n.publicId,i.systemId=n.systemId,i}return a(n,t),n}(ge),is=function(t){function n(i){var r=t.call(this,i)||this;return r.nodeType=9,r.baseURI=n.getBaseURI(i),r.children=[],r}return a(n,t),n.getBaseURI=function(t){var n=t.baseURI;if(null==n){var i=t.getElementsByTagName("base");n=0!==i.length?i[0].href:t.URL}return n},n}(ge),rs=function(t){function n(n){var i=t.call(this,n)||this;return i.nodeType=11,i.mode=n.mode,i.children=[],i}return a(n,t),n}(ge),es=function(){function t(t,n,i){var r;"string"==typeof t?(this.name=t,this.value=n,this.namespaceURI=null!=i?i:""):(this.name=t.name,this.value=t.value,this.namespaceURI=null!==(r=t.namespaceURI)&&void 0!==r?r:"")}return t.create=function(n){for(var i,r,e=n.attributes,s=new csArray(e.length),o=0;o<s.length;o++){var u=e[o];s[o]=new t(u.name,u.value,u.namespaceURI),"href"===u.name&&R(n)&&(s[o].value=null!==(r=null===(i=n.sheet)||void 0===i?void 0:i.href)&&void 0!==r?r:u.value)}return s},t}(),ss={workTime:40,async:!0,initialDOM:!0},os=(us(),csSymbol("InitialDom"));function us(t){return void 0===t&&(t=ss),function(n,i){var r;null!==(r=t.workTime)&&void 0!==r||(t.workTime=ss.workTime);var e,s=Hn("serialize:callback",(function(t){return i(t)})),o=new Bn,u=function(n,i){n.hasChildNodes()&&o.push({node:n,serializedNode:i});var r=n instanceof Element&&csElementshadowRoot.apply(n);if(r){var e=i.shadowRoot=hs(r);t.async&&t.initialDOM&&Tr.setProperty(r,os,!0),u(r,e)}},c=!0,h=8,a=Hn("work",(function(){var r;if(c)e=hs(n),t.async&&t.initialDOM&&Tr.setProperty(n,os,!0),u(n,e),c=!1;else if(o.isEmpty)return;for(var f=function(t){if(t<1)throw new Error("Precision should be >= 1");var n=0,i=performance.now();return{started:i,elapsed:function(){return++n%t==0&&(i=performance.now()),i-this.started}}}(100);!o.isEmpty;){if(t.async&&f.elapsed()>=t.workTime)return void(--h<=0&&csSetTimeout(a));var l=o.pop(),v=l.node,d=null!==(r=l.serializedNode.children)&&void 0!==r?r:[];if(!k(v))for(var y=0,w=csNodefirstChild.apply(v);w;w=csNodenextSibling.apply(w)){var p=hs(w);t.async&&t.initialDOM&&Tr.setProperty(w,os,!0),d[y++]=p,u(w,p)}}t.async?csSetTimeout((function(){return s(e)})):i(e)}));if(t.async)for(var f=0;f<h;f++)csSetTimeout(a,1);else t.workTime=1/0,a()}}var cs=Qn((function(t){for(var n=hs(t),i=n,r=0,e=csNodefirstChild.apply(t);e;e=csNodenextSibling.apply(e))i.children[r++]=cs(e);var s=t.shadowRoot;return s&&(i.shadowRoot=cs(s)),n}),"serializeSync");function hs(t){var n,i;switch(t.nodeType){case 1:i=n=new be(t),n.attributes=function(t){if(k(t))return[];return es.create(t)}(t);break;case 3:i=new Se(t);break;case 4:i=new Ze(t);break;case 8:i=new ts(t);break;case 10:i=new ns(t);break;case 9:i=new is(t);break;case 11:i=new rs(t);break;default:throw new Error("Node type not supported: "+t.nodeType)}return i}var as,fs=function(){function t(){this.Or=[],this.isStarted=!1}return t.prototype.produceEvent=function(t){this.isStarted&&(t.timestamp=Xt(),csArray.prototype.forEach.call(this.Or,(function(n){return n(t)})))},t.prototype.onStop=function(){},t.prototype.start=function(){this.isStarted||(this.isStarted=!0,this.onStart())},t.prototype.stop=function(){this.isStarted&&(this.isStarted=!1,this.onStop(),this.Or=[])},t.prototype.subscribe=function(t){var n=this;return csArray.prototype.push.call(this.Or,t),function(){var i=csArray.prototype.indexOf.call(n.Or,t);csArray.prototype.splice.call(n.Or,i,1)}},t}(),ls=us(),vs=function(t){function n(){var n=t.apply(this,p([],w(arguments),!1))||this;return n.Nr=!1,n}return a(n,t),n.prototype.onStart=function(){var t=this;this.Nr=!0,this._n=function(t,n){var i=!1,r=function(){if(!i)return t.apply(n,arguments)};return r.cancel=function(){return i=!0},r}(this.kr,this),this.Cr=new Qe(this._n),this.Cr.observe();var n=re.mutations.initialDOM.asyncMeasure(),i=function(){t.Nr=!1,os=csSymbol("InitialDom"),n()};this.produceEvent(new Ae((function(t){return ls(document,(function(n){i(),t({type:"DomEvent",domEvent:"initialDOM",initialDOM:n})}))})))},n.prototype.stopForInactivity=function(){this.isStarted&&(this.isStarted=!1,this.onStop())},n.prototype.onStop=function(){var t,n;this.Nr=!1,null===(t=this._n)||void 0===t||t.cancel(),null===(n=this.Cr)||void 0===n||n.disconnect()},n.prototype.Ir=function(t,n){var i={type:"DomEvent",domEvent:n.type,target:0,targetProps:{}};return"target"in n&&(i.target=Cr(n.target),i.targetProps=Tr.getProperties(n.target)),[n,i]},n.prototype.kr=function(t){if(!this._r(t))switch(t.type){case"attributeChanged":var n=w(this.Ir(t.type,t),2),i=n[0];(M=n[1]).attribute=i.attribute,M.isSvg=C(i.target),M.namespace=i.namespace,M.newValue=i.newValue,M.oldValue=i.oldValue,M.localName=me(i.target),M.linkRel=A(i.target)?i.target.rel:null,M.parentLocalName=i.target.parentElement?me(i.target.parentElement):void 0,"input"===M.localName&&(M.inputType=i.target.getAttribute("type")),this.produceEvent(M);break;case"characterDataChanged":var r=w(this.Ir(t.type,t),2),e=r[0];(M=r[1]).newValue=e.newValue,M.oldValue=e.oldValue,M.targetNodeType=e.target.nodeType,M.parentLocalName=e.target.parentElement?me(e.target.parentElement):null,M.parentProps=e.target.parentElement?Tr.getProperties(e.target.parentElement):void 0,this.produceEvent(M);break;case"nodesAdded":var s=w(this.Ir(t.type,t),2),o=s[0],u=s[1];u.targetLocalName=S(o.target)?me(o.target):null,u.nextSibling=o.nextSibling?Cr(o.nextSibling):null,u.previousSibling=o.previousSibling?Cr(o.previousSibling):null;var c=re.mutations.serializedMutations.asyncMeasure(),h=new Ae;csSetTimeout((function(){u.nodes=vi(o.nodes,cs),c(),h.resolve(u)})),this.produceEvent(h);break;case"nodesMoved":var a=w(this.Ir(t.type,t),2),f=a[0];(M=a[1]).previousSibling=f.previousSibling?Cr(f.previousSibling):null,M.nextSibling=f.nextSibling?Cr(f.nextSibling):null,M.nodesIds=vi(f.nodes,Cr),this.produceEvent(M);break;case"nodesRemoved":var l=w(this.Ir(t.type,t),2),v=l[0];(M=l[1]).nodesIds=vi(v.nodes,Cr),this.produceEvent(M);break;case"shadowRootAttached":var d=w(this.Ir(t.type,t),2),y=d[0];(M=d[1]).shadowRoot=hs(y.shadowRoot),this.produceEvent(M);break;case"cssRuleInserted":var p=w(this.Ir(t.type,t),2),m=p[0];(M=p[1]).index=m.index,M.rule=m.rule,this.produceEvent(M);break;case"cssRuleDeleted":var g=w(this.Ir(t.type,t),2),b=g[0];(M=g[1]).index=b.index,this.produceEvent(M);break;case"cssRuleUpdated":var E=w(this.Ir(t.type,t),2),R=E[0];(M=E[1]).rule=R.rule,M.index=R.index,this.produceEvent(M);break;case"adoptedStyleSheetRegistered":var T=w(this.Ir(t.type,t),2),O=T[0];(M=T[1]).sheetId=O.sheetId,M.cssRules=O.cssRules,this.produceEvent(M);break;case"adoptedStyleSheetsSet":var N=w(this.Ir(t.type,t),2),k=N[0];(M=N[1]).sheetsIds=k.sheetsIds,this.produceEvent(M);break;case"adoptedStyleSheetRuleInserted":var I=w(this.Ir(t.type,t),2),_=I[0];(M=I[1]).sheetId=_.sheetId,M.rule=_.rule,M.index=_.index,this.produceEvent(M);break;case"adoptedStyleSheetRuleDeleted":var x=w(this.Ir(t.type,t),2),P=x[0];(M=x[1]).sheetId=P.sheetId,M.index=P.index,this.produceEvent(M);break;case"adoptedStyleSheetRuleUpdated":var M,D=w(this.Ir(t.type,t),2),L=D[0];(M=D[1]).sheetId=L.sheetId,M.rule=L.rule,M.index=L.index,this.produceEvent(M)}},n.prototype.Pr=function(t){return this.Nr&&!Tr.getProperty(t,os)},n.prototype._r=function(t){switch(t.type){case"nodesAdded":case"nodesMoved":case"nodesRemoved":case"shadowRootAttached":return this.Pr(t.target)||_r.isMaskedElement(t.target)||_r.isMaskedElementChild(t.target);case"characterDataChanged":var n=t.target.parentElement;return null!==n&&(this.Pr(n)||_r.isMaskedElement(n)||_r.isMaskedElementChild(n));case"attributeChanged":return this.Pr(t.target)||_r.isMaskedElementChild(t.target)||_r.isMaskedAttribute(t.target,t.attribute);case"cssRuleInserted":case"cssRuleDeleted":case"cssRuleUpdated":return this.Pr(t.target)||_r.isMaskedElementChild(t.target);default:return!1}},n}(fs);!function(t){t.isDOMEvent=function(t){return"DomEvent"===t.type}}(as||(as={}));var ds,ys=function(){function t(){this.Or=[]}return t.prototype.start=function(){},t.prototype.stop=function(){this.Or.length=0,this.Or=[]},t.prototype.pushEvent=function(n){var i=this;if(t.pendingEvents++,this.isListening(n)){var r=this.Or;csSetTimeout((function(){var e=Hn("Processor:processEvent",(function(t){return i.processEvent(t)})),s=e(n);null!=s&&csArray.prototype.forEach.call(r,(function(t){return t(s)})),t.pendingEvents--}))}else csSetTimeout((function(){csArray.prototype.forEach.call(i.Or,(function(t){return t(n)}))}))},t.prototype.subscribe=function(t){var n=this;return csArray.prototype.push.call(this.Or,t),function(){n.Or=csArray.prototype.filter.call(n.Or,(function(n){return n!==t}))}},t.prototype.emitEvent=function(t){var n=this;Ce((function(){return csArray.prototype.forEach.call(n.Or,(function(n){return n(t)}))}))},t.pendingEvents=0,t}();function ws(t){for(var n=new ArrayBuffer(t.length),i=new Uint8Array(n),r=0,e=t.length;r<e;r+=1)i[r]=csString.prototype.charCodeAt.call(t,r);return n}function ps(t){for(var n=new Uint8Array(t),i="",r=0;r<n.byteLength;r+=1)i+=csString.fromCodePoint(n[r]);return i}function ms(t){return ws(self.atob(t))}function gs(t){var n=csArray.from(new Uint8Array(t));return csArray.prototype.join.call(csArray.prototype.map.call(n,(function(t){return csString.prototype.padStart.call(t.toString(16),2,"0")})),"")}function Ss(t){var n=-1!==csString.prototype.indexOf.call(t,";base64,"),i=csString.prototype.indexOf.call(t,","),r=n?[csString.prototype.substring.call(t,0,i-7),csString.prototype.substring.call(t,i+1)]:[csString.prototype.substring.call(t,0,i),csString.prototype.substring.call(t,i+1)];if(!n&&/^%3Csvg/i.test(r[1]))try{r[1]=decodeURIComponent(r[1])}catch(t){jn.warn("".concat(t,", calling decodeURIComponent on: ").concat(r[1]))}var e=n?ms(r[1]):ws(r[1]);return new Blob([e],{type:csString.prototype.replace.call(r[0],"data:","")})}!function(t){var n="replaceAll"in csString.prototype;t.ELLIPSIS="…",t.stringReplaceAll=function(t,i,r){if(n)return csString.prototype.replaceAll.call(t,i,r);var e,s=new csRegExp((e=i,csString.prototype.replace.call(e,/[.*+?^${}()|[\]\\]/g,"\\$&")),"g");return csString.prototype.replace.call(t,s,r)},t.truncate=function(t,n,i){return void 0===i&&(i=""),t.length<=n?t:csString.prototype.slice.call(t,0,n-i.length)+i}}(ds||(ds={}));var bs,As=function(){function t(){}return t.toStaticResourceEvent=function(n,i,r){return v(this,void 0,void 0,(function(){var e,s,o,u;return d(this,(function(c){switch(c.label){case 0:return[4,t.Mr(n)];case 1:return(e=c.sent())?[4,t.Dr(e)]:[2,null];case 2:return s=c.sent(),o=oe(n)?void 0:n,u={type:"StaticResourceManagerEvent",timestamp:r,resourceId:i,resource:{hash:s,data:e}},o&&(u.originalResourceName=o),[2,u]}}))}))},t.toCSSStaticResourceEvent=function(n,i,r,e){return v(this,void 0,void 0,(function(){var s,o,u,c;return d(this,(function(h){switch(h.label){case 0:return[4,t.Lr(n,e)];case 1:return s=h.sent(),o=dn(n),(u=s.get(o))?(c={type:"StaticResourceManagerEvent",timestamp:r,resourceId:i,resource:{hash:u.hash,data:u.data}},s.delete(o),s.size&&(c.nestedResources=[],s.forEach((function(t){t&&csArray.prototype.push.call(c.nestedResources,{hash:t.hash,data:t.data})}))),[2,c]):[2,null]}}))}))},t.Dr=function(t){return v(this,void 0,void 0,(function(){var n;return d(this,(function(i){switch(i.label){case 0:return[4,t.arrayBuffer()];case 1:return n=i.sent(),[4,crypto.subtle.digest(this.Ur,n)];case 2:return[2,gs(i.sent())]}}))}))},t.Mr=function(t){return v(this,void 0,void 0,(function(){var n,i;return d(this,(function(r){switch(r.label){case 0:return oe(t)?[3,3]:[4,window.fetch(t)];case 1:return[4,r.sent().blob()];case 2:return n=r.sent(),[3,4];case 3:if(!(i=Ss(t)))return[2,null];n=i,r.label=4;case 4:return[2,n]}}))}))},t.Lr=function(n,i){return v(this,void 0,void 0,(function(){var r,e,s,o,u,c,h,a,f,l,v,w,p,m,g,S,b,A;return d(this,(function(d){switch(d.label){case 0:r=new Map,e=dn(n),s=[{resourceRawPath:n,resourceAbsolutePath:e}],d.label=1;case 1:if(!(s.length>0))return[3,17];if(o=csArray.prototype.pop.call(s),!i&&null!==o.resourceAbsolutePath&&!oe(o.resourceAbsolutePath))return r.set(o.resourceAbsolutePath,null),[3,1];if(void 0!==r.get(o.resourceAbsolutePath))return[3,1];d.label=2;case 2:return d.trys.push([2,15,,16]),null===o.resourceRawPath||csString.prototype.indexOf.call(o.resourceRawPath,".css")>0?o.data?[3,5]:[4,fetch(o.resourceAbsolutePath)]:[3,8];case 3:return m=d.sent(),u=o,[4,m.text()];case 4:u.data=d.sent(),d.label=5;case 5:o.nestedResources||(o.nestedResources=ve(o.data)),c=!1,h=!1,a=function(n){var i=oe(n)?n:o.resourceAbsolutePath?yn(n,o.resourceAbsolutePath):dn(n),e=r.get(i);if(void 0!==e){if(null!==e){var u=t.jr(e,n);o.data=ds.stringReplaceAll(o.data,n,u)}return"continue"}var a=void 0!==wi(s,(function(t){return t.resourceAbsolutePath===i}));a||(c=!0,h||(csArray.prototype.push.call(s,o),h=!0),csArray.prototype.push.call(s,{resourceRawPath:n,resourceAbsolutePath:i}))};try{for(b=void 0,f=y(o.nestedResources),l=f.next();!l.done;l=f.next())v=l.value,a(v)}catch(t){b={error:t}}finally{try{l&&!l.done&&(A=f.return)&&A.call(f)}finally{if(b)throw b.error}}return c?[3,7]:[4,t.qr(o.data)];case 6:w=d.sent(),r.set(o.resourceAbsolutePath,{hash:w.hash,data:w.data}),d.label=7;case 7:return[3,14];case 8:return p=void 0,oe(o.resourceAbsolutePath)?[3,11]:[4,fetch(o.resourceAbsolutePath)];case 9:return[4,(m=d.sent()).blob()];case 10:return p=d.sent(),[3,12];case 11:if(!(g=Ss(o.resourceAbsolutePath)))return r.set(o.resourceAbsolutePath,null),[3,1];p=g,d.label=12;case 12:return[4,t.Dr(p)];case 13:S=d.sent(),r.set(o.resourceAbsolutePath,{hash:S,data:p}),d.label=14;case 14:return[3,16];case 15:return d.sent(),r.set(o.resourceAbsolutePath,null),[3,16];case 16:return[3,1];case 17:return[2,r]}}))}))},t.jr=function(n,i){var r="cs://resources/".concat(n.hash);return oe(i)||(r+="?".concat(t.Hr,"=").concat(i)),r},t.qr=function(n){return v(this,void 0,void 0,(function(){var i,r,e;return d(this,(function(s){switch(s.label){case 0:return[4,(i=new Blob([n],{type:"text/css"})).arrayBuffer()];case 1:return r=s.sent(),[4,crypto.subtle.digest(t.Ur,r)];case 2:return e=s.sent(),[2,{data:i,hash:gs(e)}]}}))}))},t.Ur="SHA-256",t.Hr="original-resource-name",t}(),Es=function(t){function n(){var n=t.call(this)||this;return n.Vr="cssrm://",n.Fr=0,n.Br=!1,n}return a(n,t),n.prototype.isListening=function(t){return!!n.isSupported()&&(!!as.isDOMEvent(t)&&("initialDOM"===t.domEvent||"nodesAdded"===t.domEvent||"attributeChanged"===t.domEvent||"characterDataChanged"===t.domEvent))},n.prototype.processEvent=function(t){switch(t.domEvent){case"initialDOM":case"nodesAdded":this.zr(t);break;case"attributeChanged":this.Gr(t);break;case"characterDataChanged":this.$r(t)}return t},n.prototype.disableOnlineAssets=function(){this.Br=!1},n.prototype.enableOnlineAssets=function(){this.Br=!0},n.prototype.isOnlineAssetsActivated=function(){return this.Br},n.prototype.zr=function(t){var n,i,r=this,e="initialDOM"===t.domEvent?[t.initialDOM]:t.nodes;try{for(var s=y(e),o=s.next();!o.done;o=s.next()){var u=o.value;Tr.traverse(u,(function(t,n){if(3===t.nodeType&&n)r.Jr(t,n.localName);else if(be.isElement(t)){var i=wi(t.attributes,(function(t){return"style"===t.name}));if(i&&(i.value=r.Wr(i.value)),r.Yr(t)||r.Xr(t,n)){var e=wi(t.attributes,(function(t){return"src"===t.name}));e&&e.value&&(e.value=r.Kr(e.value));var s=wi(t.attributes,(function(t){return"srcset"===t.name}));if(s)return void(s.value=r.Qr(s.value))}if(r.Zr(t)&&r.Br){var o=wi(t.attributes,(function(t){return"href"===t.name}));if(!o||!o.value)return;r.Fr++,r.te(dn(o.value),r.Fr,!0),r.ne(t,o,r.Fr)}}}))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},n.prototype.ne=function(t,n,i){csArray.prototype.push.call(t.attributes,{name:"data-cs-original-href",namespaceURI:"",value:n.value}),n.value=this.Vr+i},n.prototype.Jr=function(t,n){if(t&&"style"===n){var i=this.Wr(t.data);null!==i&&(t.data=i)}},n.prototype.$r=function(t){if("style"===t.parentLocalName&&t.newValue){var n=this.Wr(t.newValue);null!==n&&(t.newValue=n)}},n.prototype.Gr=function(t){if(t.newValue&&t.newValue!==t.oldValue){var n="src"===t.attribute,i="srcset"===t.attribute;if("style"===t.attribute)t.newValue=this.Wr(t.newValue);else if(n||i){var r="img"===t.localName,e="source"===t.localName&&t.parentLocalName&&"picture"===t.parentLocalName;(r||e)&&(n&&(t.newValue=this.Kr(t.newValue)),i&&(t.newValue=this.Qr(t.newValue)))}}},n.prototype.Kr=function(t){return oe(t)||this.Br?(this.Fr++,this.te(t,this.Fr,!1,Xt()),this.Vr+this.Fr):t},n.prototype.Qr=function(t){var n,i;if(!this.Br)return t;var r=t,e=he(t),s=Xt();try{for(var o=y(e),u=o.next();!u.done;u=o.next()){var c=u.value;this.Fr++,this.te(dn(c),this.Fr,!1,s),r=csString.prototype.replace.call(r,c,this.Vr+this.Fr)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r},n.prototype.Wr=function(t){var n,i,r=ve(t),e=t,s=Xt();try{for(var o=y(r),u=o.next();!u.done;u=o.next()){var c=u.value,h=oe(c);if((h||this.Br)&&!this.ie(c)){this.Fr++,e=csString.prototype.replace.call(e,c,this.Vr+this.Fr);var a=ce(c);h?this.te(c,this.Fr,!1,s):this.Br&&(a?this.te(c,this.Fr,!0,s):this.te(dn(c),this.Fr,!1,s))}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return e},n.prototype.te=function(t,n,i,r){var e=this;void 0===r&&(r=Xt());var s=i?As.toCSSStaticResourceEvent:As.toStaticResourceEvent,o=new Ae((function(i){return v(e,void 0,void 0,(function(){var e,o;return d(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,s(t,n,r,this.Br)];case 1:return e=u.sent(),i(e||{type:"warning",message:"Failed to process static resource: ".concat(t)}),[3,3];case 2:return o=u.sent(),i({type:"warning",message:o}),[3,3];case 3:return[2]}}))}))}));this.emitEvent(o)},n.prototype.Yr=function(t){return"img"===t.localName},n.prototype.Xr=function(t,n){return"source"===t.localName&&!!n&&"picture"===n.localName},n.prototype.Zr=function(t){return"link"===t.localName&&csArray.prototype.some.call(t.attributes,(function(t){return"rel"===t.name&&"stylesheet"===t.value}))},n.isSupported=function(){return Zt()&&function(){var t;return"undefined"!=typeof crypto&&Bt(null===(t=crypto.subtle)||void 0===t?void 0:t.digest)}()&&!!csArray.from},n.prototype.ie=function(t){return 0===csString.prototype.replace.call(t,/['"]+/g,"").length},l([ri("StaticResourceManagerProcessor.processEvent")],n.prototype,"processEvent",null),n}(ys),Rs=function(t){function n(n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S,b,A){void 0===w&&(w=[]);var E=t.call(this)||this;return E.U=n,E.re=i,E.ee=r,E.se=e,E.oe=s,E.ue=o,E.K=u,E.ce=c,E.he=h,E.ae=a,E.fe=f,E.le=l,E.ve=v,E.de=d,E.ye=y,E.we=w,E.pe=p,E.ge=m,E.Se=g,E.be=S,E.Ae=b,E.Ee=A,E.Re=0,E.Te=new Br,E.Oe={allowFromQuotaService:!0,allowFromSerialization:!0},E.Ne=lr((function(){E.re.eventsCount()>0&&E.ke()}),2e3),E.Ce=function(t){return E.processBrowserEvent(t)},E.Ie=function(t){return E._e(t)},E.xe=0,E.Pe=0,E.Me=new $r,E.De=!1,E.Le=51200,E.Ue=!1,E.je=!1,E.qe=[],E.He=new se((function(t){return E.Ve(t)}),(function(t){switch(t){case Qr.Active:E.pe.start(),E.ge.start();break;case Qr.Stopped:E.pe.stopForInactivity(),E.ge.stop()}}),[vr.RESOURCE_HASHES]),E.Fe=function(t){E.ve.removeBatchInProgress("".concat(t.params.sn,".").concat(t.params.pn,".").concat(t.params.ri))},E}return Q(n,t),n.prototype.init=function(){this.Be(),this.le.onLoad(this.Fe),this.le.onError(this.Fe)},n.prototype.Be=function(){var t,n,i,r=this;this.ye.onEvent(this.Ce,this.Ie),this.oe.onEvent(this.Ie),null===(t=this.fe)||void 0===t||t.onInputNodeToEncrypt(this.Ie),null===(n=this.fe)||void 0===n||n.onApiErrorToEncrypt((function(t){r.ze(t)})),null===(i=this.fe)||void 0===i||i.onUserIdentifierToEncrypt(this.Ce),this.Me.onEvent((function(t){return t===jr.Blur?r.Ge():r.De?void 0:(r.De=!0,csSetTimeout((function(){r.De=!1})),t===jr.Hidden?r.Ge():r.$e())}))},n.prototype.isRecording=function(){return this.K.hasValidSession()&&this.isStarted},n.prototype.Ge=function(){var t=this;if(this.canSendEvents()){this.ye.flush(),this.ve.saveBatchesInProgress(),yi(this.we,(function(n){var i,r;return yi(null!==(r=null===(i=n.getPendingEvents)||void 0===i?void 0:i.call(n))&&void 0!==r?r:[],(function(n){return t.re.addEvent(n)}))}));var n=this.re.getEvents();if(0!==n.length){this.re.addEvent({date:Xt(),type:vr.RECORDING_INFO_EVENT,args:["pendingEvents",this.ye.pendingEvents]});var i=this.le.getQueryParams();i.rst=this.getRecordingStartTimestamp(),i.let=this.getRecordingLastEventTimestamp();var r=this.se.getCurrentIndex();i.ri=r.toString(),this.de.removeQueryParams(),this.de.setQueryParams(i),this.Pe=n[n.length-1].date;var e=this.re.stringifyEvents();if(e.length>this.Le){var s=this.Je();if(s.length>0){var o=wt(s);this.de.send(o)||this.ve.save({key:"".concat(i.sn,".").concat(i.pn,".").concat(i.ri,".last"),metadata:Z(Z({},i),{datatype:"json"}),events:o}),this.se.increment()}if(this.re.eventsCount()>0){i.ri=this.se.getCurrentIndex().toString();var u=this.re.stringifyEvents();this.ve.save({key:"".concat(i.sn,".").concat(i.pn,".").concat(i.ri,".last"),metadata:Z(Z({},i),{datatype:"json"}),events:u}),this.se.increment()}}else{this.de.send(e)||this.ve.save({key:"".concat(i.sn,".").concat(i.pn,".").concat(i.ri,".last"),metadata:Z(Z({},i),{datatype:"json"}),events:e}),this.se.increment()}this.de.removeQueryParams(),this.re.clearEvents()}}},n.prototype.$e=function(){var t=this;if(this.canSendEvents()){this.ye.flush();var n=this.le.getQueryParams();this.ve.saveBatchesInProgress(),n.rst=this.getRecordingStartTimestamp(),delete n.ri,n.hlm="true",this.de.removeQueryParams(),yi(this.we,(function(n){var i,r;return yi(null!==(r=null===(i=n.getPendingEvents)||void 0===i?void 0:i.call(n))&&void 0!==r?r:[],(function(n){return t.re.addEvent(n)}))}));var i=this.re.getEvents();if(0===i.length)return delete n.let,delete n.rst,this.de.setQueryParams(n),this.de.send(),void this.de.removeQueryParams();this.re.addEvent({date:Xt(),type:vr.RECORDING_INFO_EVENT,args:["pendingEvents",this.ye.pendingEvents]}),this.Pe=i[i.length-1].date,n.let=this.getRecordingLastEventTimestamp(),this.de.setQueryParams(n);var r=this.re.stringifyEvents();if(r.length>this.Le){var e=this.Je();if(e.length>0){var s=wt(e);this.de.send(s)||this.ve.save({key:"".concat(n.sn,".").concat(n.pn,".last"),metadata:Z(Z({},n),{datatype:"json"}),events:s})}else delete n.let,delete n.rst,delete n.ri,this.de.removeQueryParams(),this.de.setQueryParams(n),this.de.send(),this.de.removeQueryParams();if(this.re.eventsCount()>0){n.rst=this.getRecordingStartTimestamp(),n.let=this.getRecordingLastEventTimestamp();var o=this.se.getCurrentIndex();n.ri=o.toString();var u=this.re.stringifyEvents();this.ve.save({key:"".concat(n.sn,".").concat(n.pn,".").concat(n.ri,".last"),metadata:Z(Z({},n),{datatype:"json"}),events:u}),this.se.increment()}}else{this.de.send(r)||(this.ve.save({key:"".concat(n.sn,".").concat(n.pn,".").concat(n.ri,".last"),metadata:Z(Z({},n),{datatype:"json"}),events:r}),this.se.increment())}this.de.removeQueryParams(),this.re.clearEvents()}},n.prototype.blockSendingEventsFromQuotaService=function(){this.Oe.allowFromQuotaService=!1},n.prototype.allowSendingEventsFromQuotaService=function(){this.Oe.allowFromQuotaService=!0},n.prototype.blockSendingEventsFromSerialization=function(){this.Oe.allowFromSerialization=!1},n.prototype.allowSendingEventsFromSerialization=function(){this.Oe.allowFromSerialization=!0},n.prototype.canSendEvents=function(){return this.Oe.allowFromQuotaService&&this.Oe.allowFromSerialization},n.prototype.onIframeJavascriptError=function(t){var n;if(this.ce&&this.Ae){null===(n=this.ce)||void 0===n||n.anonymize(t);var i=this.Ae.translate({message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename,timestamp:Xt(),type:"JSError"});i&&this.Ce(i)}},n.prototype.onIframeCustomError=function(t){if(this.Ee){var n=this.Ee.translate(Z(Z({},t),{timestamp:Xt(),type:"CustomError"}));n&&this.Ce(n)}},n.prototype.onIframeDetailedApiError=function(t){this.We(t)},n.prototype.onIframeRecordingUserEvent=function(t){var n,i;try{for(var r=et(t),e=r.next();!e.done;e=r.next()){var s=e.value;this._e(s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.onIframeRecordingBrowserEvent=function(t){var n,i;if(this.isStarted)try{for(var r=et(t),e=r.next();!e.done;e=r.next()){var s=e.value;this.processBrowserEvent(s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.processBrowserEvent=function(t){this.ue.isCurrentPageviewValid()&&this.He.pushEvent(t,{isUserEvent:!1})},n.prototype._e=function(t){this.ue.refreshSession(),this.ue.isSessionValid()&&this.He.pushEvent(t,{isUserEvent:!0})},n.prototype.Ve=function(t){re.general.nbEvents.increase(),this.re.addEvent(t),this.re.isThresholdReached()?this.pushEvents():this.re.isFull()&&this.Ne(),this.Ye(t)},n.prototype.Ye=function(t){this.U.emitDebugEvents&&this.Te.emit("recordingEvent",Z(Z({},t),{typeName:vr[t.type]}))},n.prototype.onStart=function(){var t=this;this.He.reset(),this.Me.start(),this.initStates(),this.ye.start(),this.he&&this.ae&&this.he.subscribe(n.Xe,(function(n){return t.We(n)}),{detailedEvent:!0}),this.U.emitDebugEvents&&this.Te.emit("replayRecordingStarted"),csArray.prototype.forEach.call(this.qe,(function(n){return t.Ke(n)})),this.qe=[]},n.prototype.onStop=function(){var t;this.He.disconnect(),this.Me.stop(),this.oe.stop(),this.he&&this.he.unsubscribe(n.Xe),this.ye.stop(),this.je=!1,null===(t=this.Se)||void 0===t||t.disableOnlineAssets()},n.prototype.clearStates=function(){this.ye.flush(),this.Ne.cancel(),this.pushEvents(),this.le.removeQueryParams()},n.prototype.initStates=function(){this.xe=Xt(),this.se.reset(),this.Re=0,this.le.setQueryParams(this.ee.getRequestParameters())},n.prototype.pushEvents=function(){yi(this.we,(function(t){var n;return null===(n=t.flushEvents)||void 0===n?void 0:n.call(t)})),this.re.eventsCount()>0&&(this.isStarted?this.ke():this.re.clearEvents())},n.prototype.ke=function(){if(this.canSendEvents()){var t=this.re.getEvents();this.Pe=t[t.length-1].date;var n=this.se.getCurrentIndex();this.le.setQueryParams({ri:n.toString(),rst:this.getRecordingStartTimestamp(),let:this.getRecordingLastEventTimestamp()});var i=this.le.getQueryParams();this.ve.addBatchInProgress("".concat(i.sn,".").concat(i.pn,".").concat(n),this.le.getQueryParams(),t),this.le.send(t),this.se.increment(),this.re.clearEvents(),this.Qe&&this.Qe()}},n.prototype.addInitialDom=function(t){this.re.addEventByTimestamp(t),this.Ye(t)},n.prototype.We=function(t){if(this.be&&(t.plainCustomRequestHeaders||t.plainCustomResponseHeaders||t.requestBodyAttributes||t.responseBodyAttributes||t.customRequestHeaders||t.customResponseHeaders||t.queryParameters||t.requestBody||t.responseBody)){if(this.be.truncate(t),this.fe)return void this.fe.registerApiErrorToEncrypt(t);t.customRequestHeaders="",t.customResponseHeaders="",t.requestBodyAttributes="",t.responseBodyAttributes="",t.queryParameters="",t.requestBody="",t.responseBody=""}this.ze(t)},n.prototype.ze=function(t){if(this.Re<n.Ze){var i={type:vr.API_ERROR,date:Xt(),args:[this.ae.anonymize(t)]};this.Ce(i),this.Re=this.Re+1}},n.prototype.ns=function(t){var i,r;t===Ei.ETR_SESSION?this.le.setQueryParams(((i={})[n.rs]=n.es,i)):t===Ei.ETR_PAGE&&this.le.setQueryParams(((r={})[n.ss]=n.es,r))},n.prototype.clearEvents=function(){this.re.clearEvents()},n.prototype.onCustomJavaScriptErrorEvent=function(t){var n,i=null===(n=this.Ae)||void 0===n?void 0:n.translate({type:"JSError",timestamp:Xt(),message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename});i&&this.Ce(i)},n.prototype.onCustomErrorEvent=function(t){var n,i=null===(n=this.Ee)||void 0===n?void 0:n.translate({type:"CustomError",timestamp:Xt(),message:t.message,attributes:t.attributes});i&&this.Ce(i)},n.prototype.onPageEvent=function(t){this.us(t)},n.prototype.onUserIdentifierEvent=function(t){var n,i={userIdentifier:t,date:Xt(),keyId:this.U.encryptionPublicKeyId};null===(n=this.fe)||void 0===n||n.registerUserIdentifierToEncrypt(i)},n.prototype.onEventTriggerRecording=function(t,n){this.isStarted?this.Ke({eventName:t,eventType:n}):csArray.prototype.push.call(this.qe,{eventName:t,eventType:n})},n.prototype.Ke=function(t){this.ns(t.eventType),this.us(t.eventName),this.pushEvents()},n.prototype.us=function(t){var i={type:vr.PAGE_EVENT,date:Xt(),args:[{eventName:csString.prototype.slice.call(t,0,n.cs)}]};this.re.addEvent(i)},n.prototype.triggerUnanonymizationConsentGranted=function(){var t={date:Xt(),type:vr.UNANONYMIZED_CONSENT_GRANTED};this.re.addEvent(t)},n.prototype.triggerUnanonymizationConsentWithdrawn=function(){var t={date:Xt(),type:vr.UNANONYMIZED_CONSENT_WITHDRAWN};this.re.addEvent(t)},n.prototype.triggerRecordingForSessionGranted=function(){var t={date:Xt(),type:vr.RECORDING_INFO_EVENT,args:[dr.RECORDING_CONSENT_FOR_SESSION_GRANTED]};this.re.addEvent(t)},n.prototype.triggerRecordingForSessionWithdrawn=function(){var t={date:Xt(),type:vr.RECORDING_INFO_EVENT,args:[dr.RECORDING_CONSENT_FOR_SESSION_WITHDRAWN]};this.re.addEvent(t)},n.prototype.activateOnlineAssetsOnNextPageview=function(){this.Ue=!0,this.je=!0},n.prototype.getStaticResourceManagerStatus=function(){return this.Se?{isStarted:this.U.useStaticResourceManager&&Es.isSupported(),onlineAssets:{activated:this.Se.isOnlineAssetsActivated(),enabledOnNextPageview:this.Ue,enabledForChildrenOnNextStart:this.je}}:null},n.prototype.updateStaticResourceManagerOnlineAssets=function(){this.Se&&this.Ue&&(this.Se.enableOnlineAssets(),this.je=!0,this.Ue=!1)},n.prototype.onRecordingRequestSent=function(t){this.Qe=t},n.prototype.getRecordingStartTimestamp=function(){return this.xe.toString()},n.prototype.getRecordingLastEventTimestamp=function(){return this.Pe.toString()},n.prototype.onOptOut=function(){yi(this.we,(function(t){var n;return null===(n=t.releaseResources)||void 0===n?void 0:n.call(t)}))},n.prototype.Je=function(){return this.re.extractEvents(vr.API_ERROR,vr.JAVASCRIPT_ERROR,vr.CUSTOM_ERROR,vr.TEXT_VISIBILITY,vr.POINTER_DOWN)},n.Xe="RecordingService",n.cs=255,n.Ze=20,n.ss="etrp",n.rs="etrs",n.es="1",nt([ri("addInitialDom")],n.prototype,"addInitialDom",null),n}(zr),Ts=function(t){function n(n,i,r){var e=t.call(this)||this;return e.tn=n,e.de=i,e.le=r,e.hs=!1,e.fs={},e.ls=function(t){var n,i;if(0!==t.length)try{for(var r=et(t),s=r.next();!s.done;s=r.next()){var o=s.value,u=o.metadata,c=o.events;e.vs(u.rt)&&e.le.send(c,u)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},window.addEventListener("focus",(function(){e.recover()})),e}return Q(n,t),n.prototype.onStart=function(){this.fs={}},n.prototype.onStop=function(){},n.prototype.recover=function(){this.tn.recover(this.ls)},n.prototype.addBatchInProgress=function(t,n,i){this.fs[t]={metadata:Z({},n),events:i}},n.prototype.removeBatchInProgress=function(t){delete this.fs[t]},n.prototype.blockSendingLastMessage=function(){this.hs=!1},n.prototype.allowSendingLastMessage=function(){this.hs=!0},n.prototype.sendLastMessageBeacon=function(){if(this.hs){var t=this.le.getQueryParams(),n=(t.ri,t.rst,t.let,tt(t,["ri","rst","let"]));n.hlm="true",this.de.setQueryParams(n),this.de.send()}},n.prototype.vs=function(t){return!!t&&-1===csString.prototype.indexOf.call(t,bi.RECORDING_TEMPORARILY)},n.prototype.saveBatchesInProgress=function(){var t=this;csArray.prototype.forEach.call(Object.keys(this.fs),(function(n){var i=t.fs[n],r=i.metadata,e=i.events;t.tn.save({key:"".concat(r.sn,".").concat(r.pn,".").concat(r.ri),metadata:Z(Z({},r),{datatype:"json"}),events:csJSON.stringify(e)})}))},n.prototype.save=function(t){this.tn.save(t)},nt([qn("RecordingRecovery")],n.prototype,"recover",null),n}(zr),Os=function(){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.ds=t}return t.prototype.addProvider=function(t){csArray.prototype.push.call(this.ds,t)},t.prototype.getRequestParameters=function(){return csArray.prototype.reduce.call(this.ds,(function(t,n){return Z(Z({},n.getRequestParameters()),t)}),{})},t}(),Ns=function(){function t(t,n){var i=this;this.In=t,this.j=n,this.ys=[{boundElement:window,type:"hashchange",listener:function(){return i.hashChangeListener()}},{boundElement:document,type:"visibilitychange",listener:function(){return i.visibilityChangeListener()}}]}return t.prototype.onEvent=function(t){this.ws=t},t.prototype.start=function(){this.ui(),this.triggerInitialEvents()},t.prototype.stop=function(){this.ci()},t.prototype.ui=function(){csArray.prototype.forEach.call(this.ys,(function(t){return hr(t)}))},t.prototype.ci=function(){csArray.prototype.forEach.call(this.ys,(function(t){return ar(t)}))},t.prototype.triggerInitialEvents=function(){this.hashChangeListener()},t.prototype.hashChangeListener=function(){var t={type:vr.HASH_CHANGE,args:[this.j.anonymizePII(this.In.href)],date:Xt()};this.ws(t)},t.prototype.visibilityChangeListener=function(){var t={type:vr.VISIBILITY_CHANGE,args:[document.visibilityState],date:Xt()};this.ws(t)},nt([qn("hashChange")],t.prototype,"hashChangeListener",null),nt([qn("visibilityChange")],t.prototype,"visibilityChangeListener",null),t}(),ks=function(){function t(t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.ps=[],this.Ji=[],this.gs=t}return t.prototype.next=function(t){var n,i,r=this;this.Ji.length===this.gs&&csArray.prototype.shift.call(this.Ji),csArray.prototype.push.call(this.Ji,t),1===this.Ji.length&&csSetTimeout((function(){return r.clear()}));try{for(var e=Dn(this.ps),s=e.next();!s.done;s=e.next()){(0,s.value)(t)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}},t.prototype.subscribe=function(t){var n,i,r=this;if(wi(this.ps,(function(n){return t===n})))return function(){r.ps=csArray.prototype.filter.call(r.ps,(function(n){return n!==t}))};csArray.prototype.push.call(this.ps,t);try{for(var e=Dn(this.Ji),s=e.next();!s.done;s=e.next()){var o=s.value;t(o)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}return function(){r.ps=csArray.prototype.filter.call(r.ps,(function(n){return n!==t}))}},t.prototype.clear=function(){this.Ji=[]},t.prototype.hasObservers=function(){return this.ps.length>0},t}(),Cs=function(){function t(t){this._n=t}var n;return t.prototype.observe=function(){var t=this;(this.Ss=n.bs.subscribe((function(n){return t._n(n)})),n.As)||(n.As=!0,n.Es.observe(),Xi(document,NodeFilter.SHOW_ELEMENT).visitAll((function(t){n.Rs.add(t),n.bs.next(t)})))},t.prototype.disconnect=function(){n.As&&(this.Ss(),n.bs.hasObservers()||(n.As=!1,n.Es.disconnect(),n.bs.clear(),n.Rs.clear()))},n=t,t.Rs=Ue(),t.bs=new ks,t.Ts=Qn((function(t){Ce((function(){var i,r;try{for(var e=Dn(t),s=e.next();!s.done;s=e.next()){var o=s.value;"childList"===o.type&&yi(o.addedNodes,(function(t){Xi(t,NodeFilter.SHOW_ELEMENT).visitAll((function(t){n.Rs.has(t)||(n.Rs.add(t),n.bs.next(t))}))}))}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}))}),"ElementObserver.findAllElements"),t.As=!1,t.Es=new Ke(n.Ts),xn([qn()],t.prototype,"observe",null),xn([qn()],t.prototype,"disconnect",null),t}(),Is=function(){function t(t,n,i){void 0===n&&(n=30),void 0===i&&(i=0);var r=this;this.Os=t,this.Ns=n,this.ks=i,this.Cs=new Bn,this.tt=!1,this.Is=0,this._s=function(){for(r.Is=0;r.Cs.length;){if(r.Is>=r.Ns)return void csSetTimeout(r._s,r.ks);var t=Kt(),n=r.Cs.pop();if(!n)break;r.runTask(n);var i=Kt()-t;r.Is+=i}r.tt=!1}}return t.prototype.schedule=function(t,n){void 0===n&&(n=!1),this.Os&&!n?(re.general.pendingTasks.increase(),this.Cs.push(t),this.xs()):t()},t.prototype.xs=function(){var t=this;this.tt||(this.tt=!0,csSetTimeout((function(){t._s()})))},t.prototype.runTask=function(t){re.general.pendingTasks.decrease(),t()},t.prototype.runPendingTasks=function(){var t=this;this.Cs.forEach((function(n){t.runTask(n)})),this.Cs.clear()},t.prototype.clearQueue=function(){re.general.pendingTasks.clear(),re.mutations.pendingMutations.clear(),this.Cs.clear()},t.prototype.isEmpty=function(){return 0===this.Cs.length},nt([qn("TaskScheduler"),ri("runTask")],t.prototype,"runTask",null),nt([ri("runPendingTasks")],t.prototype,"runPendingTasks",null),t}(),_s={async:!0},xs=function(){function t(t){void 0===t&&(t=_s);var n=this;this.Ps=t,this.$n=!1,this.Ms=new Ve((function(t){return"cssRuleInserted"===t.type&&n.onStyleSheetChange(t)})),this.Ds=je((function(t){n.$n&&yi(t,(function(t){return n.Ls.schedule((function(){return n.Us(t)}))}))})),this.js=new Cs((function(t){return n.qs(t)})),this.Jn=new Ke((function(t){return n.Hs(t)})),t.async&&(this.Ls=new Is(!0,30,0))}return t.prototype.onStyleSheetChange=function(t){t.rule&&this.$n&&this.Vs(t.rule)},t.prototype.start=function(){this.$n||(this.$n=!0,this.Ms.observe(),this.js.observe(),this.Jn.observe())},t.prototype.stop=function(){this.$n&&(this.Ms.disconnect(),this.js.disconnect(),this.Jn.disconnect(),this.$n=!1)},t.prototype.onEvent=function(t){this.ws=t},t.prototype.onAsset=function(t){this.Fs=t},t.prototype.onStyleSheetFound=function(t){this.Bs=t},t.prototype.zs=function(t){b(t)&&csNodeparentNode.apply(t)&&T(csNodeparentNode.apply(t))&&this.Vs(t.data)},t.prototype.Vs=function(t){this.Gs(ve(t))},t.prototype.qs=function(t){this.$n&&_r.getMaskedElementDetails(t).state===_r.MaskedElementState.NotMasked&&(this.Ps.async?this.Ds.push(t):this.Us(t))},t.prototype.Us=function(t,n){_r.getMaskedElementDetails(t).state!==_r.MaskedElementState.NotMasked||n&&_r.isMaskedAttribute(t,n)||(T(t)?this.$s(t):this.Js(t,n)||(this.Ws(t,n),this.Ys(t,n),this.Xs(t,n)))},t.prototype.Js=function(t,n){var i,r,e;if(R(t)&&(!n||"href"===n)&&t.href){var s=(null===(i=t.sheet)||void 0===i?void 0:i.href)||t.href,o={assetId:s,assetBasePath:window.location.href,assetRawPath:t.getAttribute("href")};return null===(r=this.Bs)||void 0===r||r.call(this,o),null===(e=this.Fs)||void 0===e||e.call(this,o),this.Ks(s),!0}return!1},t.prototype.$s=function(t){for(var n,i,r,e,s,o,u=new Set,c=0;c<csNodechildNodes.apply(t).length;c++){var h=csNodechildNodes.apply(t)[c];if(3===h.nodeType)try{for(var a=(n=void 0,et(ve(h.data))),f=a.next();!f.done;f=a.next()){var l=f.value;u.add(l)}}catch(t){n={error:t}}finally{try{f&&!f.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}}try{o=null===(s=t.sheet)||void 0===s?void 0:s.cssRules}catch(t){"SecurityError"===t.name||"InvalidAccessError"===t.name||kn.error(t.message)}if(o)for(c=0;c<o.length;c++){var v=o.item(c).cssText;try{for(var d=(r=void 0,et(ve(v))),y=d.next();!y.done;y=d.next()){l=y.value;u.add(l)}}catch(t){r={error:t}}finally{try{y&&!y.done&&(e=d.return)&&e.call(d)}finally{if(r)throw r.error}}}this.Gs(Si(u))},t.prototype.Qs=function(t){return!this.Zs(t)&&!oe(t)&&!ue(t)},t.prototype.Ws=function(t,n){var i,r;if(S(r=t)&&"img"===r.localName||function(t){return S(t)&&"source"===t.localName}(t)){if(!n||"src"===n){var e=t.getAttribute("src");e&&this.Qs(e)&&(this.Ks(t.src),null===(i=this.Fs)||void 0===i||i.call(this,{assetId:t.src,assetRawPath:e,assetBasePath:window.location.href}))}n&&"srcset"!==n||!t.srcset||this.no(t.srcset)}},t.prototype.Ys=function(t,n){if(1===t.nodeType){if(t.hasAttribute&&(!n||"style"===n)&&t.hasAttribute("style")){var i=t.getAttribute("style");if("string"!=typeof i)throw new Error("Unexpected style: "+t.outerHTML);this.Vs(i)}}else jn.warn("StaticResourceUrlTracker: Wrong element nodeType: ".concat(null==t?void 0:t.nodeName,"/").concat(t.nodeType))},t.prototype.no=function(t){this.Gs(he(t))},t.prototype.Xs=function(t,n){var i,r;if((C(r=t)&&"image"===r.localName||function(t){return C(t)&&"use"===t.localName}(t)||function(t){return C(t)&&"feImage"===t.localName}(t))&&(!n||"href"===n||"xlink:href"===n)){var e=t.getAttribute("href")||t.getAttribute("xlink:href");if(e&&this.Qs(e)){var s=dn(e);this.Ks(s),null===(i=this.Fs)||void 0===i||i.call(this,{assetId:s,assetRawPath:e,assetBasePath:window.location.href})}}},t.prototype.Gs=function(t){var n=this;return csArray.prototype.forEach.call(csArray.prototype.map.call(csArray.prototype.filter.call(t,(function(t){return n.Qs(t)})),(function(t){return{rawUrl:t,absoluteUrl:dn(t)}})),(function(t){var i;n.ws&&n.Ks(t.absoluteUrl),null===(i=n.Fs)||void 0===i||i.call(n,{assetId:t.absoluteUrl,assetBasePath:window.location.href,assetRawPath:t.rawUrl})}))},t.prototype.Hs=function(t){var n=this,i=this.Ps.async?csSetTimeout:function(t){return t()};i((function(){var i,r;try{for(var e=et(t),s=e.next();!s.done;s=e.next()){var o=s.value;switch(o.type){case"attributes":n.Us(o.target,o.attributeName);break;case"characterData":n.zs(o.target)}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}))},t.prototype.Ks=function(t){var n,i={date:Xt(),type:vr.STATIC_RESOURCE_URL,args:[t]};null===(n=this.ws)||void 0===n||n.call(this,i)},t.prototype.Zs=function(t){return/^https:\/\/\w+:\w+@/.test(t)},t}(),Ps=function(){function t(t){this.io=[],this.ro=[],this.$t={},this.Jt=t}return t.prototype.setQueryParams=function(t){var n=this;csArray.prototype.forEach.call(Object.keys(t),(function(i){n.$t[i]=t[i]}))},t.prototype.removeQueryParams=function(t){var n=this;t?csArray.prototype.forEach.call(t,(function(t){delete n.$t[t]})):this.$t={}},t.prototype.onBeaconSuccess=function(t){csArray.prototype.push.call(this.io,t)},t.prototype.onBeaconFailure=function(t){csArray.prototype.push.call(this.ro,t)},t.prototype.send=function(t){var n=this,i=yt.toQuery(Z(Z({},this.$t),{ct:ui.UNCOMPRESSED})),r=this.eo(i,t);return r?csArray.prototype.forEach.call(this.io,(function(t){return t()})):csArray.prototype.forEach.call(this.ro,(function(t){return t(n.$t)})),r},t.prototype.eo=function(t,n){try{if("function"!=typeof csNavigatorsendBeacon)return!1;var i=csNavigatorsendBeacon("".concat(this.Jt,"?").concat(t),n||"");if(i)return i}catch(t){}return"function"==typeof navigator.sendBeacon&&navigator.sendBeacon("".concat(this.Jt,"?").concat(t),n||"")},t}(),Ms=function(){function t(t){this.so={},this.oo=new Hr(t)}return t.prototype.save=function(t){var n=t.key,i=t.metadata,r=t.events;this.oo.isThresholdReached()||(this.oo.addString(n),"string"==typeof r?this.oo.addString(r):this.oo.addArrayBuffer(r),this.oo.isThresholdReached()||(this.so[n]={metadata:i,events:r}))},t.prototype.recover=function(t){var n=this,i=[];csArray.prototype.forEach.call(this.uo(),(function(t){var r=n.so[t];void 0!==r&&(delete r.metadata.datatype,csArray.prototype.push.call(i,r),n.co(t))})),0!==i.length&&(t(i),this.oo.reset())},t.prototype.uo=function(){return Object.keys(this.so)},t.prototype.co=function(t){delete this.so[t]},t}();!function(t){t[t.NOT_STARTED=0]="NOT_STARTED",t[t.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",t[t.OPEN_FAILED=2]="OPEN_FAILED",t[t.READY=3]="READY"}(bs||(bs={}));var Ds=function(){function t(t,n,i){this.ho=t,this.ao=i,this.fo=bs.NOT_STARTED,this.lo=[],this.vo=0,this.do=self.origin,this.yo="object"==typeof window?"":"worker-",this.oo=new Hr(n),this.wo()}return t.prototype.wo=function(){return it(this,void 0,void 0,(function(){return rt(this,(function(t){switch(t.label){case 0:return[4,this.po()];case 1:return t.sent(),this.fo===bs.READY?this.mo():this.ao(this.lo),[2]}}))}))},t.prototype.mo=function(){var t=this;csArray.prototype.forEach.call(this.lo,(function(n){t.save(n)})),this.lo=[]},t.prototype.save=function(t){return it(this,void 0,void 0,(function(){var n,i,r;return rt(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.fo===bs.OPEN_IN_PROGRESS?(csArray.prototype.push.call(this.lo,t),[2]):this.fo!==bs.READY||this.oo.isThresholdReached()?[2]:(n=t.key,i=t.metadata,r=t.events,this.oo.addString(n),"string"==typeof r?this.oo.addString(r):this.oo.addArrayBuffer(r),this.oo.isThresholdReached()?[2]:[4,this.gn.put("".concat(this.do,"/").concat(n),new Response(r,{headers:i}))]);case 1:return e.sent(),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}}))}))},t.prototype.recover=function(t){return it(this,void 0,void 0,(function(){return rt(this,(function(n){switch(n.label){case 0:return this.gn?[3,2]:[4,this.po()];case 1:if(n.sent(),this.fo!==bs.READY)return[2];n.label=2;case 2:return this.So(t),[2]}}))}))},t.prototype.po=function(){return it(this,void 0,void 0,(function(){var t;return rt(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.fo=bs.OPEN_IN_PROGRESS,t=this,[4,self.caches.open("".concat(this.yo).concat(this.ho))];case 1:return t.gn=n.sent(),this.fo=bs.READY,[3,3];case 2:return n.sent(),this.fo=bs.OPEN_FAILED,[3,3];case 3:return[2]}}))}))},t.prototype.So=function(t){return it(this,void 0,void 0,(function(){var n,i,r,e,s=this;return rt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,5,6,7]),this.vo++,this.vo>1?[2]:[4,this.gn.keys()];case 1:return 0===(n=o.sent()).length?[2]:[4,this.gn.matchAll()];case 2:return i=o.sent(),r=csArray.prototype.map.call(i,(function(t){var n={};t.headers.forEach((function(t,i){n[i]=t})),delete n["content-type"];var i=n.datatype;return delete n.datatype,"json"===i||"base64"===i?t.text().then((function(t){return{metadata:n,events:t}})):t.arrayBuffer().then((function(t){return{metadata:n,events:t}}))})),[4,Promise.all(r)];case 3:return e=o.sent(),[4,Promise.all(csArray.prototype.map.call(n,(function(t){return s.gn.delete(t)})))];case 4:return o.sent(),t(e),this.oo.reset(),[3,7];case 5:return o.sent(),[3,7];case 6:return this.vo--,[7];case 7:return[2]}}))}))},t}(),Ls=function(){function t(t){try{this.bo(t)}catch(t){this.Ao()}}return t.prototype.bo=function(t){self.caches?this.Eo(t):this.Ao()},t.prototype.save=function(t){this.Ro.save(t)},t.prototype.recover=function(t){this.Ro.recover(t)},t.prototype.Eo=function(n){var i=this;this.Ro=new Ds(n,t.To,(function(t){i.Ao(t)}))},t.prototype.Ao=function(n){var i=this;this.Ro=new Ms(t.To),n&&csArray.prototype.forEach.call(n,(function(t){i.Ro.save(t)}))},t.To=16777216,t}(),Us=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a(n,t),n.prototype.isListening=function(t){return as.isDOMEvent(t)&&("initialDOM"===t.domEvent||"nodesAdded"===t.domEvent)},n.prototype.processEvent=function(t){var n,i,r=this,e="initialDOM"===t.domEvent?[t.initialDOM]:t.nodes,s=function(n){if(n instanceof be){var i=_r.getMaskedAttributeDetails(n);n.attributes=o.Oo(n,i)}if(_r.getMaskedElementDetails(n).state===_r.MaskedElementState.Child)return"initialDOM"===t.domEvent?{value:null}:(t.nodes=csArray.prototype.filter.call(t.nodes,(function(t){return t!==n})),"continue");Tr.traverse(n,(function(t){if(t instanceof be){var n=_r.getMaskedAttributeDetails(t);t.attributes=r.Oo(t,n);var i=_r.getMaskedElementDetails(t);i.state===_r.MaskedElementState.Parent&&r.ko(t,i)}}))},o=this;try{for(var u=y(e),c=u.next();!c.done;c=u.next()){var h=s(c.value);if("object"==typeof h)return h.value}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return t},n.prototype.Oo=function(t,n){return 0===n.attributes.length?t.attributes:csArray.prototype.filter.call(t.attributes,(function(t){return-1===csArray.prototype.indexOf.call(n.attributes,t.name)}))},n.prototype.ko=function(t,n){var i="width: ".concat(n.width,"px !important; height: ").concat(n.height,"px !important;");t.children=[],t.shadowRoot=void 0,csArray.prototype.push.call(t.attributes,{name:"style",value:i,namespaceURI:""}),be.getAttribute(t,"data-cs-mask")||csArray.prototype.push.call(t.attributes,{name:"data-cs-mask",value:"",namespaceURI:""})},l([ri("MaskedElementProcessor.processEvent")],n.prototype,"processEvent",null),n}(ys),js=/[\u4E00-\u9FFF]|[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]/g,qs=/[^ａ\s]/g;function Hs(t){var n=csString.prototype.replace.call(t,js,"ａ");return csString.prototype.replace.call(n,qs,"a")}var Vs;csArray.prototype.reduce.call(["a","e","i","o","mi","id","ex","ut","eu","ac","in","et","sit","vel","sed","leo","amet","elit","orci","erat","quam","odio","eget","lorem","ipsum","dolor","nulla","vitae","purus","proin","neque","porta","augue","velit","lacus","justo","magna","mollis","nullam","turpis","tortor","lectus","luctus","dictum","integer","aliquam","viverra","rhoncus","posuere","egestas","laoreet","vivamus","euismod","sagittis","molestie","faucibus","pulvinar","ultrices","volutpat","ultricies","venenatis","vulputate","convallis","phasellus","adipiscing","vestibulum","consectetur","ullamcorper","sollicitudin"],(function(t,n){var i;return t.set(n.length,p(p([],w(null!==(i=t.get(n.length))&&void 0!==i?i:[]),!1),[n],!1)),t}),new Map);!function(t){t.ANONYMIZED_TEXT_STATUS_PROP="anonymizationStatus",t.WHITELISTED_STATUS="whitelisted",t.isWhitelistedElement=function(n){return Tr.getProperty(n,t.ANONYMIZED_TEXT_STATUS_PROP)===t.WHITELISTED_STATUS},t.whitelistElement=function(n){Tr.setProperty(n,t.ANONYMIZED_TEXT_STATUS_PROP,t.WHITELISTED_STATUS)},t.removeWhitelistElement=function(n){Tr.setProperty(n,t.ANONYMIZED_TEXT_STATUS_PROP,void 0)}}(Vs||(Vs={}));var Fs,Bs=function(){function t(){}return t.create=function(n,i){if(!t.isSupported())throw new Error("IntersectionObserver is not supported");if(i&&i.delay&&i.delay<100)throw new Error("Visibility delay should be > 100ms");return(null==i?void 0:i.trackVisibility)&&(n=t.Co(n)),new IntersectionObserver(n,i)},t.isSupported=function(){return!!window.IntersectionObserver&&!!window.IntersectionObserverEntry},t.Co=function(t){return function(n,i){return t(vi(n,zs),i)}},t}();function zs(t){return t.isVisible||!De.isVisibleInViewportInForeground(t.target)?t:{boundingClientRect:t.boundingClientRect,intersectionRatio:t.intersectionRatio,intersectionRect:t.intersectionRect,isIntersecting:t.isIntersecting,rootBounds:t.rootBounds,target:t.target,time:t.time,isVisible:!0}}var Gs=function(){return function(t,n,i){var r,e,s,o,u;i.value=(r=i.value,e=csSymbol("oncePerTickSymbol"),s=null,o={},u=function(){var t,n=null!==(t=this)&&void 0!==t?t:o;s=arguments,n[e]||(n[e]=!0,$s((function(){n[e]=!1,r.apply(n,s)})))},u.oncePerTickSymbol=e,u)}},$s=null!==(Fs=window.csQueueMicrotask)&&void 0!==Fs?Fs:csSetTimeout;Gs.isScheduled=function(t,n){return t[n.oncePerTickSymbol]};var Js,Ws=function(){function t(t){var n=this;this._n=t,this.Io=new Map,this._o=function(t){var i=t.target;if(n.Io.has(i))return!0;var r=!1;return n.Io.forEach((function(t,e){!r&&n.Io.get(e).subtree&&(r=e.contains(i))})),r},re.general.nbOfMutationObservers.increase(),this.Jn=new csMutationObserver((function(i){Gs.isScheduled(n,n.garbageCollect)&&(i=mi(i,n._o)),i.length&&Ce((function(){return t(i,n)}))}))}return t.prototype.disconnect=function(){re.general.nbOfMutationObservers.decrease(),this.Jn.disconnect(),this.Io=new Map},t.prototype.takeRecords=function(){return this.Jn.takeRecords()},t.prototype.observe=function(t,n){return re.mutations.elementMutationObserved.increase(),this.Io.set(t,n),this.Jn.observe(t,n)},t.prototype.unobserve=function(t){this.Io.has(t)&&(re.mutations.elementMutationObserved.decrease(),this.Io.delete(t),this.garbageCollect())},t.prototype.garbageCollect=function(){var t=this;re.mutations.unobserveGarbageCollection.measure((function(){var n=mi(t.takeRecords(),t._o);n.length&&t._n(n,t),t.Jn.disconnect(),t.Io.forEach((function(n,i){return t.Jn.observe(i,n)}))}))},xn([Gs()],t.prototype,"garbageCollect",null),t}(),Ys=function(){function t(t){this._n=t,this.xo=[],this.Po=new Set}return t.prototype.observe=function(t,n){var i,r,e=this;if(!De.getRootNode(t))throw new Error("Node has no root node");if(!this.Po.has(t)){this.Po.add(t);var s=!!(null==n?void 0:n.subtree),o=t.parentElement||De.getRootNode(t),u=De.getAncestors(t,s),c=new Set(u);re.general.nbOfMutationObservers.increase();var h=Hn("NodeDisconnectedObserver:MutationCallback",(function(n){var i,r;try{for(var s=Dn(n),o=s.next();!o.done;o=s.next()){var u=o.value;if(c.has(u.target)&&pi(u.removedNodes,(function(t){return c.has(t)})))return e._n(t),a.disconnect(),e.Po.delete(t),void re.general.nbOfMutationObservers.decrease()}}catch(t){i={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}})),a=new csMutationObserver((function(t){csSetTimeout((function(){return h(t)}))}));if(s)try{for(var f=Dn(u),l=f.next();!l.done;l=f.next()){var v=l.value;csArray.prototype.includes.call([11,9],v.nodeType)&&a.observe(v,{childList:!0,subtree:!0})}}catch(t){i={error:t}}finally{try{l&&!l.done&&(r=f.return)&&r.call(f)}finally{if(i)throw i.error}}else a.observe(o,{childList:!0});csArray.prototype.push.call(this.xo,(function(){a.disconnect()}))}},t.prototype.disconnect=function(){yi(this.xo,(function(t){return t()})),this.xo=[],this.Po.clear()},xn([qn()],t.prototype,"observe",null),xn([qn()],t.prototype,"disconnect",null),t}(),Xs=function(){function t(t){var n=this;this.Mo=new Set,this.Do=new Ys((function(t){return n.Lo(t)})),this.$n=!1,this.Uo=t?_n(_n({},Qs),t):Qs}return t.prototype.stop=function(){var t,n;this.$n=!1,null===(t=this.jo)||void 0===t||t.disconnect(),null===(n=this.Jn)||void 0===n||n.disconnect()},t.prototype.start=function(t){var n=this;if(this.$n)throw new Error("VisibilityObserver is already started");this._n=Hn("VisibilityObserver:callback",(function(n,i){return t(n,i)}));var i={root:null,rootMargin:"0px",threshold:.5,trackVisibility:!0,delay:300};this.jo=Bs.create((function(t){return n.handleIntersection(t)}),i),this.Jn=new Ws((function(t){return csSetTimeout((function(){yi(t,(function(t){return n.Lo(t.target)}))}))})),this.wo(),this.$n=!0},t.prototype.observe=function(t){if(!this.$n)throw new Error("Observer is stopped.");!1===this.Uo.reobserve&&t[this.qo]||(re.visibilityObserver.nbElements.increase(),t[this.qo]=!0,this.watchIntersection(t))},t.prototype.wo=function(){this.Ho=csSymbol("isVisible"),this.qo=csSymbol("ObservedElement"),this.Vo=csSymbol("LinkedElement"),this.Fo=csSymbol("Tracked")},t.prototype.Lo=function(t){var n,i;this.Mo.add(t);try{for(var r=Dn(this.Bo(t)),e=r.next();!e.done;e=r.next()){var s=e.value;this.Mo.add(s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}this.recheckCssVisibilityAll()},t.prototype.recheckCssVisibilityAll=function(){var t=this;yi(this.Mo.keys(),(function(n){n.isConnected&&!De.areAncestorsHiddenByCSS(n)&&n[t.qo]&&t.watchIntersection(n)})),this.Mo.clear()},t.prototype.watchIntersection=function(t){this.Jn.unobserve(t),this.jo.unobserve(t);var n=De.getTopAncestorHiddenByCSS(t);n?(n!==t&&(this.zo(n,t),this.watchMutation(n)),this.watchMutation(t)):this.jo.observe(t)},t.prototype.watchMutation=function(t,n){void 0===n&&(n=!0),n&&delete t[this.Ho],this.jo.unobserve(t);this.Jn.observe(t,{attributeFilter:["style","class","hidden"]})},t.prototype.handleIntersection=function(t){var n,i,r=this;try{for(var e=Dn(t),s=e.next();!s.done;s=e.next()){var o=s.value,u=o.target;if(o.isVisible){var c=!o.target[this.Ho];o.target[this.Ho]=!0,c&&!this.Uo.delay&&this.onVisibilityChanged(o.target,Js.VisibleInViewPort)}else{De.isVisibleInDocument(u)||this.Go(u)}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}this.Uo.delay&&csSetTimeout((function(){var n,i;try{for(var e=Dn(t),s=e.next();!s.done;s=e.next()){var o=s.value,u=o.isIntersecting&&o.isVisible;o.target[r.Ho]&&u&&r.onVisibilityChanged(o.target,Js.VisibleInViewPort)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}}),this.Uo.delay)},t.prototype.Go=function(t){re.visibilityObserver.hiddenElements.increase();var n=De.getTopElement(t);this.watchMutation(t),n&&(this.Do.observe(n),this.zo(n,t),this.watchMutation(n,!1))},t.prototype.zo=function(t,n){var i;(t[this.Vo]=null!==(i=t[this.Vo])&&void 0!==i?i:new Set).add(n)},t.prototype.Bo=function(t){var n,i,r=[];return yi(null!==(i=null===(n=t[this.Vo])||void 0===n?void 0:n.values())&&void 0!==i?i:[],(function(t){return csArray.prototype.push.call(r,t)})),r},t.prototype.onVisibilityChanged=function(t,n){if(n===Js.VisibleInViewPort&&this.Uo.trackOnce){if(this.jo.unobserve(t),this.Jn.unobserve(t),t[this.Fo])return;t[this.Fo]=!0}this._n(t,n)},t.isSupported=function(){return Bs.isSupported()},xn([qn()],t.prototype,"observe",null),xn([gr({wait:50}),qn(),ri("recheckCssVisibilityAll")],t.prototype,"recheckCssVisibilityAll",null),xn([qn()],t.prototype,"watchIntersection",null),xn([qn()],t.prototype,"watchMutation",null),xn([qn(),ri("VisibilityObserver.handleIntersection")],t.prototype,"handleIntersection",null),xn([qn()],t.prototype,"onVisibilityChanged",null),t}();!function(t){t.VisibleInViewPort="VisibleInViewPort",t.HiddenByAnother="HiddenByAnother",t.Hidden="Hidden"}(Js||(Js={}));var Ks,Qs={delay:1e3,trackOnce:!0,reobserve:!1},Zs=function(){function t(t){var n=this;this._n=t,this.Rs=Ue(),this.$o=function(t){Ce((function(){var i,r;try{for(var e=Dn(t),s=e.next();!s.done;s=e.next()){var o=s.value;"childList"===o.type&&yi(o.addedNodes,(function(t){Xi(t,NodeFilter.SHOW_TEXT).visitAll((function(t){n.Rs.has(t)||(n.Rs.add(t),n._n(t))}))}))}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}))},this.Es=new Ke(this.$o)}return t.prototype.observe=function(){var t=this;this.Es.observe(),Xi(document,NodeFilter.SHOW_TEXT).visitAll((function(n){t.Rs.add(n),t._n(n)}))},t.prototype.disconnect=function(){this.Rs.clear(),this.Es.disconnect()},t}(),to=function(){function t(t,n){void 0===n&&(n={closest:!1});var i=this;this._n=t,this.Uo=n,this.Jo="",this.Wo=Ue(),this.Hs=Qn((function(t){var n,r;if(""!==i.Jo){var e=[];try{for(var s=Dn(di(t,(function(t){return t.addedNodes}))),o=s.next();!o.done;o=s.next()){var u=o.value;if(_(u)||i.Uo.closest&&b(u))gi(i.Uo.closest?i.Yo(u,i.Jo):i.findMatchingElements(u,i.Jo),e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}e.length&&i._n(e,"added")}}),"SelectorObserver.processMutations"),this.Xo=function(t,n){if(""!==i.Jo&&"added"===n){var r=i.findMatchingElements(t,i.Jo);r.length&&i._n(r,"added")}},this.Cr=new Ke(this.Hs,this.Xo)}return Object.defineProperty(t.prototype,"selectors",{get:function(){return""===this.Jo?null:this.Jo},enumerable:!1,configurable:!0}),t.prototype.observe=function(t){var n,i,r=this;""===this.Jo?this.Cr.observe():this.Jo+=",",this.Jo+=t;var e=this.findMatchingElements(document,t);try{for(var s=Dn(this.Cr.shadowRoots),o=s.next();!o.done;o=s.next()){var u=o.value;gi(this.findMatchingElements(u,t),e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}e.length&&(yi(e,(function(t){r.Wo.add(t)})),this._n(e,"initial"))},t.prototype.processPendingMutations=function(){this.Hs(this.Cr.takeRecords())},t.prototype.disconnect=function(){this.Cr.disconnect(),this.Wo.clear(),this.Jo=""},t.prototype.Yo=function(t,n){var i=this,r=[];if(b(t)){var e;if(t.parentElement)(e=Ur(t.parentElement,n))&&csArray.prototype.push.call(r,e);return csArray.prototype.filter.call(r,(function(t){return!1===i.Wo.has(t)}))}return zt(t)&&(e=Ur(t,n))?(csArray.prototype.push.call(r,e),csArray.prototype.filter.call(r,(function(t){return!1===i.Wo.has(t)}))):this.findMatchingElements(t,n)},t.prototype.findMatchingElements=function(t,n){var i=this,r=li(window.csquerySelectorAll[t.nodeType].call(t,n));return S(t)&&Pr.call(t,n)&&csArray.prototype.push.call(r,t),csArray.prototype.filter.call(r,(function(t){return!1===i.Wo.has(t)}))},xn([qn()],t.prototype,"observe",null),xn([qn()],t.prototype,"disconnect",null),xn([ri("SelectorObserver.findMatchingElements")],t.prototype,"findMatchingElements",null),t}();!function(t){var n;function i(n){yi(n,(function(n){Xi(n).visitAll((function(n){return Tr.setProperty(n,t.nodeProp,!0)}))}))}t.nodeProp="toEncrypt",t.stop=function(){null==n||n.disconnect(),n=null},t.addSelector=function(t){Lr(t)&&(null==n&&(n=new to(i)),n.observe(t))},t.shouldEncrypt=function(n){return!0===Tr.getProperty(n,t.nodeProp)},t.getSelectors=function(){return null==n?void 0:n.selectors}}(Ks||(Ks={}));var no;!function(t){function n(n){var i=t.call(this)||this;return i.Ko=new Set,i.Qo=new Set,i.Zo=!1,i.tu=new Set,i.nu=!1,i.iu=new Xs(n),i.ru=new Zs((function(t){var n=De.getParentElement(t);!n||!n.isConnected||_r.isMaskedElement(n)||_r.isMaskedElementChild(n)||Ks.shouldEncrypt(n)||T(n)||k(n)||N(n)||$t(t.data)||(i.Ko.add(n),i.eu())})),i}a(n,t),n.prototype.onStart=function(){var t=this;Xs.isSupported()&&(this.iu.start((function(n,i){return t.onVisibilityChanged(n,i)})),this.ru.observe())},n.prototype.onStop=function(){Xs.isSupported()&&(this.iu.stop(),this.ru.disconnect(),this.Ko.clear(),this.Qo.clear(),this.tu.clear(),this.Zo=!1)},n.prototype.setAnonymization=function(t){this.nu=t},n.prototype.eu=function(){var t=this;this.Zo||(this.Zo=!0,Me((function(){var n,i;if(t.isStarted){t.Zo=!1;var r=t.Ko;t.Ko=new Set;try{for(var e=y(Si(r)),s=e.next();!s.done;s=e.next()){var o=s.value;o.isConnected&&!t.Qo.has(o)&&(t.Qo.add(o),pi(csNodechildNodes.apply(o),(function(t){return 3===t.nodeType}))&&t.iu.observe(o))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}}}),1001))},n.prototype.onVisibilityChanged=function(t,n){var i=this;n!==Js.VisibleInViewPort||this.nu&&!Vs.isWhitelistedElement(t)||yi(csNodechildNodes.apply(t),(function(t){if(3===t.nodeType){var r=t.data;i.tu.has(r)||(i.tu.add(r),i.produceEvent({type:"TextVisibility",text:r,state:n}))}}))},l([qn()],n.prototype,"onVisibilityChanged",null)}(fs);!function(t){t.isTextVisibilityEvent=function(t){return"TextVisibility"===t.type}}(no||(no={}));var io,ro,eo,so,oo=["id","class","style","srcset","sizes","rel","type","width","height","media","align","dir","bgcolor","color","border","colspan","rowspan","cols","rows","size","start","slot","data-cs-override-id"],uo=["svg","slot"],co={href:new Set(["a"]),src:new Set(["iframe"])},ho=function(t){function n(n,i,r,e){void 0===e&&(e=null);var s,o,u=t.call(this)||this;return u.nu=n,u.su=i,u.j=r,u.ou=e,u.hu=(s=u.su,o=new Set(oo),csArray.prototype.forEach.call(s,(function(t){o.add(t)})),o),u}return a(n,t),n.prototype.setAnonymization=function(t){this.nu=t},n.prototype.isListening=function(t){return no.isTextVisibilityEvent(t)||as.isDOMEvent(t)&&("initialDOM"===t.domEvent||"nodesAdded"===t.domEvent||"attributeChanged"===t.domEvent||"characterDataChanged"===t.domEvent)},n.prototype.processEvent=function(t){if(no.isTextVisibilityEvent(t))return t.text=this.j.checkAndAnonymizePII(t.text,this.ou),t;switch(t.domEvent){case"initialDOM":case"nodesAdded":this.au(t);break;case"attributeChanged":this.fu(t);break;case"characterDataChanged":this.lu(t)}return t},n.prototype.au=function(t){var n,i,r=this,e="initialDOM"===t.domEvent?[t.initialDOM]:t.nodes;try{for(var s=y(e),o=s.next();!o.done;o=s.next()){var u=o.value;Tr.traverse(u,(function(t,n){if(t.anonymized=r.nu,3===t.nodeType){var i=r.nu;return n&&("style"===n.localName||Vs.isWhitelistedElement(n))&&(i=!1),t.anonymized=i,void(t.data=r.vu(i,t.data,null==n?void 0:n.localName,n?Tr.getProperties(n):void 0))}if(be.isElement(t))return r.du(t);4!==t.nodeType||(t.data=r.nu?Hs(t.data):r.j.checkAndAnonymizePII(t.data,r.ou))}))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},n.prototype.du=function(t){var n=this;if(!Tr.getProperty(t,"SVG")){var i=wi(t.attributes,(function(t){return"type"===t.name})),r=null==i?void 0:i.value;t.attributes=csArray.prototype.map.call(t.attributes,(function(i){return i.anonymized=n.nu,i.value=n.yu(t.localName,n.nu,i.name,i.value,r),i}))}},n.prototype.fu=function(t){t.isSvg||(t.newValue=this.yu(t.localName,this.nu,t.attribute,t.newValue,t.inputType))},n.prototype.yu=function(t,n,i,r,e){return this.wu(t,i,e)?r:function(t){return!!co[t]}(i)?function(t,n,i){var r;return(null===(r=co[n])||void 0===r?void 0:r.has(t))&&!oe(i)}(t,i,r)?this.j.anonymizePII(r):r:n&&function(t,n,i){return("submit"===i||"button"===i)&&"input"===t&&"value"===n}(t,i,e)?Hs(r):n?"":this.j.checkAndAnonymizePII(r)},n.prototype.wu=function(t,n,i){return function(t,n,i){return"radio"===i&&"input"===t&&"name"===n||csArray.prototype.indexOf.call(uo,t)>-1}(t,n,i)||this.hu.has(n)},n.prototype.lu=function(t){t.newValue=this.vu(this.nu,t.newValue,t.parentLocalName,t.parentProps)},n.prototype.vu=function(t,n,i,r){if(i){if("style"===i)return n;if(t&&r&&r[Vs.ANONYMIZED_TEXT_STATUS_PROP]===Vs.WHITELISTED_STATUS)return this.j.checkAndAnonymizePII(n,this.ou)}return t?Hs(n):this.j.checkAndAnonymizePII(n,this.ou)},l([ri("AnonymizedTextProcessor.processEvent")],n.prototype,"processEvent",null),n}(ys),ao=function(t){function n(n){var i=t.call(this)||this;return i.pu=n,i}return a(n,t),n.prototype.isListening=function(t){return as.isDOMEvent(t)&&"initialDOM"===t.domEvent},n.prototype.processEvent=function(t){return"initialDOM"===t.domEvent&&(t.initialDOM.baseURI=this.pu.anonymizeUrl(t.initialDOM.baseURI)),t},l([ri("UrlAnonymizationProcessor.processEvent")],n.prototype,"processEvent",null),n}(ys),fo="textarea",lo=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a(n,t),n.prototype.isListening=function(t){return as.isDOMEvent(t)&&("initialDOM"===t.domEvent||"nodesAdded"===t.domEvent||"characterDataChanged"===t.domEvent)},n.prototype.processEvent=function(t){switch(t.domEvent){case"initialDOM":this.mu(t);break;case"nodesAdded":this.gu(t);break;case"characterDataChanged":this.Su(t)}return t},n.prototype.mu=function(t){var n=this;Tr.traverse(t.initialDOM,(function(t,i){n.bu(t,i)&&(t.data=n.Au(t.data))}))},n.prototype.gu=function(t){var n,i,r=this;try{for(var e=y(t.nodes),s=e.next();!s.done;s=e.next()){var o=s.value;Tr.traverse(o,(function(n,i){r.Eu(n,i,t)&&(n.data=r.Au(n.data))}))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}},n.prototype.Su=function(t){t.parentLocalName===fo&&(t.newValue=this.Au(t.newValue))},n.prototype.Au=function(t){return csString.prototype.replace.call(t,/\S/g,"•")},n.prototype.Eu=function(t,n,i){return this.Ru(t,i)||this.bu(t,n)},n.prototype.Ru=function(t,n){return 3===t.nodeType&&n.targetLocalName===fo},n.prototype.bu=function(t,n){return 3===t.nodeType&&Vt(n)&&n.localName===fo},l([ri("AnonymizedTextAreaProcessor.processEvent")],n.prototype,"processEvent",null),n}(ys),vo=function(){function t(){}return t.shouldProcessElement=function(t){return"VIDEO"===t.tagName&&De.isConnected(t)&&!_r.isMaskedElement(t)&&!_r.isMaskedElementChild(t)},t.isPlaying=function(t){return!t.paused&&!t.ended},t}(),yo=function(t){function n(){var n=t.call(this)||this;return n.Tu=function(t){return n.Ou(t)},n.Ds=je((function(t){var i,r;try{for(var e=y(t),s=e.next();!s.done;s=e.next()){var o=s.value;n.produceEvent(o)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}})),n.oi=new ur((function(t,i){switch(i){case"initial":case"added":n.Nu(t);break;case"removed":n.ku(t)}})),n.Cu=new to((function(t,i){"initial"!==i&&"added"!==i||n.Iu(t)})),n}return a(n,t),n.prototype.onStart=function(){this.Nu(document),this.oi.observe(),this.Cu.observe("video")},n.prototype.onStop=function(){this.ku(document),this.oi.disconnect(),this.Cu.disconnect()},n.prototype.Ou=function(t){if(this.isStarted){var n=Sr(t);if(n){var i=Cr(n);if(vo.shouldProcessElement(n))switch(t.type){case"play":this.Ds.push({type:"VideoEvent",videoEventType:"play",nodeId:i});break;case"pause":this.Ds.push({type:"VideoEvent",videoEventType:"pause",nodeId:i});break;case"seeked":this.Ds.push({type:"VideoEvent",videoEventType:"seeked",nodeId:i,newTimePositionInSec:n.currentTime})}}}},n.prototype.Nu=function(t){hr({type:"play",listener:this.Tu,boundElement:t}),hr({type:"pause",listener:this.Tu,boundElement:t}),hr({type:"seeked",listener:this.Tu,boundElement:t})},n.prototype.ku=function(t){ar({type:"play",listener:this.Tu,boundElement:t}),ar({type:"pause",listener:this.Tu,boundElement:t}),ar({type:"seeked",listener:this.Tu,boundElement:t})},n.prototype.Iu=function(t){var n,i;try{for(var r=y(t),e=r.next();!e.done;e=r.next()){var s=e.value;if(vo.shouldProcessElement(s)){var o=Cr(s);this.Ds.push({type:"VideoEvent",videoEventType:"seeked",newTimePositionInSec:s.currentTime,nodeId:o}),vo.isPlaying(s)&&this.Ds.push({type:"VideoEvent",videoEventType:"play",nodeId:o})}}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n}(fs),wo=function(t){function n(n){var i=t.call(this)||this;return i._u=n,i}return a(n,t),n.prototype.onStart=function(){this.produceEvent({type:"Debug",key:"debugInfo",value:this._u})},n}(fs),po=function(){function t(t){var n=this;this._n=t,this.xu={boundElement:window,type:"resize",listener:function(){return n.resizeListener()}},this._n=t}return t.prototype.observe=function(){hr(this.xu),this.yi()},t.prototype.yi=function(){this.resizeListener()},t.prototype.disconnect=function(){ar(this.xu)},t.prototype.resizeListener=function(){var t={width:xe.windowWidth(),height:xe.windowHeight()};this._n(t)},xn([qn("resize")],t.prototype,"resizeListener",null),t}();!function(t){t.PORTRAIT="Portrait",t.LANDSCAPE="Landscape"}(io||(io={})),function(t){t.PORTRAIT_PRIMARY="portrait-primary",t.PORTRAIT_SECONDARY="portrait-secondary",t.LANDSCAPE_PRIMARY="landscape-primary",t.LANDSCAPE_SECONDARY="landscape-secondary"}(ro||(ro={})),function(t){t[t.PORTRAIT=0]="PORTRAIT",t[t.PORTRAIT_REVERSE=180]="PORTRAIT_REVERSE",t[t.LANDSCAPE=-90]="LANDSCAPE",t[t.LANDSCAPE_REVERSE=90]="LANDSCAPE_REVERSE"}(eo||(eo={})),function(t){var n;function i(){var t,i;return n=!!(null===(t=window.csScreen)||void 0===t?void 0:t.orientation),!!(null===(i=window.csScreen)||void 0===i?void 0:i.orientation)}function r(){return"orientation"in window}function e(){return(null!=n?n:i())?function(){var t;switch(null===(t=window.csScreen.orientation)||void 0===t?void 0:t.type){case ro.PORTRAIT_PRIMARY:case ro.PORTRAIT_SECONDARY:return io.PORTRAIT;case ro.LANDSCAPE_PRIMARY:case ro.LANDSCAPE_SECONDARY:return io.LANDSCAPE;default:return io.PORTRAIT}}():r()?function(){switch(window.orientation){case eo.PORTRAIT:case eo.PORTRAIT_REVERSE:return io.PORTRAIT;case eo.LANDSCAPE:case eo.LANDSCAPE_REVERSE:return io.LANDSCAPE;default:return io.PORTRAIT}}():io.LANDSCAPE}t.isScreenOrientationApiSupported=i,t.isDeprecatedScreenOrientationApiSupported=r,t.getCurrentOrientation=function(){return e()},t.resetOrientationCache=function(){n=void 0}}(so||(so={}));var mo,go=function(t){function n(){var n=t.apply(this,p([],w(arguments),!1))||this;return n.Pu=null,n.Mu=null,n.Du=new po((function(t){n.produceEvent(f(f({},t),{type:"viewportResize"})),n.onScreenPotentiallyChanged()})),n}return a(n,t),n.prototype.onScreenPotentiallyChanged=function(){var t=so.getCurrentOrientation(),n=this.Lu(t),i=n.screenWidth,r=n.screenHeight;if(i!==this.Pu||r!==this.Mu){this.Pu=i,this.Mu=r;var e={type:"screenResize",width:i,height:r};this.produceEvent(e)}},n.prototype.Lu=function(t){var n,i,r=xe.screenWidth(),e=xe.screenHeight();return t===io.PORTRAIT?(n=r,i=e):(n=Math.max(r,e),i=Math.min(r,e)),{screenWidth:n,screenHeight:i}},n.prototype.onStart=function(){this.Du.observe()},n.prototype.onStop=function(){this.Pu=null,this.Mu=null,this.Du.disconnect()},n}(fs),So=function(t){function n(){var n=t.call(this)||this;n.Uu="object"==typeof window.customElements&&"function"==typeof window.customElements.whenDefined&&"function"==typeof window.Promise,n.ju=Hn("CustomElementRegistrationProducer:onElementsFound",(function(t){var i,r,e;try{for(var s=y(t),o=s.next();!o.done;o=s.next()){var u=o.value;_r.isMaskedElement(u)||_r.isMaskedElementChild(u)||S(e=u)&&csString.prototype.indexOf.call(e.tagName,"-")>0&&-1===csString.prototype.indexOf.call(e.tagName,":")&&-1===csString.prototype.indexOf.call(e.tagName,'"')&&-1===csString.prototype.indexOf.call(e.tagName,",")&&csArray.prototype.indexOf.call(D,csString.prototype.toLocaleLowerCase.call(e.tagName))<0&&n.register(csString.prototype.toLowerCase.call(u.tagName))}}catch(t){i={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}}));var i=je(n.ju);return n.js=new Cs((function(t){return i.push(t)})),n.Ko=new Set,n}return a(n,t),n.prototype.onStart=function(){this.Uu&&this.js.observe()},n.prototype.onStop=function(){this.Ko.clear(),this.js.disconnect()},n.prototype.register=function(t){return v(this,void 0,void 0,(function(){return d(this,(function(n){switch(n.label){case 0:return this.Ko.has(t)?[2]:(this.Ko.add(t),[4,window.customElements.whenDefined(t)]);case 1:return n.sent(),this.produceEvent({type:"CustomElementRegistration",tagName:csString.prototype.toLowerCase.call(t)}),[2]}}))}))},l([qn()],n.prototype,"register",null),n}(fs);!function(t){t.isNavigationTimingObserverSupported=function(){var t,n;return(null==(null===(t=window.PerformanceObserver)||void 0===t?void 0:t.supportedEntryTypes)?void 0:csArray.prototype.indexOf.call(null===(n=window.PerformanceObserver)||void 0===n?void 0:n.supportedEntryTypes,"navigation"))>=0},t.getTimeOrigin=function(){return window.performance.timeOrigin}}(mo||(mo={}));var bo,Ao,Eo=function(){function t(t){this._n=t}return t.qu=function(){return new window.PerformanceObserver((function(n){return t.Hu(n)}))},t.Hu=function(n){var i=n.getEntriesByType("navigation")[0];i&&(this.Vu=i,t.Fu(i))},t.zn=function(n){t.Bu(n),t.Vu&&n(t.Vu),t.zu||t.Gu()},t.Bu=function(n){t.$u.add(n)},t.Ju=function(n){t.$u.delete(n)},t.Gu=function(){if(!t.Wu)return t.Vu||(t.Vu={requestStart:window.performance.timing.requestStart,domInteractive:window.performance.timing.domInteractive}),void t.Fu(t.Vu);t.Wu.observe({type:"navigation",buffered:!0}),t.zu=!0},t.Fu=function(n){t.$u.forEach((function(t){t(n)}))},t.Kn=function(n){t.Ju(n),0===t.$u.size&&t.Yu()},t.Yu=function(){var n;t.zu&&(null===(n=t.Wu)||void 0===n||n.disconnect(),t.zu=!1,t.Vu=null,t.Wu=this.qu())},t.prototype.observe=function(){t.zn(this._n)},t.prototype.disconnect=function(){t.Kn(this._n)},t.Wu=mo.isNavigationTimingObserverSupported()?t.qu():null,t.zu=!1,t.$u=new Set,t.Vu=null,t}(),Ro=function(t){function n(){var n=t.apply(this,p([],w(arguments),!1))||this;return n.Xu=null,n.Ku=new Eo((function(t){if(!n.Xu){var i=n.Qu(t);i&&(n.Xu=i,n.produceEvent(i))}})),n}return a(n,t),n.prototype.onStart=function(){this.Xu?this.produceEvent(this.Xu):this.Ku.observe()},n.prototype.onStop=function(){this.Ku.disconnect()},n.prototype.Qu=function(t){var n=mo.getTimeOrigin();return{type:"PerformanceTiming",timings:{timeOrigin:n,requestStart:Math.floor(n+t.requestStart),domInteractive:Math.floor(n+t.domInteractive)},timestamp:Xt()}},n}(fs);!function(t){t[t.TAP=0]="TAP",t[t.LONG_PRESS=1]="LONG_PRESS",t[t.DRAG=2]="DRAG",t[t.FLICK=3]="FLICK",t[t.PINCH_IN=4]="PINCH_IN",t[t.PINCH_OUT=5]="PINCH_OUT"}(bo||(bo={})),function(t){t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT"}(Ao||(Ao={}));var To=function(){function t(){}return t.prototype.compute=function(t,n){var i=this.Zu(n.x)-this.Zu(t.x),r=this.Zu(n.y)-this.Zu(t.y),e=n.time-t.time;return{duration:e,distance:this.tc(i,r),direction:this.nc(i,r),velocity:this.rc(i,r,e)}},t.prototype.computePinchMetrics=function(t,n){var i=this.Zu(n.x)-this.Zu(t.x),r=this.Zu(n.y)-this.Zu(t.y);return{duration:n.time-t.time,distance:this.tc(i,r)}},t.prototype.getScale=function(t,n){return Math.abs(n/t-1)},t.prototype.Zu=function(t){return t/window.devicePixelRatio},t.prototype.tc=function(t,n){return Math.round(Math.sqrt(t*t+n*n))},t.prototype.rc=function(t,n,i){var r=i/1e3,e=t/r,s=n/r;return Math.round(Math.abs(e)+Math.abs(s))},t.prototype.nc=function(t,n){return Math.abs(t)>Math.abs(n)?t>0?Ao.RIGHT:Ao.LEFT:n>0?Ao.DOWN:Ao.UP},t}(),Oo=function(){function t(){this.ec={},this.sc=function(){},this.oc=new To,this.cc()}return t.isGestureDetectionSupported=function(){return void 0!==window.devicePixelRatio},t.prototype.onGesture=function(t){this.sc=t},t.prototype.isValidTouchEvent=function(t){return"touches"in t&&"changedTouches"in t},t.prototype.processActionDown=function(t){if(this.hc(t)){this.ac(t)&&this.cc();var n={x:t.touches[0].clientX,y:t.touches[0].clientY,time:Xt()};if(1===t.touches.length)this.ec.startPinchTime=n.time,this.ec.firstTouch=n;else if(2===t.touches.length&&(this.ec.secondTouch={x:t.touches[1].clientX,y:t.touches[1].clientY,time:Xt()},this.ec.firstTouch&&this.ec.secondTouch)){var i=this.oc.computePinchMetrics(this.ec.firstTouch,this.ec.secondTouch);this.fc=i.distance}csArray.prototype.push.call(this.lc,n),this.vc=Sr(t)}},t.prototype.processActionMove=function(){this.yc=!0},t.prototype.processActionUp=function(t){if(this.wc(t)){if(csArray.prototype.push.call(this.lc,{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:Xt()}),this.mc(t)&&this.ec.startPinchTime){var n={x:t.touches[0].clientX,y:t.touches[0].clientY,time:this.ec.startPinchTime},i={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:Xt()};this.ec.firstTouch&&(this.ec.firstTouch=n,this.ec.secondTouch=i),this.gc(t)}this.fc||this.Sc()&&this.bc(t)}},t.prototype.cc=function(){this.lc=[],this.vc=null,this.yc=!1,this.fc=null,this.Ac=!0},t.prototype.bc=function(t){var n=this.oc.compute(this.lc[0],this.lc[1]);this.Ac=t.isTrusted;var i=this.yc?this.Ec(n):this.Rc(n);if(this.Tc(i.type,t.changedTouches)){var r=t.changedTouches[0];i.pageX=fr(r.pageX,1),i.pageY=fr(r.pageY,1)}this.sc(i,t)},t.prototype.gc=function(t){if(this.ec.firstTouch&&this.ec.secondTouch){var n=this.oc.computePinchMetrics(this.ec.firstTouch,this.ec.secondTouch);this.Ac=t.isTrusted;var i=this.Oc(n);i&&this.sc(i,t)}},t.prototype.Oc=function(t){if(this.fc&&!(this.oc.getScale(this.fc,t.distance)<.1))return{type:this.fc>t.distance?bo.PINCH_IN:bo.PINCH_OUT,target:this.vc,distance:t.distance,isTrusted:this.Ac}},t.prototype.Ec=function(t){return{type:t.velocity<100?bo.DRAG:bo.FLICK,target:this.vc,velocity:t.velocity,distance:t.distance,direction:t.direction,isTrusted:this.Ac}},t.prototype.Rc=function(t){return{type:t.duration<1e3?bo.TAP:bo.LONG_PRESS,target:this.vc,isTrusted:this.Ac}},t.prototype.Tc=function(t,n){return t===bo.TAP&&n&&1===n.length},t.prototype.ac=function(t){return 1===t.touches.length},t.prototype.Sc=function(){return 2===this.lc.length},t.prototype.hc=function(t){return t.touches.length>0},t.prototype.wc=function(t){return t.changedTouches.length>0},t.prototype.mc=function(t){return this.yc&&!!this.fc&&1===t.changedTouches.length&&1===t.touches.length},t}(),No=function(){function t(t){this._n=t}return t.prototype.observe=function(){t.Nc&&t.kc(this._n)},t.prototype.disconnect=function(){t.Nc&&t.Cc(this._n)},t.Ic=function(n,i){t.$u.forEach((function(t){return t(n,i)}))},t.kc=function(n){t.$u.has(n)||(t.$u.add(n),1===t.$u.size&&(t._c.onGesture(t.Ic),csArray.prototype.forEach.call(t.ys,(function(t){return hr(t)}))))},t.Cc=function(n){t.$u.delete(n),0===t.$u.size&&csArray.prototype.forEach.call(t.ys,(function(t){return ar(t)}))},t.xc=function(n){if(t._c.isValidTouchEvent(n))switch(n.type){case"touchstart":t._c.processActionDown(n);break;case"touchmove":t._c.processActionMove();break;case"touchend":t._c.processActionUp(n)}},t.ys=[{boundElement:document,type:"touchstart",listener:function(n){return t.xc(n)}},{boundElement:document,type:"touchmove",listener:function(n){return t.xc(n)}},{boundElement:document,type:"touchend",listener:function(n){return t.xc(n)}}],t.Nc=Oo.isGestureDetectionSupported(),t.$u=new Set,t._c=new Oo,t}(),ko=function(t){function n(){var n=t.call(this)||this;return n.Pc=new No(n.Mc.bind(n)),n}return a(n,t),n.prototype.onStart=function(){this.Pc.observe()},n.prototype.onStop=function(){this.Pc.disconnect()},n.prototype.Mc=function(t){var n=this.Dc(t);n&&this.produceEvent(n)},n.prototype.Dc=function(t){if(!this.Lc(t))return null;var n,i=(n=t.target,Tr.getProperty(n,kr));return i?{type:"Gesture",targetId:i,data:{type:t.type,direction:t.direction,distance:t.distance,velocity:t.velocity,pageX:t.pageX,pageY:t.pageY}}:null},n.prototype.Lc=function(t){return null!==t.target&&!(S(t.target)&&_r.isMaskedElementChild(t.target))},n}(fs);function Co(t){return"INPUT"===t.nodeName}function Io(t){return Co(t)&&"number"===t.type}function _o(t){return Co(t)&&("checkbox"===t.type||"radio"===t.type)}var xo,Po=function(t){function n(n){var i=t.call(this)||this;return i.fe=n,i.Uc=Ue(),i.jc=function(t){return i.inputHandler(t)},i.qc=[],i.Hc(),i.Vc(),i.Cu=new to((function(t){var n,r,e=function(t){i.Fc(t)&&Ce((function(){i.Bc(t,Cr(t))}))};try{for(var s=y(t),o=s.next();!o.done;o=s.next()){e(o.value)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}})),i.oi=new ur((function(t,n){switch(n){case"initial":case"added":hr({type:"change",listener:i.jc,boundElement:t});break;case"removed":ar({type:"change",boundElement:t,listener:i.jc})}})),i}return a(n,t),n.prototype.onStart=function(){hr({type:"keyup",boundElement:document,listener:this.jc}),hr({type:"change",boundElement:document,listener:this.jc}),yi(this.qc,(function(t){return t.activate()})),this.Cu.observe(csArray.prototype.join.call(n.zc,",")),this.oi.observe()},n.prototype.onStop=function(){ar({type:"keyup",boundElement:document,listener:this.jc}),ar({type:"change",boundElement:document,listener:this.jc}),yi(this.qc,(function(t){return t.deactivate()})),this.Cu.disconnect(),this.oi.disconnect(),this.Uc.clear()},n.prototype.Bc=function(t,n){var i,r,e;if(!this.Uc.has(t))if(this.Uc.add(t),function(t){return"SELECT"===t.nodeName}(t)){var s={type:"InputEvent",inputType:"select",target:Cr(t),selectedIndex:t.selectedIndex,timestamp:Xt()};this.produceEvent(s)}else if(_o(t)){var o={type:"InputEvent",inputType:"checkable",target:Cr(t),checked:t.checked,timestamp:Xt()};this.produceEvent(o)}else{var u=function(t){return"TEXTAREA"===t.nodeName||Co(t)&&!Io(t)&&!_o(t)}(t),c=Io(t);if(u||c){var h=null!==(i=t.value)&&void 0!==i?i:"";if(null===(r=this.fe)||void 0===r?void 0:r.shouldEncrypt(t))return void(null===(e=this.fe)||void 0===e||e.registerInputNodeToEncrypt({targetId:n,targetValue:h,date:Xt()}));var a=c?"0":"•",f={type:"InputEvent",inputType:"text",target:Cr(t),value:csString.prototype.replace.call(h,/\S/g,a),timestamp:Xt()};this.produceEvent(f)}}},n.prototype.inputHandler=function(t){var n=this;if(this.isStarted){var i=Sr(t),r=Cr(i);r&&this.Fc(i)&&De.isConnected(i)&&Ce((function(){n.Bc(i,r)}))}},n.prototype.Hc=function(){this.trackChanges(HTMLInputElement,"checked"),this.trackChanges(HTMLInputElement,"value"),this.trackChanges(HTMLTextAreaElement,"value")},n.prototype.Vc=function(){this.trackChanges(HTMLSelectElement,"selectedIndex"),this.trackChanges(HTMLSelectElement,"value"),this.trackChanges(HTMLOptionElement,"selected",!0)},n.prototype.trackChanges=function(t,n,i){var r=this;void 0===i&&(i=!1);var e=or(t.prototype,n,(function(t,n,e){if(e!==n&&De.isConnected(t)){var s=i?t.parentElement:t;r.Gc(s)}}));e&&csArray.prototype.push.call(this.qc,e)},n.prototype.Fc=function(t){return!_r.isMaskedElement(t)&&!_r.isMaskedElementChild(t)&&(O(t)||I(t)||N(t))},n.prototype.Gc=function(t){var n=this;if(this.isStarted&&De.isConnected(t)){var i=Cr(t);i&&this.Fc(t)&&Ce((function(){n.Bc(t,i)}))}},n.zc=["textarea","input:not([type])",'input[type="text"]','input[type="email"]','input[type="search"]','input[type="tel"]','input[type="url"]','input[type="password"]','input[type="number"]','input[type="checkbox"]','input[type="radio"]',"select"],l([Fn()],n.prototype,"inputHandler",null),l([qn()],n.prototype,"trackChanges",null),n}(fs),Mo=function(){function t(t){var n=this;this._n=t,this.$c=!1,this.xu={boundElement:window,type:"error",listener:function(t){return n.Jc(t)}}}return t.prototype.observe=function(){hr(this.xu,this.$c)},t.prototype.disconnect=function(){ar(this.xu,this.$c)},t.prototype.Jc=function(t){this._n(t)},t}(),Do=function(t){function n(){var n=t.apply(this,p([],w(arguments),!1))||this;return n.Wc=new Mo((function(t){return n.Yc(t)})),n}return a(n,t),n.prototype.Yc=function(t){var n=t.message,i=t.filename,r=t.lineno,e=t.colno;n=null!=n?n:"[NO ERROR MESSAGE]",i=oe(i)?"":i,this.produceEvent({type:"JSError",message:n,filename:i,lineno:r,colno:e})},n.prototype.onStart=function(){this.Wc.observe()},n.prototype.onStop=function(){this.Wc.disconnect()},n}(fs),Lo=function(t){function n(n){var i=t.call(this)||this;return i.Xc=n,i.Kc=1024,i.Qc=150,i}return a(n,t),n.prototype.isListening=function(t){return"JSError"===t.type},n.prototype.processEvent=function(t){return t.message=ds.truncate(t.message,this.Kc,ds.ELLIPSIS),t.filename=ds.truncate(t.filename,this.Qc,ds.ELLIPSIS),this.Xc(t)},n}(ys),Uo=[],jo=!1,qo=Qn((function(){for(var t=csDate.now(),n=0;n<Uo.length;n++)if(Uo[n](),csDate.now()-t>=35)return Uo=csArray.prototype.slice.call(Uo,n+1),void csSetTimeout(qo);Uo=[],jo=!1}),"executeTasks");!function(t){t[t.Started=0]="Started",t[t.Stopped=1]="Stopped",t[t.Processing=2]="Processing",t[t.Completed=3]="Completed"}(xo||(xo={}));var Ho=function(){function t(){var t=this;this.Zc=new Bn,this.$i=xo.Stopped,this._n=null,this.th=function(n){t.$i!==xo.Stopped&&n&&(t._n(n),t.nh())}}return Object.defineProperty(t.prototype,"queueLength",{get:function(){return this.Zc.length},enumerable:!1,configurable:!0}),t.prototype.start=function(t){if(this._n)throw new Error("callback already set");this.$i=xo.Started,this._n=t},t.prototype.push=function(t){this.Zc.push(t),this.ih()},t.prototype.stop=function(){this._n=null,this.$i=xo.Stopped,this.Zc.clear()},t.pipe=function(n,i){var r,e,s=n,o=new csArray,u=function(n){var i=new t;i.start((function(t){n.pushEvent(t)})),csArray.prototype.push.call(o,i),yi(s,(function(t){return t.subscribe((function(t){return i.push(t)}))})),s=[n]};try{for(var c=y(i),h=c.next();!h.done;h=c.next()){u(h.value)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(r)throw r.error}}var a=new Vo(o);return yi(s,(function(t){return t.subscribe((function(t){return a.push(t)}))})),a},t.prototype.rh=function(){return this.$i===xo.Stopped},t.prototype.eh=function(){return this.$i===xo.Processing},t.prototype.nh=function(){var t=this;this.rh()||(this.Zc.isEmpty?this.$i=xo.Completed:(this.$i=xo.Processing,function(t){if(csArray.prototype.push.call(Uo,t),!jo){for(var n=0;n<3;n++)csSetTimeout(qo);jo=!0}}((function(){var n=t.Zc.pop();n instanceof Ae?n.complete(t.th):t.th(n)}))))},t.prototype.ih=function(){this.rh()||this.eh()||this.nh()},t}(),Vo=function(t){function n(n){var i=t.call(this)||this;return i.oh=n,i}return a(n,t),Object.defineProperty(n.prototype,"queueLength",{get:function(){return csArray.prototype.reduce.call(this.oh,(function(t,n){return t+n.queueLength}),0)},enumerable:!1,configurable:!0}),n.prototype.stop=function(){t.prototype.stop.call(this),yi(this.oh,(function(t){return t.stop()}))},n}(Ho),Fo=function(){function t(t,n){void 0===n&&(n=[]),this.producers=t,this.processors=n,this.$n=!1,this.$u=[]}return Object.defineProperty(t.prototype,"pendingEvents",{get:function(){var t,n;return null!==(n=null===(t=this.Zc)||void 0===t?void 0:t.queueLength)&&void 0!==n?n:0},enumerable:!1,configurable:!0}),t.prototype.start=function(){if(this.$n)throw new Error("Recording is already started.");var t=this.$u;this.Zc=Ho.pipe(this.producers,this.processors),this.Zc.start((function(n){return csArray.prototype.forEach.call(t,(function(t){return t(n)}))})),yi(this.producers,(function(t){return t.start()})),yi(this.processors,(function(t){return t.start()})),this.$n=!0},t.prototype.stop=function(){var t,n,i,r;this.Zc.stop(),this.$u.length=0;try{for(var e=y(this.producers),s=e.next();!s.done;s=e.next()){s.value.stop()}}catch(n){t={error:n}}finally{try{s&&!s.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}try{for(var o=y(this.processors),u=o.next();!u.done;u=o.next()){u.value.stop()}}catch(t){i={error:t}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}this.$n=!1,this.$u=[]},t.prototype.subscribe=function(t){var n=this;if(this.$n)throw new Error("Recording is already started.");return csArray.prototype.push.call(this.$u,t),function(){return n.$u=csArray.prototype.filter.call(n.$u,(function(n){return n!==t}))}},t}(),Bo=function(t){function n(n){var i=t.call(this)||this;return i.we=n,i}return Q(n,t),n.prototype.subscribe=function(n){return t.prototype.subscribe.call(this,n)},n.prototype.onStart=function(){var t=this;yi(this.we,(function(n){n.onEvent((function(n){return t.Fi(n)}))})),yi(this.we,(function(t){var n;null===(n=t.start)||void 0===n||n.call(t)}))},n.prototype.onStop=function(){yi(this.we,(function(t){var n;return null===(n=t.stop)||void 0===n?void 0:n.call(t)}))},n.prototype.Fi=function(t){this.produceEvent({timestamp:Xt(),type:"Legacy",originalEvent:t})},n}(fs);function zo(t){var n=function(t){var n={type:Go(t.type)};for(var i in t){var r=t[i];void 0!==r&&"type"!==i&&(n[i]=r)}return n}(t.data);return{type:vr.GESTURE_RECOGNITION,args:[t.targetId,n],date:t.timestamp}}function Go(t){switch(t){case bo.DRAG:case bo.FLICK:return wr.SWIPE;case bo.LONG_PRESS:return wr.LONG_PRESS;case bo.TAP:return wr.TAP;case bo.PINCH_IN:return wr.PINCH_IN;case bo.PINCH_OUT:return wr.PINCH_OUT}}var $o;function Jo(t){return function(t,n){var i=[];return{push:function(t){csArray.prototype.push.call(i,t),i.length===n.batchSize&&this.flush()},flush:function(){if(i.length){var n=i;i=[],t(n)}}}}((function(n){var i={visibleInViewPort:n},r={type:vr.TEXT_VISIBILITY,date:Xt(),args:[i]};t(r)}),{batchSize:20})}!function(t){t.REQUEST_START="requestStart",t.DOM_INTERACTIVE="domInteractive",t.TIME_ORIGIN="timeOrigin"}($o||($o={}));Z(Z({},{connectEnd:"ce",connectStart:"cs",decodedBodySize:"dbs",domainLookupEnd:"dle",domainLookupStart:"dls",duration:"d",fetchStart:"fs",initiatorType:"it",name:"n",nextHopProtocol:"nhp",redirectEnd:"re",redirectStart:"rs",requestStart:"rqs",responseEnd:"rse",responseStart:"rss",responseStatus:"rst",secureConnectionStart:"scs",startTime:"st",transferSize:"ts"}),{domComplete:"dc",domContentLoadedEventEnd:"dclee",domContentLoadedEventStart:"dcles",domInteractive:"di",loadEventEnd:"lee",loadEventStart:"les",type:"t"});var Wo=0;var Yo,Xo=function(){function t(t,n,i,r,e){var s=this;this.uh=t,this.hh=n,this.ah=i,this.Ae=r,this.Ee=e,this.fh=function(){},this.yh=function(){},this.ph=Jo((function(t){return s.fh(t)}))}return Object.defineProperty(t.prototype,"pendingEvents",{get:function(){return this.uh.pendingEvents},enumerable:!1,configurable:!0}),t.prototype.start=function(){var t,n,i=this;this.mh={processEvent:function(t,n){if(t.originalEvent.type===vr.PERFORMANCE_RESOURCE_TIMING)return Wo>=500?null:(Wo+=1,n(Z(Z({},t.originalEvent),{date:t.timestamp})));n(t.originalEvent)},reset:function(){Wo=0}},this.uh.subscribe((function(t){var n,r,e,s,o,u=t,c=u.timestamp;switch(u.type){case"Legacy":i.mh.processEvent(u,i.fh);break;case"CustomElementRegistration":i.fh({type:vr.CUSTOM_ELEMENT_REGISTRATION,date:c,args:[u.tagName]});break;case"DomEvent":!function(t,n,i){var r,e,s=t.timestamp;switch(t.domEvent){case"initialDOM":var o=t.initialDOM,u={type:vr.INITIAL_DOM,date:s,args:[o]};i.emitInitialDomDone(u);break;case"nodesAdded":csArray.prototype.forEach.call(t.nodes,(function(i){n({type:vr.MUTATION_INSERT,date:s,args:[t.target,t.nextSibling,i]})}));break;case"nodesMoved":try{for(var c=et(t.nodesIds),h=c.next();!h.done;h=c.next()){var a=h.value;n({type:vr.MUTATION_MOVE,date:s,args:[a,t.nextSibling,t.target]})}}catch(t){r={error:t}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(r)throw r.error}}break;case"nodesRemoved":csArray.prototype.forEach.call(t.nodesIds,(function(t){n({type:vr.MUTATION_REMOVE,date:s,args:[t]})}));break;case"attributeChanged":var f=t.target,l=t.namespace,v=t.attribute,d=t.newValue;n({type:vr.MUTATION_ATTRIBUTE,date:s,args:[f,l,v,d]});break;case"characterDataChanged":f=t.target,d=t.newValue,n({type:vr.MUTATION_CHARACTER_DATA,date:s,args:[f,d]});break;case"cssRuleInserted":f=t.target;var y=t.rule,w=Vt(p=t.index)?[f,y,p]:[f,y];n({type:vr.STYLESHEET_RULE_INSERT,date:s,args:w});break;case"cssRuleDeleted":f=t.target;var p=t.index;n({type:vr.STYLESHEET_RULE_DELETE,date:s,args:[f,p]});break;case"cssRuleUpdated":f=t.target,y=t.rule,p=t.index,n({type:vr.STYLESHEET_RULE_UPDATE,date:s,args:[f,y,p]});break;case"shadowRootAttached":f=t.target;var m=t.shadowRoot;n({type:vr.ATTACH_SHADOW,date:s,args:[f,m]});break;case"adoptedStyleSheetRegistered":var g=t.sheetId,S=t.cssRules;n({type:vr.REGISTER_ADOPTED_STYLE_SHEET,date:s,args:[g,{cssRules:S}]});break;case"adoptedStyleSheetsSet":f=t.target;var b=t.sheetsIds;n({type:vr.SET_ADOPTED_STYLE_SHEETS,date:s,args:[f,b]});break;case"adoptedStyleSheetRuleInserted":g=t.sheetId,y=t.rule,w=Vt(p=t.index)?[g,y,p]:[g,y],n({type:vr.ADOPTED_STYLESHEET_RULE_INSERT,date:s,args:w});break;case"adoptedStyleSheetRuleDeleted":g=t.sheetId,p=t.index,n({type:vr.ADOPTED_STYLESHEET_RULE_DELETE,date:s,args:[g,p]});break;case"adoptedStyleSheetRuleUpdated":w=[g=t.sheetId,y=t.rule,p=t.index],n({type:vr.ADOPTED_STYLESHEET_RULE_UPDATE,date:s,args:w});break;default:kn.error("translateDOMEvent: DOMEvent not supported")}}(u,i.fh,i.hh);break;case"InputEvent":var h=function(t){switch(t.inputType){case"text":return{type:vr.INPUT_TEXT,args:[t.target,t.value],date:t.timestamp};case"select":return{type:vr.INPUT_SELECT,args:[t.target,t.selectedIndex],date:t.timestamp};case"checkable":return{type:vr.INPUT_CHECKABLE,args:[t.target,t.checked],date:t.timestamp}}}(u);null===(n=i.yh)||void 0===n||n.call(i,h);break;case"encryptedCharacterDataChanged":var a=u.target,f=u.rawData,l=u.encryptedData,v=u.encryptionMetadata;i.fh({type:vr.MUTATION_ENCRYPTED_CHARACTER_DATA,date:c,args:[a,f,l,v]});break;case"StaticResource":var d=u.url;i.fh({type:vr.STATIC_RESOURCE_URL,date:c,args:[d]});break;case"ResizeMaskedElement":a=u.target;var y=u.width,w=u.height;i.fh({type:vr.MUTATION_ATTRIBUTE,date:c,args:[a,"","style","width:".concat(y,"px !important;height:").concat(w,"px !important;")]});break;case"Gesture":var p=zo(t);null===(r=i.yh)||void 0===r||r.call(i,p);break;case"TextVisibility":i.ph.push(u.text);break;case"StaticResourceManagerEvent":null===(e=i.ah)||void 0===e||e.processEvent(u);break;case"screenResize":y=u.width,w=u.height;var m={type:vr.SCREEN_RESIZE,date:c,args:[y,w]};i.fh(m);break;case"viewportResize":y=u.width,w=u.height;var g={type:vr.RESIZE,date:c,args:[y,w]};i.fh(g);break;case"PerformanceTiming":i.fh(function(t){return{type:vr.PERFORMANCE_TIMINGS,args:[{performanceTiming:$o.REQUEST_START,timestamp:t.timings.requestStart},{performanceTiming:$o.DOM_INTERACTIVE,timestamp:t.timings.domInteractive},{performanceTiming:$o.TIME_ORIGIN,timestamp:t.timings.timeOrigin}],date:t.timestamp}}(u));break;case"CustomError":(S=null===(s=i.Ee)||void 0===s?void 0:s.translate(u))&&i.fh(S);break;case"JSError":(S=null===(o=i.Ae)||void 0===o?void 0:o.translate(u))&&i.fh(S);break;case"VideoEvent":var S;(S=function(t){switch(t.videoEventType){case"play":return{type:vr.VIDEO_PLAY,args:[t.nodeId],date:t.timestamp};case"pause":return{type:vr.VIDEO_PAUSE,args:[t.nodeId],date:t.timestamp};case"seeked":var n=t;return{type:vr.VIDEO_SEEK,args:[n.nodeId,n.newTimePositionInSec],date:t.timestamp};default:return null}}(u))&&i.fh(S);break;case"Debug":i.fh({type:vr.DEBUG,date:c,args:[u.key,u.value]});break;case"warning":kn.warn(u.message);break;default:kn.error("WebRecorderEventTranslator: Event not supported (".concat(u.type,")"))}})),this.hh.emitInitialDomStart(),null===(t=this.Ae)||void 0===t||t.start(),null===(n=this.Ee)||void 0===n||n.start(),this.uh.start()},t.prototype.stop=function(){var t,n,i;this.reset(),this.flush(),this.uh.stop(),null===(t=this.ah)||void 0===t||t.flushEvents(),null===(n=this.Ae)||void 0===n||n.stop(),null===(i=this.Ee)||void 0===i||i.stop()},t.prototype.flush=function(){this.ph.flush()},t.prototype.onEvent=function(t,n){var i,r=this;this.fh=t,this.yh=n,null===(i=this.ah)||void 0===i||i.onEvent((function(t){return r.fh(t)}))},t.prototype.reset=function(){this.mh.reset()},t}(),Ko=function(){function t(t){void 0===t&&(t=100),this.gh=t,this.Sh={},this.bh=null,this.Hr="original-resource-name"}return t.prototype.onEvent=function(t){this.Ah=t},t.prototype.processEvent=function(t){this.Eh(t.resourceId,t.resource.hash,t.originalResourceName),this.Rh(t)},t.prototype.flushEvents=function(){this.bh&&csClearTimeout(this.bh),this.Th()},t.prototype.onSendStaticResource=function(t){this.Rh=t},t.prototype.Th=function(){if(Object.keys(this.Sh).length){var t={type:vr.RESOURCE_HASHES,date:Xt(),args:[this.Sh]};this.bh=null,this.Sh={},this.Ah(t)}},t.prototype.Eh=function(t,n,i){var r=this,e=n;i&&(e+="?".concat(this.Hr,"=").concat(i)),this.Sh[t]=e,this.bh||(this.bh=window.csSetTimeout((function(){return r.Th()}),this.gh))},t}(),Qo=function(){function t(t,n,i){this.hh=t,this.K=n,this.Oh=i,this.Nh=Ri.ETR_DISABLED,this.kh=Ri.ETR_PENDING,this.Ch=!0}return t.prototype.getEtrStatus=function(t){void 0===t&&(t=this.K.getSession());var n=null==t?void 0:t.etrStatus;return this.Ih()&&n===Ri.ETR_SAVED_SESSION?n:this.Nh},t.prototype.onEventTriggerRecording=function(t,n){switch(n){case Ei.ETR_PAGE:this._h(Ri.ETR_SAVED_PAGE);break;case Ei.ETR_LEGACY:case Ei.ETR_SESSION:this._h(Ri.ETR_SAVED_SESSION)}},t.prototype.handleCollectStateChange=function(t){this.Ch=!1,t?this.xh(this.kh):this.xh(Ri.ETR_DISABLED)},t.prototype.handleArtificialPageview=function(){this.Oh?(this.Ch=!0,this.xh(Ri.ETR_DISABLED)):this.Ih()&&this.xh(Ri.ETR_PENDING)},t.prototype.handleSessionRenewal=function(){this.Ch=!0,this.xh(Ri.ETR_DISABLED)},t.prototype.xh=function(t){this.Nh=t,this.kh=Ri.ETR_PENDING,this.Ph(t),this.hh.emitRecordingContextChange()},t.prototype._h=function(t){this.Ch?Number(t)>Number(this.kh)&&(this.kh=t):this.Ih()&&Number(t)>Number(this.Nh)&&(this.Nh=t,this.Ph(t),this.hh.emitRecordingContextChange())},t.prototype.Ph=function(t){var n=this.K.getSession();null!==n&&n.etrStatus===Ri.ETR_NOT_SAVED_SESSION&&t===Ri.ETR_SAVED_SESSION&&(n.etrStatus=t,this.K.setSession(n))},t.prototype.Ih=function(){return this.Nh!==Ri.ETR_DISABLED},t}();function Zo(t,n){var i,r,e,s,o=null,u=function(c){var h=Kt();if(!c&&null!==o){var a=n-(h-o);if(a>0)return void(r=window.csSetTimeout(u,a))}var f=h-e;r=null,o=null,e=null,s=t.apply(void 0,Un([f],Ln(i),!1))},c=function(){for(var t=[],c=0;c<arguments.length;c++)t[c]=arguments[c];if(i=Un([],Ln(t),!1),!e)return e=Kt(),r=window.csSetTimeout(u,n),s;o=Kt()};return c.flushPending=function(){r&&(window.csClearTimeout(r),u(!0))},c.cancel=function(){o=null,e=null,r&&(window.csClearTimeout(r),r=null)},c}function tu(t){return void 0===t&&(t=0),function(n,i,r){var e=r.value,s=!1;r.value=function(){for(var n=this,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];s||(s=!0,csSetTimeout((function(){s=!1,e.apply(n,i)}),t))}}}!function(t){t[t.NOT_EXIST=2]="NOT_EXIST"}(Yo||(Yo={}));var nu,iu,ru=function(t){function n(n,i,r){var e=t.call(this)||this;return e.ah=n,e.Mh=i,e.Dh=r,e.Lh={},e.Uh=new Set,e.eh=!1,e}return Q(n,t),n.prototype.initState=function(){var t=this;Zt()&&(this.jh=this.Dh.getRequestParameters(),this.qh="".concat(this.Mh,"/exist?").concat(yt.toQuery(this.jh)),this.Hh="".concat(this.Mh,"/putTag?").concat(yt.toQuery(this.jh)),this.Vh=Zo((function(){return it(t,void 0,void 0,(function(){return rt(this,(function(t){switch(t.label){case 0:if(this.eh)return this.Vh(),[2];this.eh=!0,t.label=1;case 1:return t.trys.push([1,,3,4]),[4,this.Fh()];case 2:return t.sent(),[3,4];case 3:return this.eh=!1,[7];case 4:return[2]}}))}))}),300),this.ah.onSendStaticResource((function(n){t.Bh(n)})))},n.prototype.onStart=function(){},n.prototype.onStop=function(){},n.prototype.onIframeStaticResource=function(t){this.Bh(t)},n.prototype.Bh=function(t){var n=this;this.zh(t.resource.hash,t.resource.data),t.nestedResources&&t.nestedResources.length>0&&csArray.prototype.forEach.call(t.nestedResources,(function(t){n.zh(t.hash,t.data)}))},n.prototype.zh=function(t,n){this.Uh.has(t)||(this.Uh.add(t),this.Lh[t]=n,this.Vh())},n.prototype.Fh=function(){return it(this,void 0,void 0,(function(){var t,n,i,r=this;return rt(this,(function(e){switch(e.label){case 0:return t=this.Lh,this.Lh={},[4,this.Gh(t)];case 1:return(n=e.sent()).length?(i=this.$h(n),[4,Promise.all(csArray.prototype.map.call(i,(function(t){return window.fetch(r.Hh,{method:"POST",body:t})})))]):[2];case 2:return e.sent(),[2]}}))}))},n.prototype.Jh=function(t){return it(this,void 0,void 0,(function(){var n,i;return rt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),(n=Object.keys(t)).length?(i={projectId:this.jh.pid,filter:Yo.NOT_EXIST,hashes:n,touch:!0},[4,window.fetch(this.qh,{method:"POST",body:csJSON.stringify(i)})]):[2,[]];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()];case 3:return r.sent(),[2,[]];case 4:return[2]}}))}))},n.prototype.Gh=function(t){return it(this,void 0,void 0,(function(){var n,i;return rt(this,(function(r){switch(r.label){case 0:return n=[],[4,this.Jh(t)];case 1:return i=r.sent(),csArray.prototype.forEach.call(i,(function(i){var r=t[i];r?csArray.prototype.push.call(n,{hash:i,data:r}):kn.warn("SRM: received unknown hash: "+i)})),[2,n]}}))}))},n.prototype.$h=function(t){var n,i,r=0,e=[new FormData];try{for(var s=et(t),o=s.next();!o.done;o=s.next()){var u=o.value,c=u.data,h=u.hash,a=e.length-1;if((r+=c.size)<8388608)e[a].append("",c,h);else{var f=new FormData;f.append("",c,h),r=c.size,csArray.prototype.push.call(e,f)}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return e},n}(zr),eu=function(){function t(t){this.Wh=t,this.Yh=20,this.Xh=0,this.Ci=!1}return t.prototype.translate=function(t){if(this.Xh>=this.Yh)return this.Wh.stop(),null;this.Xh+=1;var n=t.filename,i=t.message,r=t.lineno,e=t.colno,s=t.timestamp;return{type:vr.JAVASCRIPT_ERROR,date:s,args:[{errorType:"jsError",message:i,filename:n,lineno:r,colno:e}]}},t.prototype.start=function(){this.Ci||(this.Xh=0,this.Ci=!0)},t.prototype.stop=function(){this.Ci=!1},t}(),su="v2/recording",ou=["setCapturedElementsSelector"],uu=["setEncryptionSelectors"],cu=["isRecording"],hu=["replay:resourceManager:enableForOnlineResource:nextPageviewOnly","cssrm:onlineAssets:activateForNextPageview"],au=["replay:resourceManager:getStatus","cssrm:getStatus"],fu=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S){this.Kh=t,this.K=n,this.U=i,this.jh=r,this.Qh=e,this.j=s,this.ue=o,this.Zh=u,this.ce=c,this.he=h,this.ae=a,this.ta=f,this.hh=l,this.na=v,this.ia=d,this.ra=y,this.ea=w,this.pu=p,this.be=m,this.sa=g,this.oa=S}return t.prototype.init=function(){var t=this,n=[],i=[];csArray.prototype.push.call(i,new Us),this.ua=new ho(this.sa.shouldUseAnonymization(),this.U.whitelistedAttributes,this.j,this.U.anonymizeDigits),this.ca();var r=new Ls("csPersisted");this.ha(r);var e=new Fr;this.re=new Vr;var s=new xs;csArray.prototype.push.call(n,s),this.U.useStaticResourceManager&&Es.isSupported()&&(this.Se=new Es,this.ah=new Ko,this.aa=new ru(this.ah,this.U.getStaticResourceManagerUri(),this.jh),this.ia.addListener(this.aa),csArray.prototype.push.call(i,this.Se));var o=new Os(e,this.jh,{getRequestParameters:function(){return{let:t.recordingService.getRecordingLastEventTimestamp()}}},{getRequestParameters:function(){return{rst:t.recordingService.getRecordingStartTimestamp()}}},{getRequestParameters:function(){return{rt:csArray.prototype.join.call(t.K.getCollectStates(),",")}}}),u=new Ps("".concat(this.U.getRecordingUri(),"/").concat(su));csArray.prototype.push.call(i,this.ua),csArray.prototype.push.call(i,new ao(this.pu)),csArray.prototype.push.call(i,new lo),this.oe=new qr,this.oe.init(),this.ve=new Ts(r,u,this.le),csArray.prototype.push.call(n,new Ns(window.location,this.j));var c=new vs,h=new yo,a=[new wo({version:"15.39.3",visibilityState:document.visibilityState}),new go,this.Zh,c,new Bo(csArray.prototype.filter.call(n,(function(t){return t}))),new So,new Ro,new ko,new Po(this.fe),h];this.U.jsErrorsEnabled&&(this.Wh=new Do,this.fa=new Lo((function(n){return t.ce.anonymize(n)})),this.Ae=new eu(this.Wh),csArray.prototype.push.call(a,this.Wh),csArray.prototype.push.call(i,this.fa));var f=new Fo(a,i),l=new Xo(f,this.hh,this.ah,this.Ae,this.Ee);this.recordingService=new Rs(this.U,this.re,o,e,this.oe,this.ue,this.K,this.ce,this.he,this.ae,this.fe,this.le,this.ve,u,l,n,c,h,this.Se,this.be,this.Ae,this.Ee),this.na.addListener(this.recordingService),this.ia.addListener(this.recordingService),this.recordingService.init(),this.Qh.register(cu,(function(){return t.K.isReplayRecorded()&&!t.ra.isUrlExcludedForSessionReplay()})),this.Qh.register(hu,(function(){t.recordingService.activateOnlineAssetsOnNextPageview(),t.hh.emitRecordingContextChange()})),this.Qh.register(au,(function(){return t.recordingService.getStaticResourceManagerStatus()})),this.va=new Qo(this.hh,this.K,this.U.malkaUrlEnabled),this.na.addListener(this.va),this.Kh.enableRecordingContext(this.recordingService,this.K,this.fe,this.va)},t.prototype.onAfterNaturalPageView=function(){var t;null===(t=this.aa)||void 0===t||t.initState()},t.prototype.onStartTracking=function(){this.ve.recover(),this.ca(),this.K.isReplayRecorded()&&!this.ra.isUrlExcludedForSessionReplay()&&(this.K.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.da())},t.prototype.onArtificialPageViewEnd=function(){!this.K.isReplayRecorded()||this.ra.isUrlExcludedForSessionReplay()||this.K.isTemporarilyRecorded()||this.ve.sendLastMessageBeacon(),this.recordingService.clearStates()},t.prototype.onBeforeArtificialPageView=function(){this.va.handleArtificialPageview()},t.prototype.onAfterArtificialPageView=function(){this.ca(),this.K.isReplayRecorded()&&!this.ra.isUrlExcludedForSessionReplay()?(this.K.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.ya()):this.wa()},t.prototype.onBeforeSessionRenewal=function(){this.va.handleSessionRenewal(),this.recordingService.clearStates(),this.wa()},t.prototype.onOptout=function(){this.wa(),this.recordingService.onOptOut()},t.prototype.onReplayUnanonymizationConsentGranted=function(){this.ca(),this.recordingService.triggerUnanonymizationConsentGranted(),this.hh.emitRecordingContextChange()},t.prototype.onReplayUnanonymizationConsentWithdrawn=function(){this.ca(),this.recordingService.triggerUnanonymizationConsentWithdrawn(),this.hh.emitRecordingContextChange()},t.prototype.onCollectStateChange=function(t,n){if(t===bi.QUOTA_REACHED||t===bi.ANALYTICS_ONLY&&n===Ai.ETR_OFF)this.recordingService.clearEvents(),this.wa();else{this.le.setQueryParams({rt:csArray.prototype.join.call(this.K.getCollectStates(),",")}),this.recordingService.allowSendingEventsFromQuotaService(),this.recordingService.pushEvents();var i=t===bi.ANALYTICS_ONLY&&n===Ai.ETR_ON;this.va.handleCollectStateChange(i)}},t.prototype.onInitialDomStart=function(){this.recordingService.blockSendingEventsFromSerialization(),this.ve.blockSendingLastMessage()},t.prototype.onInitialDomDone=function(t){this.recordingService.allowSendingEventsFromSerialization(),this.recordingService.addInitialDom(t),this.ve.allowSendingLastMessage(),this.oe.start(),this.recordingService.pushEvents()},t.prototype.onAfterReplayRecordingConsentGranted=function(){this.K.isReplayRecorded()&&!this.ra.isUrlExcludedForSessionReplay()&&(this.K.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.da(),this.recordingService.triggerRecordingForSessionGranted())},t.prototype.onAfterReplayRecordingConsentWithdrawn=function(){this.recordingService.isRecording()&&(this.recordingService.triggerRecordingForSessionWithdrawn(),this.recordingService.clearStates(),this.wa())},t.prototype.pa=function(){var t,n,i,r;(null===(n=null===(t=this.U.experimental.sessionReplay)||void 0===t?void 0:t.shadowRoot)||void 0===n?void 0:n.filterByHostSelector)&&yi(null===(r=null===(i=this.U.experimental.sessionReplay)||void 0===i?void 0:i.shadowRoot)||void 0===r?void 0:r.filterByHostSelector,(function(t){Lr(t)&&Ke.setShadowRootFilter((function(n){try{return Pr.call(n.host,t)}catch(t){return!1}}))}))},t.prototype.da=function(){this.pa(),this.recordingService.updateStaticResourceManagerOnlineAssets(),this.recordingService.start(),this.ve.start(),this.hh.emitRecordingContextChange()},t.prototype.wa=function(){var t;void 0===t&&(t=!1),t&&(Nr=1),kr=csSymbol("nodeIdentifier"),this.recordingService.stop(),this.ve.stop(),this.hh.emitRecordingContextChange()},t.prototype.ya=function(){this.wa(),this.da()},t.prototype.ha=function(t){this.le=this.ea.create("".concat(this.U.getRecordingUri(),"/").concat(su),!0,"byteArray",t,["rt","v","pid","pn","sn","uu"])},t.prototype.ca=function(){var t,n=this.sa.shouldUseAnonymization();this.ua.setAnonymization(n),null===(t=this.ma)||void 0===t||t.setAnonymization(n)},nt([ri("Recording.onStartTracking")],t.prototype,"onStartTracking",null),nt([ri("onInitialDomDone")],t.prototype,"onInitialDomDone",null),t}();!function(t){t[t.NOT_NEEDED=1]="NOT_NEEDED",t[t.NOT_EXPRESSED=2]="NOT_EXPRESSED",t[t.WITHDRAWN=3]="WITHDRAWN",t[t.GRANTED=4]="GRANTED"}(nu||(nu={})),function(t){t.isReplayConsentNeeded=function(t){return t.replayConsentRequiredForSession},t.isRecordingBlockedByConsent=function(t){return t.collectState===bi.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED||t.collectState===bi.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN},t.isRecordingWithDrawn=function(t){return t.collectState===bi.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}}(iu||(iu={}));var lu=function(){function t(t,n,i,r){this.X=t,this.K=n,this.U=i,this.ga=r,this.Sa=!1}return t.prototype.isNaturalPageViewSent=function(){return this.Sa},t.prototype.setNaturalPageViewSent=function(t){this.Sa=t},t.prototype.getTrackingContext=function(){var t=this.K.getSession();if(!t)return null;var n=this.getSessionKey();if(!n)return null;var i=this.U.projectId,r=this.U.uxaDomain,e=t.pageNumber,s=this.ga.getPageViewType(),o=this.K.isReplayRecorded(),u=this.ba(t);return Z({projectId:i,sessionKey:n,pageNumber:e,pageViewType:s,isRecording:o,uxaDomain:r,recordingConsentState:u},this.U.smbConfig)},t.prototype.getSessionKey=function(){var t=this.X.getVisitor();return t?"".concat(t.id,".").concat(t.visitsCount):null},t.prototype.ba=function(t){return iu.isReplayConsentNeeded(this.U)?t.collectState===bi.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED?nu.NOT_EXPRESSED:t.collectState===bi.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?nu.WITHDRAWN:nu.GRANTED:nu.NOT_NEEDED},t}(),vu=function(){function t(t){this.Aa=t,this.Ea=[]}return t.prototype.handleCommand=function(t){if(Bt(t)&&(this.Ra(t),this.Aa.isNaturalPageViewSent())){var n=this.Aa.getTrackingContext();null!==n&&this.Ta(t,n)}},t.prototype.Ra=function(t){csArray.prototype.push.call(this.Ea,t)},t.prototype.executeRegisteredCallbacks=function(){var t=this,n=this.Aa.getTrackingContext();null!==n&&csArray.prototype.map.call(this.Ea,(function(i){return t.Ta(i,n)}))},t.prototype.Ta=function(t,n){csSetTimeout((function(){t(n)}))},t}(),du=function(){function t(t){this.Aa=t,this.Oa=[]}return t.prototype.handleCommand=function(t){return this.Aa.isNaturalPageViewSent()?this.Na(t):void this.ka(t)},t.prototype.Na=function(t){var n=this.Aa.getSessionKey();return this.Ca(t)&&null!==n&&this.Ta(t.callback,n),n},t.prototype.ka=function(t){this.Ca(t)&&csArray.prototype.push.call(this.Oa,t.callback)},t.prototype.flushPendingCallbacks=function(){var t=this,n=this.Aa.getSessionKey();null!==n&&csArray.prototype.forEach.call(this.Oa,(function(i){t.Ta(i,n)})),this.Oa=[]},t.prototype.Ca=function(t){return t&&"function"==typeof t.callback},t.prototype.Ta=function(t,n){csSetTimeout((function(){t(n)}))},t}(),yu=function(){function t(t,n){this.Ia=t,this.Aa=n}return t.prototype.onTrackingContextRequestCallback=function(t){var n=this.Aa.getTrackingContext();null!==n&&this.Ia.sendToChildren(An.TrackingContextResultMessage,Z(Z({},t),{trackingContext:n}))},t.prototype.onIframeIntegrationCallback=function(t){if(this.Aa.isNaturalPageViewSent()){var n=this.Aa.getTrackingContext();null!==n&&(t.trackingContext=n,this.Ia.sendToChildren(An.IntegrationCallback,t))}},t.prototype.sendAfterPageViewCallbackToChildren=function(){var t=this.Aa.getTrackingContext();if(null!==t){var n={trackingContext:t,initiator:Sn.AfterPageView};this.Ia.sendToChildren(An.IntegrationCallback,n)}},t}();function wu(t,n){var i,r=t.isRecording,e=t.pageNumber,s=t.projectId,o=t.siteId,u=t.uxaDomain,c=t.csLiteDomain,h=/^(.+)\.(\d+)$/.exec(t.sessionKey);if(r&&h){var a=st(h,3),f=a[1],l=a[2];i=o?"".concat(c,"/sites/").concat(o,"/player?uu=").concat(f,"&sn=").concat(l,"&pn=").concat(e,"&"):"".concat(u,"/quick-playback/index.html?pid=").concat(s,"&uu=").concat(f,"&sn=").concat(l,"&pvid=").concat(e,"&recordingType=cs"),n.withTimestamp&&(i+="&t=".concat(Xt()-n.recordingStartTimestamp))}return{replayLink:i,isRecording:r}}var pu,mu,gu=function(){function t(t){this.Aa=t}return t.prototype.handleCommand=function(t,n){Ht(t)&&Bt(n)&&this.Ta(t,n)},t.prototype.Ta=function(t,n){var i=this;csSetTimeout((function(){var r=i.Aa.getTrackingContext();if(r){var e=wu(r,t);n(e)}}))},t}(),Su=function(){function t(){this.Ea=new Set}return t.prototype.handleCommand=function(t,n){var i=this;return Bt(t)?this.Ea.has(t)?null:(this.Ea.add(t),n&&(this.yo=n,this._a(t,n)),function(){return i.Ea.delete(t)}):null},t.prototype.executeCallbacks=function(t){var n=this;this.xa(t)&&(this.yo=t,this.Ea.forEach((function(i){return n._a(i,t)})))},t.prototype._a=function(t,n){csSetTimeout((function(){try{t(n)}catch(t){}}))},t.prototype.xa=function(t){var n=t.isRecording,i=t.recordingStartTimestamp,r=t.etrState,e=t.etrStatus,s=t.collectState;return this.yo&&(this.yo.isRecording!==n||this.yo.recordingStartTimestamp!==i||this.yo.etrState!==r||this.yo.etrStatus!==e||this.yo.collectState!==s)},t}(),bu=["afterPageView"],Au=["getSessionKey"],Eu=["onRecordingContextChange","onRecordingStateChange"],Ru=["replay:link:generate"],Tu=function(){function t(t,n,i,r,e,s,o,u){this.X=t,this.K=n,this.Qh=i,this.Pa=r,this.Ia=e,this.U=s,this.ga=o,this.Kh=u}return t.prototype.init=function(){var t=this;this.Aa=new lu(this.X,this.K,this.U,this.ga),this.Ma=new vu(this.Aa),this.Da=new du(this.Aa),this.La=new Su,this.Ua=new gu(this.Aa),this.ja=new yu(this.Ia,this.Aa),this.Pa.addListener(this.ja),this.Qh.register(Au,(function(n){return t.Da.handleCommand(n)})),this.Qh.register(bu,(function(n){return t.Ma.handleCommand(n)})),this.Qh.register(Eu,(function(n){t.La.handleCommand(n,t.Kh.getRecordingContext())})),this.Qh.register(Ru,(function(n,i){t.qa&&t.Ua.handleCommand(Z(Z({},n),{recordingStartTimestamp:t.Kh.getRecordingContext().recordingStartTimestamp}),i)}))},t.prototype.onAfterNaturalPageView=function(){this.Aa.setNaturalPageViewSent(!0),this.Da.flushPendingCallbacks(),this.Ma.executeRegisteredCallbacks(),this.ja.sendAfterPageViewCallbackToChildren()},t.prototype.onAfterArtificialPageView=function(){this.Ma.executeRegisteredCallbacks(),this.ja.sendAfterPageViewCallbackToChildren()},t.prototype.onCollectStateChange=function(){this.executeRecordingContextChangeCallbacks()},t.prototype.onRecordingContextChange=function(){this.executeRecordingContextChangeCallbacks()},t.prototype.executeRecordingContextChangeCallbacks=function(){this.La.executeCallbacks(this.Kh.getRecordingContext())},t.prototype.setRecordingService=function(t){this.qa=t},nt([tu()],t.prototype,"executeRecordingContextChangeCallbacks",null),t}(),Ou=function(){function t(t,n){this.key=csString.prototype.slice.call(t,0,512),this.value=jt(n)?csString.prototype.slice.call(n,0,255):n}return t.isValid=function(t,n){return jt(t)&&(jt(n)||Ut(n))},t}(),Nu=function(t){function n(n,i){var r=t.call(this)||this;return r.Ha=n,r.j=i,r.Va=[],r}return Q(n,t),n.prototype.onStart=function(){var t=this;csArray.prototype.forEach.call(this.Va,(function(n){return t.trackDynamicVariable(n.key,n.value)})),this.Va=[]},n.prototype.onStop=function(){},n.prototype.trackDynamicVariable=function(t,n){this.isStarted?Ou.isValid(t,n)&&this.Ha.add(new Ou(this.j.anonymizePII(t),this.j.anonymizePII(n))):csArray.prototype.push.call(this.Va,{key:t,value:n})},n}(zr),ku=function(){function t(t){this.Fa=t,this.Ha=[]}return t.prototype.add=function(t){csArray.prototype.push.call(this.Ha,t),this.setBatchReadyCall()},t.prototype.clear=function(){this.Ha=[]},t.prototype.onBatchReady=function(t){this.Ba=t},t.prototype.getRequestParameters=function(){var t,n,i={};try{for(var r=et(this.Ha),e=r.next();!e.done;e=r.next()){var s=e.value;i[s.key]=s.value}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{dv:this.Fa.compressSync(csJSON.stringify(i),"base64"),ct:this.Fa.algorithm}},t.prototype.setBatchReadyCall=function(){this.Ba()},nt([tu(),qn("dynamicVariablesBatchReady")],t.prototype,"setBatchReadyCall",null),t}(),Cu=["trackDynamicVariable"],Iu=function(){function t(t,n,i,r,e,s){this.Qh=t,this.K=n,this.U=i,this.jh=r,this.Fa=e,this.j=s,this.M=new bt(this.U.getTrackerUri(),"dvar"),this.Ha=new ku(this.Fa),this.za=new Nu(this.Ha,this.j)}return t.prototype.init=function(){var t=this;this.M.setRequestParametersProviders(this.jh,this.Ha),this.K.setDynamicVariablesService(this.za),this.Ha.onBatchReady((function(){return t.M.send()})),this.M.after((function(){return t.Ha.clear()})),this.Qh.register(Cu,(function(n){var i=void 0===n?{}:n,r=i.key,e=i.value;t.za.trackDynamicVariable(r,e)}))},t.prototype.onStartTracking=function(){this.za.start()},t}(),_u=function(){function t(t,n){this.id=t,this.revenue=n}return t.from=function(n){var i=new t(n.id,parseFloat(n.revenue));return isNaN(parseFloat(n.tax))||(i.tax=parseFloat(n.tax)),isNaN(parseFloat(n.shipping))||(i.shipping=parseFloat(n.shipping)),jt(n.currency)&&n.currency.length<=10&&(i.currency=n.currency),i},t.prototype.hasValidRevenue=function(){return!isNaN(this.revenue)&&this.revenue>=0},t.isValid=function(t){return Ft(t)&&Lt(t.revenue)&&jt(t.currency)&&t.currency.length<=10&&(!Ft(t.id)||jt(t.id))},t}(),xu=function(){function t(t,n,i,r){this.id=t,this.name=n,this.price=i,this.quantity=r}return t.from=function(n){if(!t.Ga(n))return null;var i=new t(n.id,n.name,parseFloat(n.price),parseInt(n.quantity,10));return Vt(n.sku)&&(i.sku=n.sku),Vt(n.category)&&(i.category=n.category),Vt(n.merchant)&&n.merchant.length>0&&(i.merchant=n.merchant.slice(0,100)),i},t.Ga=function(t){return Ft(t)&&jt(t.id)&&jt(t.name)&&Lt(parseFloat(t.price))&&Ut(parseInt(t.quantity,10))&&(!Vt(t.sku)||jt(t.sku))&&(!Vt(t.category)||jt(t.category))&&(!Vt(t.merchant)||jt(t.merchant))},t}(),Pu=function(t){function n(n,i,r){var e=t.call(this)||this;return e.j=n,e.$a=i,e.ue=r,e.Ja=[],e.clear(),e}return Q(n,t),n.prototype.onStart=function(){var t=this;csArray.prototype.forEach.call(this.Ja,(function(n){t.Wa=n.transaction,t.Ya=n.transactionItems,t.sendTransaction()})),this.Ja=[]},n.prototype.onStop=function(){},n.prototype.addTransaction=function(t){var n=this.j.anonymizeFields(t,["id"]);this.Wa=_u.from(n)},n.prototype.getTransaction=function(){return this.Wa},n.prototype.sendTransaction=function(){if(!this.isStarted)return csArray.prototype.push.call(this.Ja,{transaction:this.Wa,transactionItems:ot([],st(this.Ya),!1)}),void this.clear();null!==this.$a&&null!==this.ue&&(this.ue.refreshSession(),this.ue.isSessionValid()&&(this.Wa.hasValidRevenue()?this.$a.send():kn.warn("Transaction Service: unable to send transaction with invalid parameters")))},n.prototype.addItem=function(t){if(!Bt(t)){var n=this.j.anonymizeFields(t,["id","name","sku","category"]),i=xu.from(n);null!==i&&csArray.prototype.push.call(this.Ya,i)}},n.prototype.getItems=function(){return this.Ya},n.prototype.clear=function(){this.Wa=_u.from({revenue:NaN}),this.Ya=[]},n.prototype.getRequestParameters=function(){var t={id:this.Wa.id?"".concat(this.Wa.id):"",revenue:"".concat(this.Wa.revenue)};return Vt(this.Wa.tax)&&(t.tax="".concat(this.Wa.tax)),Vt(this.Wa.shipping)&&(t.shipping="".concat(this.Wa.shipping)),Vt(this.Wa.currency)&&(t.cu="".concat(this.Wa.currency)),t.items=window.csJSON.stringify(this.Ya),t},n}(zr),Mu=function(t){function n(n,i){var r=t.call(this)||this;return r.Xa=n,r.ue=i,r.Ka=null,r.Qa=[],r}return Q(n,t),n.prototype.onStart=function(){var t=this;csArray.prototype.forEach.call(this.Qa,(function(n){t.Ka=n,t.Za()})),this.Qa=[]},n.prototype.onStop=function(){},n.prototype.addToCart=function(t){var n={};jt(t.sku)&&(n.sku=csString.prototype.slice.call(t.sku,0,100)),jt(t.merchant)&&(n.merchant=csString.prototype.slice.call(t.merchant,0,100)),(n.sku||n.merchant)&&(this.Ka=n,this.Za())},n.prototype.getCartItem=function(){return this.Ka},n.prototype.Za=function(){if(!this.isStarted&&null!==this.Ka)return csArray.prototype.push.call(this.Qa,this.Ka),void this.clear();this.ue.refreshSession(),this.ue.isSessionValid()&&this.Xa.send()},n.prototype.clear=function(){this.Ka=null},n.prototype.getRequestParameters=function(){if(!this.Ka)return{};var t={};return jt(this.Ka.sku)&&this.Ka.sku.length>0&&(t.sku=this.Ka.sku),jt(this.Ka.merchant)&&this.Ka.merchant.length>0&&(t.me=this.Ka.merchant),t},n}(zr),Du=["ecommerce:addToCart","ec:cart:add"],Lu=["ecommerce:addTransaction","ec:transaction:create"],Uu=["ecommerce:addItem","ec:transaction:items:add"],ju=["ecommerce:send","ec:transaction:send"],qu=function(){function t(t,n,i,r,e,s,o){this.U=t,this.Dh=n,this.X=i,this.Qh=r,this.j=e,this.ue=s,this.ot=o}return t.prototype.init=function(){var t=this,n=new bt(this.U.getTrackerUri(),"transaction"),i=new bt(this.U.getTrackerUri(),"addtocart");this.tf=new Pu(this.j,n,this.ue),this.nf=new Mu(i,this.ue);var r=new Os(this.Dh,this.X,this.ot,this.tf);n.setRequestParametersProviders(r),n.after((function(){t.tf.clear()}));var e=new Os(this.Dh,this.X,this.ot,this.nf);i.setRequestParametersProviders(e),i.after((function(){t.nf.clear()})),this.Qh.register(Lu,(function(n){t.tf.addTransaction(n)})),this.Qh.register(Uu,(function(n){return t.tf.addItem(n)})),this.Qh.register(ju,(function(){return t.tf.sendTransaction()})),this.Qh.register(Du,(function(n){t.nf.addToCart(n)}))},t.prototype.onStartTracking=function(){this.tf.start(),this.nf.start()},t}(),Hu=function(){function t(t){this.if=t.performance}return t.prototype.getRequestParameters=function(){if(this.rf())return{};var t=this.ef();return{str:t.startRender,di:t.domInteractive,dc:t.domComplete,fl:t.fullyLoaded}},t.prototype.ef=function(){var t=this.if.timing;return{startRender:"".concat(t.domLoading-t.requestStart),domInteractive:"".concat(t.domInteractive-t.requestStart),domComplete:"".concat(t.domComplete-t.requestStart),fullyLoaded:"".concat(t.loadEventEnd-t.requestStart)}},t.prototype.rf=function(){return!(this.if&&this.if.timing&&this.if.timing.loadEventEnd>0)},t}();function Vu(t){return void 0!==t.tgt}!function(t){t[t.RESIZE=0]="RESIZE",t[t.SCROLL=1]="SCROLL",t[t.MOUSEMOVE=2]="MOUSEMOVE",t[t.MOUSEDOWN=3]="MOUSEDOWN",t[t.MOUSEUP=4]="MOUSEUP",t[t.CLICK=5]="CLICK",t[t.MOUSEOVER=6]="MOUSEOVER",t[t.MOUSEOUT=7]="MOUSEOUT",t[t.CHANGE=10]="CHANGE",t[t.FOCUSIN=11]="FOCUSIN",t[t.FOCUSOUT=12]="FOCUSOUT",t[t.TAP=14]="TAP",t[t.KEYDOWN=15]="KEYDOWN",t[t.KEYUP=16]="KEYUP",t[t.COMMAND=17]="COMMAND",t[t.SUBMIT=18]="SUBMIT",t[t.PERFORMANCE=19]="PERFORMANCE",t[t.DRAG=20]="DRAG",t[t.FLICK=21]="FLICK",t[t.KEYBOARD_NAVIGATION=22]="KEYBOARD_NAVIGATION",t[t.ZOOM=23]="ZOOM",t[t.VIEWPORT_SCALE=24]="VIEWPORT_SCALE",t[t.TEXT_HIGHLIGHT=25]="TEXT_HIGHLIGHT",t[t.DEAD_CLICK=30]="DEAD_CLICK",t[t.DEAD_ZOOM=31]="DEAD_ZOOM",t[t.PAGE_RELOAD=32]="PAGE_RELOAD",t[t.THRASHED_CURSOR=33]="THRASHED_CURSOR",t[t.BLANK_PAGE=34]="BLANK_PAGE",t[t.EXTERNAL_EVENT=35]="EXTERNAL_EVENT"}(pu||(pu={})),function(t){t.SUCCESS="success",t.FAILURE="failure",t.ATTEMPT="attempt"}(mu||(mu={}));var Fu,Bu,zu,Gu,$u,Ju,Wu=function(){function t(){}return t.build=function(t,n,i){return csArray.prototype.reduce.call(i,(function(n,i){return i.enhanceAnalysisEvent(t,n)}),n)},t}(),Yu=function(){function t(t,n,i){this.sf=t,this.uf=n,this.Uo=i}return t.prototype.processGesture=function(t,n){switch(t.type){case bo.TAP:this.cf(n);break;case bo.FLICK:this.hf(t,n);break;case bo.DRAG:this.af(t,n)}},t.prototype.cf=function(t){var n={type:pu.TAP,ts:0,x:0,y:0,tgt:""},i=Wu.build(t,n,this.sf);i.tgt!==W.INVALID_ELEMENT&&this.ws(i)},t.prototype.af=function(t,n){var i,r,e={type:pu.DRAG,ts:0,fd:t.direction,tgt:""};(null===(i=this.Uo)||void 0===i?void 0:i.collectGestureDistance)&&(e.distance=t.distance),(null===(r=this.Uo)||void 0===r?void 0:r.collectGestureVelocity)&&(e.velocity=t.velocity);var s=Wu.build(n,e,this.sf);s.tgt!==W.INVALID_ELEMENT&&this.ws(s)},t.prototype.hf=function(t,n){var i,r,e={type:pu.FLICK,ts:0,fd:t.direction,tgt:""};(null===(i=this.Uo)||void 0===i?void 0:i.collectGestureDistance)&&(e.distance=t.distance),(null===(r=this.Uo)||void 0===r?void 0:r.collectGestureVelocity)&&(e.velocity=t.velocity);var s=Wu.build(n,e,this.sf);s.tgt!==W.INVALID_ELEMENT&&this.ws(s)},t.prototype.onEvent=function(t){this.ws=t},t.prototype.start=function(){var n=this;this.uf.subscribe(t.ff,(function(t,i){return n.processGesture(t,i)}))},t.prototype.stop=function(){this.uf.unsubscribe(t.ff)},t.ff="AnalysisGestureTracker",nt([Fn()],t.prototype,"processGesture",null),t}(),Xu=function(){function t(t,n,i){var r=this;this.sf=t,this.lf=n,this.vf=i,this.df="select, select *, input, textarea",this.yf="select, select *, input, textarea",this.wf="a, a *, button, button *, select, select *, input, textarea",this.pf="input, select, textarea",this.mf=150,this.gf=400,this.Sf=!1,this.bf=Zo((function(t,n){return r.scrollListener(t,n)}),this.mf),this.Af=Zo((function(t){return r.resizeListener(t)}),this.mf),this.Ef=lr((function(t){return r.mouseMoveListener(t)}),this.gf),this.Rf=[{boundElement:window,type:"resize",listener:function(){return r.Af()}},{boundElement:document,type:"scroll",listener:function(t){return r.bf(t)}},{boundElement:window,type:"mousemove",listener:function(t){r.Ef(function(t){return t.composedPath&&Object.defineProperty(t,"__csOriginalTarget",{value:t.composedPath()[0],writable:!1,enumerable:!1}),t}(t))}},{boundElement:document,type:"mousedown",listener:function(t){return r.mouseDownListener(t)}},{boundElement:document,type:"mouseup",listener:function(t){return r.mouseUpListener(t)}},{boundElement:document,type:"click",listener:function(t){return r.clickListener(t)}}],this.Tf=[{type:"change",listener:this.vf.on(this.yf,(function(t){return r.changeListener(t)}))}],this.Of=ot([{boundElement:document,type:"mouseover",listener:this.vf.on(this.wf,(function(t){return r.mouseOverListener(t)}))},{boundElement:document,type:"mouseout",listener:this.vf.on(this.wf,(function(t){return r.mouseOutListener(t)}))},{boundElement:document,type:"focusin",listener:this.vf.on(this.df,(function(t){return r.focusInListener(t)}))},{boundElement:document,type:"focusout",listener:this.vf.on(this.df,(function(t){return r.focusOutListener(t)}))},{boundElement:document,type:"keyup",listener:this.vf.on(this.pf,(function(t){return r.keyUpListener(t)}))},{boundElement:document,type:"keydown",listener:this.vf.on(this.pf,(function(t){return r.keyDownListener(t)}))},{boundElement:document,type:"copy",listener:this.vf.on(this.pf,(function(t){return r.copyListener(t)}))},{boundElement:document,type:"cut",listener:this.vf.on(this.pf,(function(t){return r.cutListener(t)}))},{boundElement:document,type:"paste",listener:this.vf.on(this.pf,(function(t){return r.pasteListener(t)}))}],st(csArray.prototype.map.call(this.Tf,(function(t){return Z(Z({},t),{boundElement:document})}))),!1),this.Si={},this.vr=function(t,n){switch(n){case"initial":case"added":r.ui(t);break;case"removed":r.ci(t)}},this.oi=new ur(this.vr),this.fi()}return t.prototype.ui=function(t){if(x(t)){var n=this.Nf();csArray.prototype.forEach.call(n,(function(t){return hr(t)}))}else{n=this.kf();csArray.prototype.forEach.call(n,(function(n){hr(Z(Z({},n),{boundElement:t}))}))}},t.prototype.ci=function(t){if(x(t)){var n=this.Nf();csArray.prototype.forEach.call(n,(function(t){return ar(t)}))}else{n=this.kf();csArray.prototype.forEach.call(n,(function(n){ar(Z(Z({},n),{boundElement:t}))}))}},t.prototype.onEvent=function(t){this.ws=t},t.prototype.start=function(){this.oi.observe(),this.ui(document),this.resizeListener()},t.prototype.stop=function(){this.ci(document),this.oi.disconnect()},t.prototype.flushPendingDebouncedListeners=function(){this.bf.flushPending(),this.Af.flushPending()},t.prototype.kf=function(){return this.vf.isMatchesSelectorSupported()?this.Tf:(kn.warn("Element.matches is not implemented yet"),[])},t.prototype.Nf=function(){return this.vf.isMatchesSelectorSupported()?ot(ot([],st(this.Rf),!1),st(this.Of),!1):(kn.warn("Element.matches is not implemented yet"),this.Rf)},t.prototype.resizeListener=function(t){var n=br.getScrollContainer(),i=zt(n);i&&(this.Sf=!0);var r={type:pu.RESIZE,ts:0,x:i?n.clientWidth:xe.windowWidth(),y:i?n.clientHeight:xe.windowHeight()};void 0!==t&&(r.d=t),this.ws(r)},t.prototype.scrollListener=function(t,n){var i=br.isEventOnScrollContainer(n);!this.Sf&&i&&this.resizeListener();var r={type:pu.SCROLL,ts:0,x:i?csEventtarget.apply(n).scrollLeft:xe.windowOffsetX(),y:i?csEventtarget.apply(n).scrollTop:xe.windowOffsetY(),d:t},e=Wu.build(n,r,this.sf);this.ws(e)},t.prototype.mouseMoveListener=function(t){var n={type:pu.MOUSEMOVE,ts:0,x:t.pageX,y:t.pageY},i=Wu.build(t,n,this.sf);this.ws(i)},t.prototype.mouseDownListener=function(t){var n={type:pu.MOUSEDOWN,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Wu.build(t,n,this.sf);this.Cf(i)},t.prototype.mouseUpListener=function(t){var n={type:pu.MOUSEUP,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Wu.build(t,n,this.sf);this.Cf(i)},t.prototype.clickListener=function(t){var n={type:pu.CLICK,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Wu.build(t,n,this.sf);this.Cf(i)},t.prototype.mouseOverListener=function(t){var n={type:pu.MOUSEOVER,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=Wu.build(t,n,this.sf);this.Cf(i)},t.prototype.mouseOutListener=function(t){var n={type:pu.MOUSEOUT,ts:0,x:t.pageX,y:t.pageY,tgt:this.lf.getEventTargetPath(t)},i=Wu.build(t,n,this.sf);this.Cf(i)},t.prototype.focusInListener=function(t){var n={type:pu.FOCUSIN,ts:0,tgt:this.lf.getEventTargetPath(t)},i=Wu.build(t,n,this.sf);this.Cf(i)},t.prototype.focusOutListener=function(t){var n={type:pu.FOCUSOUT,ts:0,tgt:this.lf.getEventTargetPath(t)},i=Wu.build(t,n,this.sf);this.Cf(i)},t.prototype.changeListener=function(t){var n={type:pu.CHANGE,ts:0,tgt:this.lf.getEventTargetPath(t)},i=Wu.build(t,n,this.sf);this.Cf(i)},t.prototype.copyListener=function(t){var n={type:pu.COMMAND,ts:0,tgt:this.lf.getEventTargetPath(t),key:mr.COPY};this.Cf(n)},t.prototype.cutListener=function(t){var n={type:pu.COMMAND,ts:0,tgt:this.lf.getEventTargetPath(t),key:mr.CUT};this.Cf(n)},t.prototype.pasteListener=function(t){var n={type:pu.COMMAND,ts:0,tgt:this.lf.getEventTargetPath(t),key:mr.PASTE};this.Cf(n)},t.prototype.keyUpListener=function(t){var n={type:pu.KEYUP,ts:0,tgt:this.lf.getEventTargetPath(t),key:this.If(t)};this.Cf(n)},t.prototype.keyDownListener=function(t){var n={type:pu.KEYDOWN,ts:0,tgt:this.lf.getEventTargetPath(t),key:this.If(t)};this.Cf(n)},t.prototype.If=function(t){var n=this.Si[t.key];return void 0===n?pr.ALPHANUMERICAL:n},t.prototype.Cf=function(t){Vu(t)&&t.tgt!==W.INVALID_ELEMENT&&this.ws(t)},t.prototype.fi=function(){this.Si[" "]=pr.SPACE,this.Si.Spacebar=pr.SPACE,this.Si.Enter=pr.ENTER,this.Si.Backspace=pr.BACKSPACE,this.Si.Delete=pr.DELETE,this.Si.ArrowUp=pr.ARROWUP,this.Si.ArrowDown=pr.ARROWDOWN,this.Si.ArrowLeft=pr.ARROWLEFT,this.Si.ArrowRight=pr.ARROWRIGHT,this.Si.Up=pr.ARROWUP,this.Si.Down=pr.ARROWDOWN,this.Si.Left=pr.ARROWLEFT,this.Si.Right=pr.ARROWRIGHT,this.Si.CapsLock=pr.CAPSLOCK,this.Si.Shift=pr.SHIFT,this.Si.Tab=pr.TAB},nt([qn("Event handler type: resize")],t.prototype,"resizeListener",null),nt([qn("Event handler type: scroll")],t.prototype,"scrollListener",null),nt([qn("Event handler type: mouseMove"),Fn()],t.prototype,"mouseMoveListener",null),nt([qn("Event handler type: mouseDown"),Fn()],t.prototype,"mouseDownListener",null),nt([qn("Event handler type: mouseUp"),Fn()],t.prototype,"mouseUpListener",null),nt([qn("Event handler type: click"),Fn()],t.prototype,"clickListener",null),nt([qn("Event handler type: mouseOver"),Fn()],t.prototype,"mouseOverListener",null),nt([qn("Event handler type: mouseOut"),Fn()],t.prototype,"mouseOutListener",null),nt([qn("Event handler type: focusIn")],t.prototype,"focusInListener",null),nt([qn("Event handler type: focusOut")],t.prototype,"focusOutListener",null),nt([qn("Event handler type: change")],t.prototype,"changeListener",null),nt([qn("Event handler type: copy")],t.prototype,"copyListener",null),nt([qn("Event handler type: cut")],t.prototype,"cutListener",null),nt([qn("Event handler type: paste")],t.prototype,"pasteListener",null),nt([qn("Event handler type: keyup")],t.prototype,"keyUpListener",null),nt([qn("Event handler type: keydown")],t.prototype,"keyDownListener",null),t}(),Ku=function(){function t(){var t=this;this._f=100,this.xf=0,this.Pf=xe.documentHeight(),this.Mf={boundElement:document,type:"scroll",listener:function(n){return t.maxScrollRateListener(n)}},this.xf=this.Df(br.getScrollContainer()).maxScrollRate}return t.prototype.onEvent=function(t){this.ws=t},t.prototype.start=function(){hr(this.Mf)},t.prototype.stop=function(){ar(this.Mf)},t.prototype.reset=function(){var t=br.getScrollContainer(),n=this.Df(t),i=n.maxScrollRate,r=n.maxDocumentHeight;this.Pf=r,this.xf=i,this.ws()},t.prototype.Df=function(t){var n=0,i=0;if(null===t)i=xe.documentHeight(),n=this.Lf(i);else{var r=this.Uf(t);i=this.jf(t,r),n=this.qf(t,r)}return{maxScrollRate:n,maxDocumentHeight:i}},t.prototype.maxScrollRateListener=function(t){var n=null;br.isEventOnScrollContainer(t)&&(n=csEventtarget.apply(t));var i=this.Df(n),r=i.maxScrollRate,e=i.maxDocumentHeight;(r>this.xf||e>this.Pf)&&(this.xf=r,e>this.Pf&&(this.Pf=e),this.ws())},t.prototype.Lf=function(t){var n=Math.round(this.Hf()/t*100);return Math.min(n,this._f)},t.prototype.Hf=function(){var t=xe.windowHeight();return xe.windowOffsetY()+t},t.prototype.qf=function(t,n){var i=t.scrollTop+t.clientHeight+t.getBoundingClientRect().top+n,r=this.jf(t,n),e=Math.round(i/r*100);return Math.min(e,this._f)},t.prototype.Uf=function(t){var n=window.getComputedStyle(t).paddingTop||"0px";return parseInt(n,10)},t.prototype.jf=function(t,n){return t.scrollHeight+t.getBoundingClientRect().top+n},t.prototype.getRequestParameters=function(){return{sr:"".concat(this.xf),mdh:"".concat(this.Pf)}},nt([qn("MaxScrollRate handler")],t.prototype,"maxScrollRateListener",null),t}(),Qu=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S){this.U=t,this.Vf=n,this.uf=i,this.Ff=r,this.Bf=e,this.zf=s,this.Gf=o,this.$f=u,this.ue=c,this.tn=h,this.Jf=a,this.Wf=f,this.Me=l,this.le=v,this.Yf=d,this.Xf=y,this.Kf=w,this.Qf=p,this.Zf=m,this.tl=g,this.nl=S,this.Te=new Br,this.il=!1}return t.prototype.init=function(){var t,n,i,r,e,s,o,u=this;this.Vf.onEvent((function(t){return u._e(t)})),this.uf.onEvent((function(t){return u._e(t)})),this.Ff.onEvent((function(){var t=u.Ff.getRequestParameters();u.le.setQueryParams(t),u.Gf.setQueryParams(t)})),this.Wf.onEvent((function(t){return u.rl(t)})),this.el(),null===(t=this.Yf)||void 0===t||t.onEvent((function(t){return u._e(t)})),null===(n=this.Zf)||void 0===n||n.onEvent((function(t){return u._e(t)})),null===(i=this.Xf)||void 0===i||i.onEvent((function(t){return u._e(t)})),null===(r=this.Kf)||void 0===r||r.onEvent((function(t){return u._e(t)})),this.sl(),null===(e=this.Qf)||void 0===e||e.onEvent((function(t){return u.rl(t)})),null===(s=this.tl)||void 0===s||s.onEvent((function(t){return u.rl(t)})),null===(o=this.nl)||void 0===o||o.onEvent((function(t){return u.rl(t)}))},t.prototype.sl=function(){var t=this;this.Gf.onBeaconSuccess((function(){t.zf.clearEvents()})),this.Gf.onBeaconFailure((function(n){t.ol(n)}))},t.prototype.initStates=function(){var t=this.$f.getRequestParameters(),n=this.Bf.getRequestParameters(),i=this.Ff.getRequestParameters();this.le.setQueryParams(t),this.le.setQueryParams(n),this.le.setQueryParams(i),this.Gf.setQueryParams(t),this.Gf.setQueryParams(n),this.Gf.setQueryParams(i),this.ul()},t.prototype.clearStates=function(t){var n,i;this.Vf.flushPendingDebouncedListeners(),null===(n=this.Xf)||void 0===n||n.flushPendingKeyboardNavigationEvent(),null===(i=this.Kf)||void 0===i||i.flushPendingTextHighlightEvent(),t?(this.cl(),this.sendLastMessageBeacon()):this.sendEvents(),this.Ff.reset(),this.Wf.stop(),this.le.removeQueryParams()},t.prototype.start=function(t){var n,i,r,e,s,o,u;t||null===(n=this.Qf)||void 0===n||n.start(),this.Me.start(),this.Vf.start(),this.Ff.start(),this.uf.start(),null===(i=this.Yf)||void 0===i||i.start(),null===(r=this.Kf)||void 0===r||r.start(),t||this.Wf.start(),null===(e=this.Xf)||void 0===e||e.start(),null===(s=this.Zf)||void 0===s||s.start(),null===(o=this.tl)||void 0===o||o.start(),null===(u=this.nl)||void 0===u||u.start()},t.prototype.collectInitialEvents=function(){var t;null===(t=this.Yf)||void 0===t||t.collectInitialEvents()},t.prototype.onIframeAnalysisBrowserEvent=function(t){this.rl(t)},t.prototype.onIframeAnalysisUserEvent=function(t){this._e(t)},t.prototype.onExternalEvent=function(t){this.Ve(t)},t.prototype.rl=function(t){this.ue.isCurrentPageviewValid()&&this.Ve(t)},t.prototype._e=function(t){this.ue.refreshSession(),this.ue.isSessionValid()&&this.Ve(t)},t.prototype.Ve=function(t){this.zf.addEvent(this.hl(t)),this.zf.isFull()&&this.sendEvents(),this.U.emitDebugEvents&&this.Te.emit("analysisEvent",Z(Z({},t),{typeName:pu[t.type]}))},t.prototype.hl=function(t){return t.ts=this.al(),t},t.prototype.cl=function(){this.Gf.setQueryParams({hlm:"true"}),this.il=!0},t.prototype.sendLastMessageBeacon=function(){this.Gf.setQueryParams(this.Bf.getRequestParameters()),this.Gf.send(this.zf.stringifyEvents()),this.Gf.removeQueryParams(["hlm"]),this.il=!1},t.prototype.sendEvents=function(){this.zf.isEmpty()||(this.le.setQueryParams(this.$f.getRequestParameters()),this.le.setQueryParams(this.Bf.getRequestParameters()),this.le.send(this.zf.getEvents()),this.zf.clearEvents())},t.prototype.stop=function(){var t,n,i,r,e,s,o;this.Me.stop(),this.Vf.stop(),this.Ff.stop(),this.uf.stop(),this.Wf.stop(),null===(t=this.Yf)||void 0===t||t.stop(),null===(n=this.Xf)||void 0===n||n.stop(),null===(i=this.Kf)||void 0===i||i.stop(),null===(r=this.Zf)||void 0===r||r.stop(),this.zf.empty(),null===(e=this.Qf)||void 0===e||e.stop(),null===(s=this.tl)||void 0===s||s.stop(),null===(o=this.nl)||void 0===o||o.stop()},t.prototype.ul=function(){this.ll=Xt()},t.prototype.al=function(){return Xt()-this.ll},t.prototype.el=function(){var t=this;this.Me.onEvent((function(n){var i,r;null===(i=t.Xf)||void 0===i||i.flushPendingKeyboardNavigationEvent(),null===(r=t.Kf)||void 0===r||r.flushPendingTextHighlightEvent(),n===jr.PagehideVisible?t.cl():n===jr.PagehideHidden?(t.cl(),t.sendLastMessageBeacon()):t.zf.isEmpty()&&!t.il||t.sendLastMessageBeacon()}))},t.prototype.ol=function(t){try{this.zf.isEmpty()&&!this.il||this.tn.save({requestParameters:t,events:this.zf.getEvents()})}catch(t){}},t.prototype.pushSubmitEvent=function(t,n){if(function(t){return t===mu.SUCCESS||t===mu.FAILURE||t===mu.ATTEMPT}(t))if(zt(n)){var i={status:t,type:pu.SUBMIT,ts:0,tgt:this.Jf.getElementPath(n)};i.tgt!==W.INVALID_ELEMENT&&this.rl(i)}else kn.warn("AnalysisEvents Service: invalid element: ".concat(n));else kn.warn("AnalysisEvents Service: invalid submit status: ".concat(t))},t}(),Zu=function(){function t(t,n){var i=this;this.tn=t,this.le=n,this.vl=function(){"visible"===document.visibilityState&&i.dl()}}return t.prototype.start=function(){this.dl(),this.Pi()},t.prototype.stop=function(){this.Ui()},t.prototype.getRecoveryStorage=function(){return this.tn},t.prototype.dl=function(){var t=this.tn.recover();if(null!==t){var n=t,i=n.requestParameters,r=n.events;this.le.send(r,i)}},t.prototype.Pi=function(){document.addEventListener("visibilitychange",this.vl)},t.prototype.Ui=function(){document.removeEventListener("visibilitychange",this.vl)},t}(),tc=function(){function t(t){this.ho=t}return t.prototype.save=function(t){localStorage.setItem(this.ho,csJSON.stringify(t))},t.prototype.clear=function(){localStorage.removeItem(this.ho)},t.prototype.recover=function(){var t=localStorage.getItem(this.ho);if(null===t)return null;var n=null;try{n=csJSON.parse(t)}catch(n){kn.error("Invalid item in localStorage.\n         (key:".concat(this.ho,"; value:").concat(t,")"))}finally{this.clear()}return n},t}(),nc=function(){function t(t){var n=this;this.yl=t,this.wl=function(t){return n.processMetric(t)},this.Ci=!1}return t.prototype.onEvent=function(t){this.ws=t},t.prototype.start=function(){this.Ci||(this.Ci=!0,this.yl.onFCP(this.wl),this.yl.onCLS(this.wl),this.yl.onFID(this.wl),this.yl.onLCP(this.wl),this.yl.onTTFB(this.wl),this.yl.onINP(this.wl))},t.prototype.stop=function(){this.Ci=!1},t.prototype.processMetric=function(t){if(this.Ci){var n={type:pu.PERFORMANCE,name:t.name,val:t.value,ts:0};this.ws(n)}},nt([qn("Performance metric handler")],t.prototype,"processMetric",null),t}(),ic=-1,rc=function(t){addEventListener("pageshow",(function(n){n.persisted&&(ic=n.timeStamp,t(n))}),!0)},ec=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},sc=function(){var t=ec();return t&&t.activationStart||0},oc=function(t,n){var i=ec(),r="navigate";return ic>=0?r="back-forward-cache":i&&(document.prerendering||sc()>0?r="prerender":document.wasDiscarded?r="restore":i.type&&(r=i.type.replace(/_/g,"-"))),{name:t,value:void 0===n?-1:n,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},uc=function(t,n,i){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver((function(t){Promise.resolve().then((function(){n(t.getEntries())}))}));return r.observe(Object.assign({type:t,buffered:!0},i||{})),r}}catch(t){}},cc=function(t,n,i,r){var e,s;return function(o){n.value>=0&&(o||r)&&((s=n.value-(e||0))||void 0===e)&&(e=n.value,n.delta=s,n.rating=function(t,n){return t>n[1]?"poor":t>n[0]?"needs-improvement":"good"}(n.value,i),t(n))}},hc=function(t){requestAnimationFrame((function(){return requestAnimationFrame((function(){return t()}))}))},ac=function(t){var n=function(n){"pagehide"!==n.type&&"hidden"!==document.visibilityState||t(n)};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},fc=function(t){var n=!1;return function(i){n||(t(i),n=!0)}},lc=-1,vc=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},dc=function(t){"hidden"===document.visibilityState&&lc>-1&&(lc="visibilitychange"===t.type?t.timeStamp:0,wc())},yc=function(){addEventListener("visibilitychange",dc,!0),addEventListener("prerenderingchange",dc,!0)},wc=function(){removeEventListener("visibilitychange",dc,!0),removeEventListener("prerenderingchange",dc,!0)},pc=function(){return lc<0&&(lc=vc(),yc(),rc((function(){setTimeout((function(){lc=vc(),yc()}),0)}))),{get firstHiddenTime(){return lc}}},mc=function(t){document.prerendering?addEventListener("prerenderingchange",(function(){return t()}),!0):t()},gc=[1800,3e3],Sc=function(t,n){n=n||{},mc((function(){var i,r=pc(),e=oc("FCP"),s=uc("paint",(function(t){t.forEach((function(t){"first-contentful-paint"===t.name&&(s.disconnect(),t.startTime<r.firstHiddenTime&&(e.value=Math.max(t.startTime-sc(),0),e.entries.push(t),i(!0)))}))}));s&&(i=cc(t,e,gc,n.reportAllChanges),rc((function(r){e=oc("FCP"),i=cc(t,e,gc,n.reportAllChanges),hc((function(){e.value=performance.now()-r.timeStamp,i(!0)}))})))}))},bc=[.1,.25],Ac={passive:!0,capture:!0},Ec=new Date,Rc=function(t,n){Fu||(Fu=n,Bu=t,zu=new Date,Nc(removeEventListener),Tc())},Tc=function(){if(Bu>=0&&Bu<zu-Ec){var t={entryType:"first-input",name:Fu.type,target:Fu.target,cancelable:Fu.cancelable,startTime:Fu.timeStamp,processingStart:Fu.timeStamp+Bu};Gu.forEach((function(n){n(t)})),Gu=[]}},Oc=function(t){if(t.cancelable){var n=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,n){var i=function(){Rc(t,n),e()},r=function(){e()},e=function(){removeEventListener("pointerup",i,Ac),removeEventListener("pointercancel",r,Ac)};addEventListener("pointerup",i,Ac),addEventListener("pointercancel",r,Ac)}(n,t):Rc(n,t)}},Nc=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(n){return t(n,Oc,Ac)}))},kc=[100,300],Cc=0,Ic=1/0,_c=0,xc=function(t){t.forEach((function(t){t.interactionId&&(Ic=Math.min(Ic,t.interactionId),_c=Math.max(_c,t.interactionId),Cc=_c?(_c-Ic)/7+1:0)}))},Pc=function(){return $u?Cc:performance.interactionCount||0},Mc=function(){"interactionCount"in performance||$u||($u=uc("event",xc,{type:"event",buffered:!0,durationThreshold:0}))},Dc=[200,500],Lc=0,Uc=function(){return Pc()-Lc},jc=[],qc={},Hc=function(t){var n=jc[jc.length-1],i=qc[t.interactionId];if(i||jc.length<10||t.duration>n.latency){if(i)i.entries.push(t),i.latency=Math.max(i.latency,t.duration);else{var r={id:t.interactionId,latency:t.duration,entries:[t]};qc[r.id]=r,jc.push(r)}jc.sort((function(t,n){return n.latency-t.latency})),jc.splice(10).forEach((function(t){delete qc[t.id]}))}},Vc=[2500,4e3],Fc={},Bc=[800,1800],zc=function t(n){document.prerendering?mc((function(){return t(n)})):"complete"!==document.readyState?addEventListener("load",(function(){return t(n)}),!0):setTimeout(n,0)},Gc=function(t,n){n=n||{};var i=oc("TTFB"),r=cc(t,i,Bc,n.reportAllChanges);zc((function(){var e=ec();if(e){var s=e.responseStart;if(s<=0||s>performance.now())return;i.value=Math.max(s-sc(),0),i.entries=[e],r(!0),rc((function(){i=oc("TTFB",0),(r=cc(t,i,Bc,n.reportAllChanges))(!0)}))}}))},$c=function(){function t(){}return t.prototype.onFCP=function(t){Sc(t,{reportAllChanges:!0})},t.prototype.onCLS=function(t){!function(t,n){n=n||{},Sc(fc((function(){var i,r=oc("CLS",0),e=0,s=[],o=function(t){t.forEach((function(t){if(!t.hadRecentInput){var n=s[0],i=s[s.length-1];e&&t.startTime-i.startTime<1e3&&t.startTime-n.startTime<5e3?(e+=t.value,s.push(t)):(e=t.value,s=[t])}})),e>r.value&&(r.value=e,r.entries=s,i())},u=uc("layout-shift",o);u&&(i=cc(t,r,bc,n.reportAllChanges),ac((function(){o(u.takeRecords()),i(!0)})),rc((function(){e=0,r=oc("CLS",0),i=cc(t,r,bc,n.reportAllChanges),hc((function(){return i()}))})),setTimeout(i,0))})))}(t,{reportAllChanges:!0})},t.prototype.onFID=function(t){!function(t,n){n=n||{},mc((function(){var i,r=pc(),e=oc("FID"),s=function(t){t.startTime<r.firstHiddenTime&&(e.value=t.processingStart-t.startTime,e.entries.push(t),i(!0))},o=function(t){t.forEach(s)},u=uc("first-input",o);i=cc(t,e,kc,n.reportAllChanges),u&&ac(fc((function(){o(u.takeRecords()),u.disconnect()}))),u&&rc((function(){var r;e=oc("FID"),i=cc(t,e,kc,n.reportAllChanges),Gu=[],Bu=-1,Fu=null,Nc(addEventListener),r=s,Gu.push(r),Tc()}))}))}(t,{reportAllChanges:!0})},t.prototype.onLCP=function(t){!function(t,n){n=n||{},mc((function(){var i,r=pc(),e=oc("LCP"),s=function(t){var n=t[t.length-1];n&&n.startTime<r.firstHiddenTime&&(e.value=Math.max(n.startTime-sc(),0),e.entries=[n],i())},o=uc("largest-contentful-paint",s);if(o){i=cc(t,e,Vc,n.reportAllChanges);var u=fc((function(){Fc[e.id]||(s(o.takeRecords()),o.disconnect(),Fc[e.id]=!0,i(!0))}));["keydown","click"].forEach((function(t){addEventListener(t,(function(){return setTimeout(u,0)}),!0)})),ac(u),rc((function(r){e=oc("LCP"),i=cc(t,e,Vc,n.reportAllChanges),hc((function(){e.value=performance.now()-r.timeStamp,Fc[e.id]=!0,i(!0)}))}))}}))}(t,{reportAllChanges:!0})},t.prototype.onTTFB=function(t){Gc(t,{reportAllChanges:!0})},t.prototype.onINP=function(t){!function(t,n){n=n||{},mc((function(){var i;Mc();var r,e=oc("INP"),s=function(t){t.forEach((function(t){t.interactionId&&Hc(t),"first-input"===t.entryType&&!jc.some((function(n){return n.entries.some((function(n){return t.duration===n.duration&&t.startTime===n.startTime}))}))&&Hc(t)}));var n,i=(n=Math.min(jc.length-1,Math.floor(Uc()/50)),jc[n]);i&&i.latency!==e.value&&(e.value=i.latency,e.entries=i.entries,r())},o=uc("event",s,{durationThreshold:null!==(i=n.durationThreshold)&&void 0!==i?i:40});r=cc(t,e,Dc,n.reportAllChanges),o&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),ac((function(){s(o.takeRecords()),e.value<0&&Uc()>0&&(e.value=0,e.entries=[]),r(!0)})),rc((function(){jc=[],Lc=Pc(),e=oc("INP"),r=cc(t,e,Dc,n.reportAllChanges)})))}))}(t,{reportAllChanges:!0})},t}(),Jc=function(){function t(t){void 0===t&&(t=[]),this.Ei=t}return t.prototype.stringifyEvents=function(){return csJSON.stringify(this.Ei)},t.prototype.addEvent=function(t){csArray.prototype.push.call(this.Ei,t)},t.prototype.eventsCount=function(){return this.Ei.length},t.prototype.clearEvents=function(){this.Ei=[]},t.prototype.empty=function(){this.clearEvents()},t.prototype.isFull=function(){return this.eventsCount()>=50},t.prototype.isEmpty=function(){return 0===this.Ei.length},t.prototype.getEvents=function(){return this.Ei},t}(),Wc=function(){function t(){}return t.prototype.isEventTypeSupported=function(t){return-1!==csArray.prototype.indexOf.call(this.supportedEventTypes,t)},t.prototype.enhanceAnalysisEvent=function(t,n){return this.isEventTypeSupported(n.type)?this.baseEnhanceAnalysisEvent(t,n):n},t}(),Yc=function(t){function n(){var n=t.apply(this,ot([],st(arguments),!1))||this;return n.supportedEventTypes=[pu.CHANGE],n.pl=["text","email","number","search","tel","url","password"],n}return Q(n,t),n.prototype.baseEnhanceAnalysisEvent=function(t,n){var i=Sr(t);return O(i)&&csArray.prototype.indexOf.call(this.pl,i.type)>=0&&(n.isBlank=""===i.value),n},n}(Wc),Xc=function(t){function n(n){var i=t.call(this)||this;return i.lf=n,i.supportedEventTypes=[pu.MOUSEDOWN,pu.MOUSEUP,pu.CLICK,pu.MOUSEOVER,pu.TAP,pu.DRAG,pu.FLICK],i}return Q(n,t),n.prototype.baseEnhanceAnalysisEvent=function(t,n){return n.tgt||(n.tgt=this.lf.getEventTargetPath(t)),n},n}(Wc);!function(t){t.getRelativePosition=function(t){var n=Sr(t);if(!(n&&S(n)&&Bt(n.getBoundingClientRect)&&Ft(t.pageX)&&Ft(t.pageY)))return{xRel:-1,yRel:-1,valid:!1};var i=n.getBoundingClientRect(),r=t.pageX-i.left-xe.windowOffsetX(),e=t.pageY-i.top-xe.windowOffsetY();n!==document.documentElement&&(r+=n.scrollLeft,e+=n.scrollTop);var s=Math.max(n.scrollWidth,i.width),o=Math.max(n.scrollHeight,i.height);return{xRel:Math.round(r/s*65535),yRel:Math.round(e/o*65535),valid:!0}}}(Ju||(Ju={}));var Kc,Qc=function(t){function n(n,i){var r=t.call(this)||this;return r.I=n,r.lf=i,r.supportedEventTypes=[pu.MOUSEMOVE,pu.CLICK],r.ml="",r}return Q(n,t),n.prototype.baseEnhanceAnalysisEvent=function(t,n){var i=Ju.getRelativePosition(t),r=i.valid,e=i.xRel,s=i.yRel;if(r){var o=this.lf.getEventTargetPath(t);o!==W.INVALID_ELEMENT&&(n.xRel=e,n.yRel=s,n.type===pu.MOUSEMOVE&&(o!==this.ml||this.I.iframesTracking?(this.ml=o,n.tgtHM=o):n.tgtHM=""))}else n.type===pu.MOUSEMOVE&&(this.ml="");return n},n}(Wc);!function(t){t[t.ANONYMIZED=0]="ANONYMIZED",t[t.CAPTURED=1]="CAPTURED",t[t.MASKED=2]="MASKED"}(Kc||(Kc={}));var Zc=function(t){function n(n,i,r){var e=t.call(this)||this;return e.U=n,e.gl=i,e.j=r,e.supportedEventTypes=[pu.TAP,pu.CLICK],e}return Q(n,t),n.prototype.Sl=function(t){for(var n="",i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),r=i.nextNode();r;){if(n+=r.textContent,this.gl.getElementSensitiveStatus(r.parentElement)!==Kc.CAPTURED)return!0;if(csString.prototype.trim.call(n).length>=100)break;r=i.nextNode()}return!1},n.prototype.baseEnhanceAnalysisEvent=function(t,n){if(zt(csEventtarget.apply(t))){var i=Ur(csEventtarget.apply(t),"button,a");if(i&&jt(i.textContent)&&!this.Sl(i)&&!this.j.hasPII(i.textContent,this.U.anonymizeDigits)){var r=ds.truncate(csString.prototype.trim.call(i.textContent),100);r.length>0&&(n.text=r)}}return n},n}(Wc);function th(t,n,i){var r=[];return t.mouseMoveHeatmapEnabled&&csArray.prototype.push.call(r,new Qc(t,n)),t.isClickedElementTextEnabled()&&csArray.prototype.push.call(r,new Zc(t,i,new Pt)),csArray.prototype.push.call(r,new Yc,new Xc(n)),r}function nh(t,n,i){var r=[];return t.isClickedElementTextEnabled()&&csArray.prototype.push.call(r,new Zc(t,i,new Pt)),csArray.prototype.push.call(r,new Xc(n)),r}var ih,rh="v2/events",eh=["submit"],sh=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f){this.U=t,this.Dh=n,this.X=i,this.Jf=r,this.vf=e,this.Qh=s,this.ue=o,this.uf=u,this.Pa=c,this.ea=h,this.bl=a,this.gl=f}return t.prototype.init=function(){var t=this,n=new Jc,i=this.ea.create("".concat(this.U.getTrackerUri(),"/").concat(rh),!0,"base64");this.Al=this.El(i),this.Rl=this.Tl(n,this.Al.getRecoveryStorage(),i),this.Rl.init(),this.bl.addListener(this.Rl),this.Pa.addListener(this.Rl),this.Qh.register(eh,(function(n,i){t.Rl.pushSubmitEvent(n,i)}))},t.prototype.onStartTracking=function(t){this.Al.start(),this.Rl.start(t)},t.prototype.onAfterNaturalPageView=function(){this.Rl.initStates()},t.prototype.onAfterArtificialPageView=function(){this.Rl.initStates(),this.Rl.collectInitialEvents()},t.prototype.onArtificialPageViewEnd=function(){this.Rl.clearStates(!0)},t.prototype.onBeforeSessionRenewal=function(){this.Rl.clearStates(),this.Rl.stop(),this.Al.stop()},t.prototype.onOptout=function(){this.Rl.stop(),this.Al.stop()},t.prototype.Tl=function(t,n,i){var r=new Hu(window),e=new Ku,s=th(this.U,this.Jf,this.gl),o=new Xu(s,this.Jf,this.vf),u=nh(this.U,this.Jf,this.gl),c=new Yu(u,this.uf),h=new nc(new $c),a=new $r;var f=new Ps("".concat(this.U.getTrackerUri(),"/").concat(rh)),l=new Os(this.Dh,this.X);return new Qu(this.U,o,c,e,r,t,f,l,this.ue,n,this.Jf,h,a,i,undefined,undefined,undefined,undefined,undefined,undefined,undefined)},t.prototype.El=function(t){return new Zu(new tc("csAnalysisEventsPersisted"),t)},t}();!function(t){t.Artificial="a",t.Renewal="r",t.Natural="n"}(ih||(ih={}));var oh=function(t){function n(n,i,r,e,s){var o=t.call(this)||this;return o.hh=n,o.bl=i,o.Ol=r,o.ot=e,o.ga=s,o}return Q(n,t),n.prototype.init=function(){this.Nl()},n.prototype.onStart=function(t){t?this.kl():this.Cl()},n.prototype.onStop=function(){},n.prototype.triggerArtificialPageView=function(t,n){this.isStarted?this.Il(t,n):Ft(t)&&this.ot.overridePath(t,n),this.isStarted||(this.bl.emitTargetingRulesArtificialPageview(this.ot.getUrl()),this.ot.cleanupOverrideLifespan())},n.prototype.Cl=function(){this.ga.setPageViewType(ih.Natural),this.hh.emitBeforeNaturalPageView(),this.Ol.send(),this.ot.cleanupOverrideLifespan(),this.hh.emitAfterNaturalPageView()},n.prototype.kl=function(){this.ga.setPageViewType(ih.Renewal),this.hh.emitBeforeNaturalPageView(),this.Ol.send(),this.hh.emitAfterNaturalPageView()},n.prototype.Il=function(t,n){this.ga.setPageViewType(ih.Artificial),this.hh.emitArtificialPageViewEnd(),Ft(t)&&this.ot.overridePath(t,n),this.hh.emitBeforeArtificialPageView(),this.Ol.send(),this.ot.cleanupOverrideLifespan(),this.hh.emitAfterArtificialPageView()},n.prototype.Nl=function(){var t=this;window.addEventListener("pageshow",(function(n){t.isStarted&&n.persisted&&t.Il()}))},n}(zr),uh=window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage||window.navigator.systemLanguage||"unknown";function ch(){return{la:uh}}var hh=function(){function t(t,n){this.pu=t,this.ta=n,this._l=!1}return t.prototype.getRequestParameters=function(){return{dr:this.xl()}},t.prototype.addUrlMaskingPattern=function(t){this.ta.addUrlMaskingPattern(t)},t.prototype.enableRemoveQueryString=function(){this._l=!0},t.prototype.disableRemoveQueryString=function(){this._l=!1},t.prototype.xl=function(){var t=this._l?this.pu.removeQueryString(this.Pl()):this.Pl();return this.pu.anonymizeUrl(t,this.ta.getUrlMaskingPatterns())},t.prototype.Pl=function(){var t="";try{t=window.top.document.referrer}catch(n){if(window.parent)try{t=window.parent.document.referrer}catch(n){t=""}}return""===t&&(t=document.referrer),"string"!=typeof t&&(t=""),t},t}(),ah=function(){function t(t){this.K=t,this.Ml=this.Dl()&&"currentScript"in document}return t.prototype.Ll=function(){var t=window.CSCurrentScript;if(!t)return null;var n=window.performance.getEntriesByName(t.src,"resource")[0];return!n||this.Ul(n)?null:Math.round(n.responseEnd-n.fetchStart)},t.prototype.Ul=function(t){var n=t.transferSize;return void 0!==n?0===n||300===n||n<t.encodedBodySize:t.connectStart===t.domainLookupEnd},t.prototype.getRequestParameters=function(){if(!this.Ml||1!==this.jl())return{};var t=this.Ll();return null===t?{}:{dt:"".concat(Math.min(t,99999))}},t.prototype.jl=function(){var t;return(null===(t=this.K.getSession())||void 0===t?void 0:t.pageNumber)||null},t.prototype.Dl=function(){return"object"==typeof window.performance&&"function"==typeof window.performance.getEntriesByName},t}();function fh(t){var n,i,r=[],e=function(t){var n=t;ht(t,"/")&&(n=csString.prototype.substring.call(n,1));rn(t,"/")&&(n=csString.prototype.slice.call(n,0,-1));return n}(t),s=csString.prototype.split.call(e,"/");try{for(var o=et(s),u=o.next();!u.done;u=o.next()){var c=u.value;ht(c,":")?csArray.prototype.push.call(r,{key:c,value:"CS_ANONYMIZED_".concat(csString.prototype.toUpperCase.call(csString.prototype.slice.call(c,1)))}):csArray.prototype.push.call(r,{key:c,value:null})}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r}var lh,vh=function(){function t(){this.ql=new Set,this.Hl=[],this.Vl=new Set,this.Fl=[]}return t.prototype.addUrlMaskingPattern=function(t){if(!this.ql.has(t)){this.ql.add(t);var n=fh(t);csArray.prototype.push.call(this.Hl,n)}},t.prototype.getUrlMaskingPatterns=function(){return this.Hl},t.prototype.resetPartialUrlMaskingPatterns=function(){this.Vl.clear(),this.Fl=[]},t.prototype.addPartialUrlMaskingPattern=function(t){if(!this.Vl.has(t)){this.Vl.add(t);var n=fh(t);csArray.prototype.push.call(this.Fl,n)}},t.prototype.getPartialUrlMaskingPatterns=function(){return this.Fl},t}(),dh=["trackPageview"],yh=["setPath"],wh=["setQuery"],ph=["referrer:maskUrl"],mh=["referrer:removeQueryString"],gh=["referrer:keepQueryString"],Sh=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f,l,v){this.U=t,this.Qh=n,this.hh=i,this.jh=r,this.X=e,this.K=s,this.Bl=o,this.vn=u,this.pu=c,this.ot=h,this.ra=a,this.ga=f,this.bl=l,this.zl=v}return t.prototype.init=function(){var t,i=this,r=new bt(this.U.getTrackerUri(),"pageview");this.Gl=new oh(this.hh,this.bl,r,this.ot,this.ga);var e=new hh(this.pu,new vh);this.Gl.init();var s=new Os(this.jh,this.X,xe,e,this.ot,this.Bl,n,this.vn,this.ga,new ah(this.K),this.ra);if(this.zl){s.addProvider(this.zl);var o=null===(t=this.U.heapEnvironment)||void 0===t?void 0:t.env_id;s.addProvider({getRequestParameters:function(){var t={cw:"1"};return o&&(t.happid=o),t}})}r.setRequestParametersProviders(s),this.Qh.register(dh,(function(t,n){jt(t)?i.$l(n)?i.Gl.triggerArtificialPageView(t,n):i.Gl.triggerArtificialPageView(t):i.Gl.triggerArtificialPageView()})),this.Qh.register(yh,(function(t,n){jt(t)&&(i.$l(n)?i.ot.overridePath(t,n):i.ot.overridePath(t))})),this.Qh.register(wh,(function(t,n){jt(t)&&(i.$l(n)?i.ot.overrideQuery(t,n):i.ot.overrideQuery(t))})),this.Qh.register(ph,(function(t){jt(t)&&e.addUrlMaskingPattern(t)})),this.Qh.register(mh,(function(){return e.enableRemoveQueryString()})),this.Qh.register(gh,(function(){return e.disableRemoveQueryString()}))},t.prototype.start=function(t){this.Gl.start(t)},t.prototype.onBeforeSessionRenewal=function(){this.Gl.stop()},t.prototype.$l=function(t){return Ht(t)&&null!==t},t}(),bh=function(){function t(t){this.lf=t}return t.prototype.on=function(t,n){var i=this;return function(r){i.lf.hasValidEventTarget(r)&&i.Jl(r,t)&&n(r)}},t.prototype.Jl=function(t,n){var i=Sr(t);return q.call(i,n)},t.prototype.isMatchesSelectorSupported=function(){return!!q},t}(),Ah=function(){function t(){}return t.prototype.onLoad=function(t){this.en=t},t.prototype.onLoadCallbackExecute=function(){this.en()},t.prototype.start=function(){var t=this.onLoadCallbackExecute.bind(this);this.Wl(t)},t.prototype.Wl=function(t){function n(){document.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n),t()}"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?csSetTimeout(t):(document.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n))},nt([qn("onLoad")],t.prototype,"onLoadCallbackExecute",null),t}(),Eh=function(){function t(t,n,i){this.U=t,this.X=n,this.K=i,this.ll=Xt()}return t.prototype.resetStartTime=function(){this.ll=Xt()},t.prototype.getSessionData=function(){var t=this.U.projectId,n=this.X.getVisitor();null==n&&kn.warn("Visitor is null. This happens when a snippet tries to get Session Data before the tag was initialized.");var i=null!=n?n:{},r=i.id,e=i.visitsCount,s=this.K.getSession();return null===s&&kn.warn("Session is null. This happens when a snippet tries to get Session Data before the tag was initialized."),{projectId:t,userId:r,sessionNumber:e,pageNumber:(null!=s?s:{}).pageNumber,relativeTimestamp:Xt()-this.ll}},t}(),Rh=["clearSession"],Th=["extendSession"],Oh=["getSessionData"],Nh=["session:start:newVisitor"],kh=["session:clear:visitor"],Ch=function(){function t(t,n,i,r){this.U=t,this.X=n,this.K=i,this.Qh=r}return t.prototype.init=function(){var t=this;this.Yl=new Eh(this.U,this.X,this.K),this.Qh.register(Rh,(function(){return t.K.removeSession()})),this.Qh.register(Th,(function(){return t.K.extendSessionPeriodically()}),{disableApplyPending:!0}),this.Qh.register(Oh,(function(){return t.Yl.getSessionData()}),{disableApplyPending:!0}),this.Qh.register(Nh,(function(){return t.X.renewVisitor()})),this.Qh.register(kh,(function(){t.X.resetVisitor()}),{disableApplyImmediate:!0})},t.prototype.onBeforeNaturalPageView=function(){this.X.createOrUpdateVisitor(),this.K.createOrUpdateSession()},t.prototype.onBeforeArtificialPageView=function(){this.K.abortQuotaServiceRequest(),this.X.createOrUpdateVisitor(),this.K.createOrUpdateSession()},t.prototype.onAfterNaturalPageView=function(){this.Yl.resetStartTime()},t.prototype.onAfterArtificialPageView=function(){this.Yl.resetStartTime()},t.prototype.onOptout=function(){this.X.removeVisitor(),this.K.removeSession()},t.prototype.onCollectStateChange=function(t,n){this.K.updateCollectState(t,n)},t}(),Ih=function(){function t(t,n){var i=this;this.K=t,this.X=n,this.Xl=!1,this.Kl=lr((function(){return i.K.refreshSession()}),3e4)}return t.prototype.onSessionExpired=function(t){this.Ql=t},t.prototype.isSessionValid=function(){return!!this.Xl||!!this.K.hasValidSession()&&(!this.K.pollCacheRefreshEvent()||!this.X.isSessionRenewed())},t.prototype.isCurrentPageviewValid=function(){var t=this.K.hasValidSession();return this.K.pollCacheRefreshEvent(!1)?!this.X.isSessionRenewed():t},t.prototype.refreshSession=function(){this.isSessionValid()?this.Kl():this.Zl()&&(this.tv=Xt(),this.renewSession())},t.prototype.renewSession=function(){this.Xl=!0,this.Ql(),this.Xl=!1},t.prototype.Zl=function(){return!Vt(this.tv)||Xt()-this.tv>6e4},t}();function _h(t){return t.tagDeploymentMode===lh.DualCollectionReview||t.tagDeploymentMode===lh.DualCollection}!function(t){t.ContentSquare="CONTENTSQUARE",t.LoadedByClicktale="LOADED_BY_CLICKTALE",t.LoadClicktalePtc="LOAD_CLICKTALE_PTC",t.DualCollectionReview="DUAL_COLLECTION_REVIEW",t.DualCollection="DUAL_COLLECTION",t.ContentSquareTagClickTaleEndpoints="CONTENTSQUARE_TAG_CLICKTALE_ENDPOINTS"}(lh||(lh={}));var xh,Ph=function(){function t(t,n,i){this.U=t,this.K=n,this.nv=i}return t.prototype.init=function(){this.iv=!1,this.rv=!1},t.prototype.loadClicktalePtc=function(){!this.iv&&this.U.ptcDomain&&this.U.ptcGuid&&this.ev()},t.prototype.startDataCollection=function(t){this.rv||(this.U.tagDeploymentMode===lh.LoadClicktalePtc&&this.sv()&&this.nv.initCTPII(),_h(this.U)&&(this.nv.initCTPII(),t(),this.rv=!0))},t.prototype.sv=function(){return this.K.isReplayRecorded()},t.prototype.ev=function(){this.iv=!0;var t=this.ov();document.getElementsByTagName("head")[0].appendChild(t)},t.prototype.ov=function(){var t=document.createElementNS("http://www.w3.org/1999/xhtml","script");return t.async=!0,t.crossOrigin="anonymous",t.type="text/javascript",this.U.ptcSha512&&this.U.ptcSnapshotPath?(t.integrity="sha512-".concat(this.U.ptcSha512),t.src="https://".concat(this.U.ptcDomain,"/").concat(this.U.ptcSnapshotPath,"/ptc.js")):t.src="https://".concat(this.U.ptcDomain,"/ptc/").concat(this.U.ptcGuid,".js"),t},t}();!function(t){t.isRecording=function(){return window.ClickTaleIsRecording&&window.ClickTaleIsRecording()},t.stopRecording=function(){window.ClickTaleStop&&window.ClickTaleStop()},t.triggerLogicalPageView=function(t){window.ClickTaleLogicalWithUploadPage&&window.ClickTaleLogicalWithUploadPage(t)},t.sendPageEvent=function(t){window.ClickTaleEvent&&window.ClickTaleEvent(t)},t.sendEventTriggerRecording=function(t){window.ClickTaleEventTrigger&&window.ClickTaleEventTrigger(t)}}(xh||(xh={}));var Mh,Dh=function(){function t(t,n,i,r,e,s){this.U=t,this.K=n,this.ot=i,this.Qh=r,this.uv=e,this.nv=s,this.cv=0}return t.prototype.init=function(){var t=this;this.hv=new Ph(this.U,this.K,this.nv),this.hv.init(),this.av(),this.Qh.register(["startDataCollection"],(function(){t.cv++,t.hv.startDataCollection(t.uv)}))},t.prototype.av=function(){_h(this.U)&&this.hv.loadClicktalePtc()},t.prototype.onAfterNaturalPageView=function(){this.U.tagDeploymentMode===lh.LoadClicktalePtc&&this.hv.loadClicktalePtc()},t.prototype.onAfterArtificialPageView=function(){!this.K.isReplayRecorded()&&xh.isRecording()&&this.U.tagDeploymentMode===lh.LoadClicktalePtc&&xh.triggerLogicalPageView(this.ot.getAnonymizedUrl())},t.prototype.onAfterSessionRenewal=function(){!this.K.isReplayRecorded()&&xh.isRecording()&&xh.triggerLogicalPageView(this.ot.getAnonymizedUrl())},t.prototype.onOptout=function(){xh.isRecording()&&xh.stopRecording()},t}(),Lh="RSA-OAEP",Uh="AES-CTR";!function(t){var n,i,r,e=!1,s=null,o=window.TextEncoder?new window.TextEncoder:null;function u(){var t,n;return null!=(null===(n=null===(t=window.self.crypto)||void 0===t?void 0:t.subtle)||void 0===n?void 0:n.encrypt)&&null!=window.self.CryptoKey}function c(n){return Pn(this,void 0,void 0,(function(){var r;return Mn(this,(function(o){switch(o.label){case 0:return!u()||e?[2,null]:[4,i];case 1:o.sent(),(r=ws(n)).byteLength>190&&(r=r.slice(0,190)),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,t.crypto.encrypt({name:Lh},s,r)];case 3:return[2,ps(o.sent())];case 4:return o.sent(),[2,null];case 5:return[2]}}))}))}function h(n){var i;return Pn(this,void 0,void 0,(function(){var r;return Mn(this,(function(e){switch(e.label){case 0:if(!u())return[2,null];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.crypto.exportKey("jwk",n)];case 2:return r=e.sent(),[2,null!==(i=r.k)&&void 0!==i?i:null];case 3:return e.sent(),[2,null];case 4:return[2]}}))}))}t.crypto=null===(n=window.crypto)||void 0===n?void 0:n.subtle,t.prop="toEncrypt",t.MAX_DIGEST_INPUT_SIZE=100,t.isKeyImported=function(){return!e},t.getCryptoKey=function(){return s},t.isSupported=u,t.importKey=function(n){return Pn(this,void 0,void 0,(function(){return Mn(this,(function(r){switch(r.label){case 0:return[4,i=t.crypto.importKey("spki",ms(n),{name:Lh,hash:"SHA-256"},!1,["encrypt"]).catch((function(){return e=!0,null}))];case 1:return s=r.sent(),i=void 0,s||jn.warn("Fail to import public key '".concat(n,"'")),[2]}}))}))},t.asymmetricEncrypt=c,t.symmetricEncrypt=function(n,i){return Pn(this,void 0,void 0,(function(){var r,s;return Mn(this,(function(c){switch(c.label){case 0:if(!u()||e)return[2,null];r={counter:i.initializationVector,name:Uh,length:64},s=o.encode(n),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,t.crypto.encrypt(r,i.cryptoKey,s)];case 2:return[2,ps(c.sent())];case 3:return c.sent(),[2,null];case 4:return[2]}}))}))},t.encryptSecret=function(t){return Pn(this,void 0,void 0,(function(){var n,i;return Mn(this,(function(r){switch(r.label){case 0:return[4,h(t)];case 1:if(!(n=r.sent()))throw new Error("Export secret failed");return[4,c(n)];case 2:if(!(i=r.sent()))throw new Error("Encrypt secret failed");return[2,i]}}))}))},t.generateSymmetricKey=function(){return Pn(this,void 0,void 0,(function(){return Mn(this,(function(n){switch(n.label){case 0:if(!u()||e)return[2,null];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.crypto.generateKey({name:Uh,length:128},!0,["encrypt","decrypt"])];case 2:return[2,{cryptoKey:n.sent(),initializationVector:window.crypto.getRandomValues(new Uint8Array(16))}];case 3:return n.sent(),[2,null];case 4:return[2]}}))}))},t.setDigestSalt=function(t){r=t},t.digest=function(n){return Pn(this,void 0,void 0,(function(){var i;return Mn(this,(function(e){switch(e.label){case 0:n=csString.prototype.toLocaleLowerCase.call(csString.prototype.trim.call(n)),r&&(n="".concat(n,":").concat(r)),i=o.encode(n),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.crypto.digest("SHA-1",i)];case 2:return[2,gs(e.sent())];case 3:return e.sent(),[2,null];case 4:return[2]}}))}))},t.generateKeyPair=function(){return window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"])}}(Mh||(Mh={}));var jh,qh,Hh="@user-identifier@",Vh=function(t){function n(n,i,r,e){var s=t.call(this)||this;return s.U=n,s.fv=i,s.Fa=r,s.bl=e,s.lv=[],s.qe=[],s}return Q(n,t),n.prototype.onStart=function(){var t=this;csArray.prototype.forEach.call(this.lv,(function(n){return t.trackPageEvent(n)})),this.lv=[],csArray.prototype.forEach.call(this.qe,(function(n){return t.trackEventTriggerRecording(n)})),this.qe=[]},n.prototype.onStop=function(){},n.prototype.trackPageEvent=function(t){this.isStarted?n.vv(t)&&(this.yv(t)?Mh.isSupported()&&this.wv(t):this.pv(t)):csArray.prototype.push.call(this.lv,t)},n.prototype.yv=function(t){return ht(t,Hh)},n.prototype.wv=function(t){return it(this,void 0,void 0,(function(){var n,i;return rt(this,(function(r){switch(r.label){case 0:return this.U.customHashIdEnabled?(n=csString.prototype.slice.call(t,17)).length>Mh.MAX_DIGEST_INPUT_SIZE?(kn.warn("UserIdentifier event: invalid user identifier"),[2]):[4,Mh.digest(n)]:[2];case 1:return(i=r.sent())?(this.mv={eventName:i,isETR:!1,isCustomHashId:!0},this.gv()):kn.warn("Page event: unable to compute customHashId"),this.U.encryptionEnabled?(this.bl.emitUserIdentifierEvent(n),[2]):[2]}}))}))},n.prototype.pv=function(t){this.bl.emitPageEvent(t),this.mv={eventName:t,isETR:!1,isCustomHashId:!1},this.gv(),this.U.tagDeploymentMode===lh.LoadClicktalePtc&&xh.sendPageEvent(t)},n.prototype.trackEventTriggerRecording=function(t){this.isStarted?n.vv(t)&&(this.U.malkaEtrEnabled?this.Sv(t):this.bv(t)):csArray.prototype.push.call(this.qe,t)},n.prototype.Sv=function(t){ht(t,"@ETP@")?this.bl.emitEventTriggerRecording(t,Ei.ETR_PAGE):this.bl.emitEventTriggerRecording(t,Ei.ETR_SESSION),this.mv={eventName:t,isETR:!0,isCustomHashId:!1},this.gv()},n.prototype.bv=function(t){(function(t){return _h(t)||t.tagDeploymentMode===lh.LoadClicktalePtc})(this.U)&&(this.bl.emitEventTriggerRecording(t,Ei.ETR_LEGACY),this.mv={eventName:t,isETR:!0,isCustomHashId:!1},this.gv(),this.U.tagDeploymentMode===lh.LoadClicktalePtc&&xh.sendEventTriggerRecording(t))},n.prototype.getRequestParameters=function(){return{value:this.Fa.compressSync(this.mv.eventName,"base64"),ct:this.Fa.algorithm,isETR:"".concat(this.mv.isETR),isCustomHashId:"".concat(this.mv.isCustomHashId)}},n.prototype.gv=function(){this.fv.send()},n.vv=function(t){return jt(t)&&!!csString.prototype.trim.call(t)},n}(zr),Fh=["trackPageEvent"],Bh=["trackEventTriggerRecording"],zh=function(){function t(t,n,i,r,e){this.U=t,this.Qh=n,this.Fa=i,this.jh=r,this.bl=e}return t.prototype.init=function(){var t=this,n=new bt(this.U.getTrackerUri(),"pageEvent");this.Av=new Vh(this.U,n,this.Fa,this.bl),n.setRequestParametersProviders(this.Av,this.jh),this.Qh.register(Fh,(function(n){t.Av.trackPageEvent(n)})),this.Qh.register(Bh,(function(n){t.Av.trackEventTriggerRecording(n)}))},t.prototype.onStartTracking=function(){this.Av.start()},t}(),Gh=function(){function t(){this.subscriptions={}}return t.prototype.subscribe=function(t,n){this.subscriptions[t]=n,1===Object.keys(this.subscriptions).length&&this.onStartTracking()},t.prototype.unsubscribe=function(t){delete this.subscriptions[t],0===Object.keys(this.subscriptions).length&&this.onStopTracking()},t}(),$h=function(t){function n(){var n=t.call(this)||this;return n.Cr=new Mo((function(t){return n.errorListener(t)})),n}return Q(n,t),n.prototype.onStartTracking=function(){this.Cr.observe()},n.prototype.onStopTracking=function(){this.Cr.disconnect()},n.prototype.errorListener=function(t){var n=this.Ev(t);for(var i in this.subscriptions){(0,this.subscriptions[i])(n)}},n.prototype.Rv=function(t){return t=null!=t?t:"[NO ERROR MESSAGE]",ds.truncate(t,n.Kc,ds.ELLIPSIS)},n.prototype.Tv=function(t){return oe(t)?"":ds.truncate(t,n.Qc,ds.ELLIPSIS)},n.prototype.Ev=function(t){return{errorType:"jsError",message:this.Rv(t.message),filename:this.Tv(t.filename),lineno:t.lineno,colno:t.colno}},n.Kc=1024,n.Qc=150,nt([qn("Event handler type: error")],n.prototype,"errorListener",null),n}(Gh),Jh=["[data-cs-mask]","#c1_card_info_id"],Wh=function(){function t(t){var n,i,r;this.U=t,this.Ov=ot([],st(Jh),!1),this.Nv=[{selector:"input:not([type=button]):not([type=submit])",attrName:"value"}],this.kv={PIISelectors:["picture","img","video","audio"],Attributes:[]},this.Cv={PIISelectors:ot([".ctHidden,textarea"],st(Jh),!1),Attributes:[{selector:".ctHidden,input:not([type=button]):not([type=submit])",attrName:"value"}]},this.Iv={elementSelector:"",attrSelector:"",attrSelectors:[]};var e={PIISelectors:[],Attributes:[]};if(_h(this.U)||((n=csArray.prototype.push).call.apply(n,ot([e.PIISelectors],st(this.Ov),!1)),(i=csArray.prototype.push).call.apply(i,ot([e.Attributes],st(this.Nv),!1))),this.U.isSMB){(r=csArray.prototype.push).call.apply(r,ot([e.PIISelectors],st(["[data-hj-suppress]",".data-hj-suppress","[data-hj-masked]"]),!1))}this.Iv=_r.getComputedSelectorSettings(e,this.Iv)}return t.prototype.setMaskedElementSettingsFromCommand=function(t){t=_r.sanitizeSelectorUserInput(t),_r.isSelectorUserInput(t)&&this._v(t)},t.prototype.setMaskedElementSettingsFromParent=function(t){var n={PIISelectors:csString.prototype.split.call(t.elementSelector,","),Attributes:t.attrSelectors};this._v(n)},t.prototype.getMaskedElementSettings=function(t){return t?this.xv(this.kv):this.Iv},t.prototype.initCTPII=function(){var t,n,i,r,e,s,o,u=this.Cv;(null===(r=null===(i=null===(n=null===window||void 0===window?void 0:window.ClickTaleSettings)||void 0===n?void 0:n.DOM)||void 0===i?void 0:i.PII)||void 0===r?void 0:r.Text)instanceof Array&&(t=u.PIISelectors).push.apply(t,ot([],st(window.ClickTaleSettings.DOM.PII.Text),!1)),(null===(o=null===(s=null===(e=null===window||void 0===window?void 0:window.ClickTaleSettings)||void 0===e?void 0:e.DOM)||void 0===s?void 0:s.PII)||void 0===o?void 0:o.Attributes)instanceof Array&&window.ClickTaleSettings.DOM.PII.Attributes.forEach((function(t){jt(t.attr)&&jt(t.rule)&&u.Attributes.push({selector:t.rule,attrName:t.attr})})),this._v(u)},t.prototype._v=function(t){this.Iv=this.xv(t)},t.prototype.xv=function(t){return _r.getComputedSelectorSettings(t,this.Iv)},t}(),Yh=function(){function t(t){this.Qh=t}return t.prototype.init=function(){this.Pv(t.Mv,cn),this.Pv(t.Dv,un)},t.prototype.Pv=function(t,n){this.Qh.register([t],(function(t,i){jt(t)&&(jt(i)||Gt(i))&&kn.error(i,"".concat(n).concat(t))}))},t.Dv="logSnippetError",t.Mv="logImplementationSnippetError",t}(),Xh=function(){function t(t,n,i,r,e){this.U=t,this.Ia=n,this.Kh=i,this.gl=r,this.Pa=e}return t.prototype.init=function(){var t=this;this.Ia.onChildMessage((function(n,i,r){return t.Pa.emitIframeEvent(n,i,r)})),this.Ia.setSentiveStatusCallback((function(){return t.gl.getSensitiveStatus()})),this.Ia.setRecordingContextCallback((function(){return t.Kh.getRecordingContext()}))},t.prototype.onStartTracking=function(){this.U.iframesTracking&&this.Ia.start()},t.prototype.onOptout=function(){this.U.iframesTracking&&this.Ia.stop()},t.prototype.onSensitiveStatusChange=function(){if(this.U.iframesTracking){var t=this.gl.getSensitiveStatus();this.Ia.onSensitiveStatusChange(t)}},t.prototype.onRecordingContextChange=function(){if(this.U.iframesTracking){var t=this.Kh.getRecordingContext();this.Ia.onRecordingContextChange(t)}},t}(),Kh=function(t){function n(n){var i=t.call(this)||this;return i.U=n,i.Lv=0,i.Uv=new Map,i.jv={boundElement:window,type:"message",listener:function(t){return i.qv(t)}},i}return Q(n,t),n.prototype.onChildMessage=function(t){this.Hv=t},n.prototype.setRecordingContextCallback=function(t){this.Vv=t},n.prototype.setSentiveStatusCallback=function(t){this.Fv=t},n.prototype.onSensitiveStatusChange=function(t){var n=this,i=En.buildBaseMessage(An.SensitiveStatus,bn.Parent,this.U.projectId);i.content=t;var r=En.buildBaseMessage(An.SensitiveStatus,bn.Parent,this.U.projectId);r.content=Z(Z({},t),{started:!1,useAnonymization:!0,capturedElementSelector:""}),this.Uv.forEach((function(t){if(t.port){var e=n.Bv(t)?r:i;n.zv(t,e)}}))},n.prototype.onRecordingContextChange=function(t){var n=this,i=En.buildBaseMessage(An.RecordingContext,bn.Parent,this.U.projectId);i.content=t,this.Uv.forEach((function(t){!n.Bv(t)&&t.port&&n.zv(t,i)}))},n.prototype.sendToChildren=function(t,n){var i=En.buildBaseMessage(t,bn.Parent,this.U.projectId);i.content=n,this.Gv(i)},n.prototype.onStart=function(){hr(this.jv,!1),this.$v()},n.prototype.onStop=function(){this.Jv(),ar(this.jv,!1),this.Wv()},n.prototype.$v=function(){var t=this,n=this.Yv();this.Xv(n),csArray.prototype.forEach.call(n,(function(n){if(null===t.Kv(n)){var i={iframe:n};t.Uv.set(t.Lv,i),t.Lv+=1}})),this.Qv()},n.prototype.Yv=function(){var t=this;return csArray.prototype.filter.call(De.findAllElements("iframe"),(function(n){return t.Zv(n)}))},n.prototype.Xv=function(t){var n=this;this.Uv.forEach((function(i,r){i.iframe&&-1===csArray.prototype.indexOf.call(t,i.iframe)&&n.td(r,i)}))},n.prototype.td=function(t,n){n.port&&En.closeChannelPort(n.port),this.Uv.delete(t)},n.prototype.Wv=function(){this.Uv.forEach((function(t){t.port&&En.closeChannelPort(t.port)})),this.Uv.clear()},n.prototype.Kv=function(t){var n=null;return this.Uv.forEach((function(i,r){null===n&&i.iframe===t&&(n=r)})),n},n.prototype.Zv=function(t){return t.id!==r&&(!t.src||pn(wn(t.src),this.U.hostnames))},n.prototype.Gv=function(t){var n=this;this.Uv.forEach((function(i){n.zv(i,t)}))},n.prototype.zv=function(t,n){var i=n.type===An.SensitiveStatus||n.type===An.RecordingContext;!t.port||i&&!t.initialStatusSent||En.sendChannelMessage(t.port,n)},n.prototype.Qv=function(){var t=this;this.Uv.forEach((function(n,i){if(n.iframe.contentWindow){var r=t.nd(i);En.sendPostMessage(n.iframe.contentWindow,"*",r)}}))},n.prototype.Jv=function(){var t=this.rd();this.Uv.forEach((function(n){n.port?En.sendChannelMessage(n.port,t):n.iframe.contentWindow&&En.sendPostMessage(n.iframe.contentWindow,"*",t)}))},n.prototype.nd=function(t){return En.buildBaseMessage(An.Discovery,bn.Parent,this.U.projectId,t)},n.prototype.rd=function(){return En.buildBaseMessage(An.Stop,bn.Parent,this.U.projectId)},n.prototype.sd=function(t,n){var i=this,r=this.Uv.get(t);void 0!==r?(r.port=n,r.port.onmessage=function(t){i.od(t,r)}):kn.error("Parent received channel messaging initialization from unknow child id : ".concat(t," (").concat(this.Lv,")"))},n.prototype.ud=function(t){if(t.port){var n=En.buildBaseMessage(An.SensitiveStatus,bn.Parent,this.U.projectId),i=this.Fv();this.Bv(t)&&(i.started=!1,i.capturedElementSelector="",i.useAnonymization=!0),n.content=i,En.sendChannelMessage(t.port,n)}},n.prototype.ad=function(t){if(t.port){var n=En.buildBaseMessage(An.RecordingContext,bn.Parent,this.U.projectId),i=this.Vv();this.Bv(t)&&(i.isRecording=!1,i.isMutationTrackerStarted=!1),n.content=i,En.sendChannelMessage(t.port,n)}},n.prototype.od=function(t,n){if(void 0!==n){var i=t.data.type,r=t.data.content;i===An.EndOfBufferedMessages?(this.ud(n),this.ad(n),n.initialStatusSent=!0):this.Hv(n.iframe,i,r)}else kn.error("Parent received channelMessage from unknown child : ".concat(csJSON.stringify(t.data)))},n.prototype.qv=function(t){if(En.isMessageValid(t,bn.Child,this.U.projectId,this.U.hostnames))switch(t.data.type){case An.Discovery:if(void 0===t.data.id)return void this.$v();if(t.ports&&1===t.ports.length&&this.Uv.has(t.data.id))return void this.sd(t.data.id,t.ports[0]);kn.error("Parent received wrong channelMessage initialization : (".concat(t.origin,") : ").concat(csJSON.stringify(t.data)));break;case An.ChildLogMessage:this.Hv(null,An.ChildLogMessage,t.data.content);break;default:kn.warn("Parent received unexpected postMessage type from child (".concat(t.origin,") : ").concat(csJSON.stringify(t.data)))}},n.prototype.Bv=function(t){return _r.isMaskedElement(t.iframe)||_r.isMaskedElementChild(t.iframe)},n}(zr),Qh=function(){function t(t){this.ld=t}return t.prototype.buildApiErrors=function(t,n){var i=this.ld.collectDataPoints(t,n);if(null===i)return null;var r=this.vd(t,i);return n?{apiError:r,detailedApiError:this.dd(t,i)}:{apiError:r}},t.prototype.dd=function(t,n){var i=this.yd(t);return n.collectQueryParam&&t.queryParameters&&(i.queryParameters=t.queryParameters),n.collectRequestBody&&t.requestBody&&(i.requestBody=t.requestBody),n.collectResponseBody&&t.requestBody&&(i.responseBody=t.responseBody),Object.keys(n.standardRequestHeaders).length>0&&(i.standardRequestHeaders=n.standardRequestHeaders),Object.keys(n.standardResponseHeaders).length>0&&(i.standardResponseHeaders=n.standardResponseHeaders),Object.keys(n.customRequestHeaders).length>0&&(i.customRequestHeaders=csJSON.stringify(n.customRequestHeaders)),Object.keys(n.customResponseHeaders).length>0&&(i.customResponseHeaders=csJSON.stringify(n.customResponseHeaders)),Object.keys(n.plainCustomRequestHeaders).length>0&&(i.plainCustomRequestHeaders=n.plainCustomRequestHeaders),Object.keys(n.plainCustomResponseHeaders).length>0&&(i.plainCustomResponseHeaders=n.plainCustomResponseHeaders),n.plainResponseBodyAttributes&&Object.keys(n.plainResponseBodyAttributes).length>0&&(i.plainResponseBodyAttributes=n.plainResponseBodyAttributes),n.plainRequestBodyAttributes&&Object.keys(n.plainRequestBodyAttributes).length>0&&(i.plainRequestBodyAttributes=n.plainRequestBodyAttributes),Object.keys(n.responseBodyAttributes).length>0&&(i.responseBodyAttributes=csJSON.stringify(n.responseBodyAttributes)),Object.keys(n.requestBodyAttributes).length>0&&(i.requestBodyAttributes=csJSON.stringify(n.requestBodyAttributes)),i},t.prototype.yd=function(t){return{errorType:"apiError",url:t.url,method:t.method,requestTime:t.requestTime,responseTime:t.responseTime,statusCode:t.statusCode,library:t.library}},t.prototype.vd=function(t,n){var i=this.yd(t);return n.matchingBodyContents.length>0&&(i.matchingBodyContents=n.matchingBodyContents),Object.keys(n.plainResponseBodyAttributes).length>0&&(i.plainBodyResponseAttributes=n.plainResponseBodyAttributes),i},t}(),Zh=function(t){function n(n,i,r){var e=t.call(this)||this;return e.wd=n,e.pd=i,e.md=r,e.gd=0,e.Sd=new Qh(r),e}return Q(n,t),n.prototype.subscribe=function(n,i,r){(null==r?void 0:r.detailedEvent)&&(Object.defineProperty(i,"detailedEvent",{value:r.detailedEvent}),this.gd++),t.prototype.subscribe.call(this,n,i)},n.prototype.unsubscribe=function(n){var i;(null===(i=this.subscriptions[n])||void 0===i?void 0:i.hasOwnProperty("detailedEvent"))&&this.gd--,t.prototype.unsubscribe.call(this,n)},n.prototype.init=function(){var t=this,n=this.md.computeApiErrorCollectionOptions();this.wd.setCollectionOptions(n),this.wd.onEvent((function(n){return t.bd(n)})),this.pd.setCollectionOptions(n),this.pd.onEvent((function(n){return t.bd(n)}))},n.prototype.onStartTracking=function(){this.wd.start(),this.pd.start()},n.prototype.onStopTracking=function(){this.wd.stop(),this.pd.stop()},n.prototype.bd=function(t){var n=this.Sd.buildApiErrors(t,0!==this.gd);if(n)for(var i in this.subscriptions){var r=this.subscriptions[i];r.hasOwnProperty("detailedEvent")?n.detailedApiError&&r(n.detailedApiError):r(n.apiError)}},n}(Gh),ta=function(){function t(t,n){this.ta=t,this.pu=n}return t.prototype.addUrlMaskingPattern=function(t){this.ta.addUrlMaskingPattern(t)},t.prototype.anonymize=function(t){var n=this.pu.removeQueryString(t.url);return Z(Z({},t),{url:this.pu.anonymizeUrl(n,this.ta.getUrlMaskingPatterns(),this.ta.getPartialUrlMaskingPatterns()),library:t.library?this.pu.anonymizeUrl(t.library,this.ta.getUrlMaskingPatterns(),this.ta.getPartialUrlMaskingPatterns()):void 0})},t}(),na=function(){function t(t,n){this.j=t,this.ot=n}return t.prototype.anonymize=function(t){return jt(t.message)&&(t.message=this.Ad(t.message),t.message=this.j.anonymizePII(t.message)),jt(t.filename)&&(t.filename=this.ot.computeOverriddenUrl(t.filename)),t},t.prototype.Ad=function(t){return csString.prototype.replace.call(t,/(value\s*=\s*".*"|value\s*=\s*'.*')/,"value='".concat("CS_ANONYMIZED_VALUE","'"))},t}(),ia=function(t){function n(n){var i=t.call(this)||this;return i.Ed=n,i.ys=[{boundElement:document,type:"touchstart",listener:function(t){return i.Ve(t)}},{boundElement:document,type:"touchmove",listener:function(t){return i.Ve(t)}},{boundElement:document,type:"touchend",listener:function(t){return i.Ve(t)}}],i.Rd=new Oo,i.Rd.onGesture((function(t,n){return i.Mc(t,n)})),i}return a(n,t),n.prototype.Mc=function(t,n){for(var i in this.subscriptions){(0,this.subscriptions[i])(t,n)}},n.prototype.onStartTracking=function(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.ys,(function(t){return hr(t)}))},n.prototype.onStopTracking=function(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.ys,(function(t){return ar(t)}))},n.prototype.canDetectGesture=function(){return void 0!==window.devicePixelRatio},n.prototype.Ve=function(t){var n=this;this.Ed.tryToExecute("process gesture event",(function(){if(n.Rd.isValidTouchEvent(t))switch(t.type){case"touchstart":n.Rd.processActionDown(t);break;case"touchmove":n.Rd.processActionMove();break;case"touchend":n.Rd.processActionUp(t)}}))()},n.isSwipe=function(t){return t.type===bo.FLICK||t.type===bo.DRAG},n}(Gh),ra=function(t){function n(n,i){var r=t.call(this)||this;return r.le=n,r.Td=i,r.Od=0,r}return Q(n,t),n.prototype.onStart=function(){var t=this;kn.isPerfLoggingActive()&&(this.Nd=window.csSetInterval((function(){return t.kd()}),n.Cd))},n.prototype.onStop=function(){kn.isPerfLoggingActive()&&(this.kd(),csClearInterval(this.Nd))},n.prototype.kd=function(){if(!(Jn.isEmpty||this.Od>=n.Id)){this.Od++;var t=Z({a:n._d,l:n.xd},this.Td.getRequestParameters()),i=[];Jn.forEach((function(n){csArray.prototype.forEach.call(n,(function(n){csArray.prototype.push.call(i,Z(Z({},n),t))}))})),this.le.send(i),Jn.clear()}},n._d="uxa",n.xd="perf",n.Cd=5e3,n.Id=5,n}(zr),ea=function(){function t(t,n,i){this.U=t,this.Td=n,this.ea=i}return t.prototype.init=function(){this.Pd=new ra(this.ea.create(this.U.getLoggerUri(),!0),this.Td)},t.prototype.onStartTracking=function(){this.Pd.start()},t.prototype.onOptout=function(){this.Pd.stop()},t}(),sa=function(){function t(t){this.gl=t,this.Md=!1}return t.prototype.enableRecordingContext=function(t,n,i,r){this.Md=!0,this.qa=t,this.K=n,this.fe=i,this.va=r},t.prototype.getRecordingContext=function(){var t,n,i,r;if(!this.Md)return{isRecording:!1,recordingStartTimestamp:0,etrState:Ai.ETR_OFF,etrStatus:Ri.ETR_DISABLED,collectState:bi.ANALYTICS_ONLY};var e=this.K.getSession();return{isRecording:this.qa.isRecording(),isMutationTrackerStarted:this.qa.isStarted,useAnonymization:this.gl.getSensitiveStatus().useAnonymization,encryptionSelectors:null===(t=this.fe)||void 0===t?void 0:t.getEncryptionSelectors(),activateOnlineAssetsOnNextStart:null===(n=this.qa.getStaticResourceManagerStatus())||void 0===n?void 0:n.onlineAssets.enabledForChildrenOnNextStart,recordingStartTimestamp:parseInt(this.qa.getRecordingStartTimestamp(),10),etrState:null!==(i=null==e?void 0:e.etrState)&&void 0!==i?i:Ai.ETR_OFF,etrStatus:this.va.getEtrStatus(e),collectState:null!==(r=null==e?void 0:e.collectState)&&void 0!==r?r:bi.ANALYTICS_ONLY}},t}(),oa=function(){function t(){}return t.isRecordingSupported=function(){return"MutationObserver"in window&&"visibilityState"in document},t.isAsyncSerializationSupported=function(){return"Promise"in window&&"findIndex"in csArray.prototype},t}(),ua=function(t){function n(n,i,r,e){var s=t.call(this)||this;return s.he=n,s.Dd=i,s.Dh=r,s.ae=e,s.Ld=[],s.Re=0,s}return Q(n,t),n.prototype.init=function(){this.he.init()},n.prototype.initStates=function(){this.Ud(),this.Ld=[],this.Re=0,this.ul()},n.prototype.ul=function(){this.ll=Xt()},n.prototype.al=function(){return Xt()-this.ll},n.prototype.onStart=function(){var t=this;this.he.subscribe(n.Xe,(function(n){return t.Ve(n)}))},n.prototype.onStop=function(){this.he.unsubscribe(n.Xe)},n.prototype.onIframeApiError=function(t){this.Ve(t)},n.prototype.Ve=function(t){this.isStarted&&this.Re<n.Yh&&(t.relativeTime=this.al(),csArray.prototype.push.call(this.Ld,this.ae.anonymize(t)),this.jd())},n.prototype.Ud=function(){this.Dd.removeQueryParams(),this.Dd.setQueryParams(this.Dh.getRequestParameters())},n.prototype.jd=function(){this.Dd.send({errors:this.Ld}),this.Ld=[],this.Re+=1},n.Xe="ApiErrorsService",n.Yh=20,n}(zr),ca=["api-errors:maskUrl"],ha=function(){function t(t,n,i,r,e,s,o){this.he=t,this.ae=n,this.U=i,this.Dh=r,this.Pa=e,this.Qh=s,this.ea=o}return t.prototype.init=function(){var t=this.ea.create("".concat(this.U.getTrackerUri(),"/").concat("api-errors"),!0);this.qd=new ua(this.he,t,this.Dh,this.ae),this.qd.init(),this.Pa.addListener(this.qd),this.Hd()},t.prototype.Hd=function(){var t=this;this.Qh.register(ca,(function(n){jt(n)&&t.ae.addUrlMaskingPattern(n)}))},t.prototype.onStartTracking=function(){this.qd.start()},t.prototype.onAfterNaturalPageView=function(){this.qd.initStates()},t.prototype.onAfterArtificialPageView=function(){this.qd.initStates()},t.prototype.onBeforeSessionRenewal=function(){this.qd.stop()},t.prototype.onOptout=function(){this.qd.stop()},t}(),aa=function(t){function n(n,i,r,e,s,o){var u=t.call(this)||this;return u.Vd=n,u.Fd=i,u.Dh=r,u.ce=e,u.na=s,u.ot=o,u.Bd=[],u.Xh=0,u.zd=[],u}return Q(n,t),n.prototype.initStates=function(){this.ll=Xt(),this.Fd.removeQueryParams(),this.Fd.setQueryParams(this.Dh.getRequestParameters()),this.Bd=[],this.Xh=0},n.prototype.onStart=function(){var t=this;this.Vd.subscribe(n.Xe,(function(n){return t.Ve(n)})),this.Gd()},n.prototype.onStop=function(){this.Vd.unsubscribe(n.Xe)},n.prototype.onIframeJavascriptError=function(t){this.Ve(t)},n.prototype.trackCustomError=function(t){var n={errorType:"jsError",message:"".concat("Custom Error:"," ").concat(t),lineno:1,colno:1,filename:"https://cserror.com/texterror.js"};this.$d(n)},n.prototype.$d=function(t){if(this.isStarted){var n=this.Ve(t);n&&this.na.emitCustomJavaScriptErrorEvent(n)}else csArray.prototype.push.call(this.zd,t)},n.prototype.Gd=function(){var t=this;this.isStarted&&(csArray.prototype.forEach.call(this.zd,(function(n){return t.$d(n)})),this.zd=[])},n.prototype.Ve=function(t){if(this.isStarted&&this.Xh<20){var n=Z(Z({},t),{pageUrl:this.ot.getAnonymizedUrl(),rt:this.al()});return this.ce.anonymize(n),csArray.prototype.push.call(this.Bd,n),this.jd(),n}return null},n.prototype.al=function(){return Xt()-this.ll},n.prototype.jd=function(){this.Fd.send({errors:this.Bd}),this.Bd=[],this.Xh+=1},n.Xe="JavaScriptErrorsService",n}(zr),fa=["trackError"],la=function(){function t(t,n,i,r,e,s,o,u,c){this.Vd=t,this.ce=n,this.U=i,this.Dh=r,this.Pa=e,this.Qh=s,this.na=o,this.ot=u,this.ea=c}return t.prototype.init=function(){var t=this.ea.create("".concat(this.U.getTrackerUri(),"/").concat("errors"),!0);this.Jd=new aa(this.Vd,t,this.Dh,this.ce,this.na,this.ot),this.Pa.addListener(this.Jd),this.Hd()},t.prototype.Hd=function(){var t=this;this.U.jsCustomErrorsEnabled&&!this.U.customErrors.enabled&&this.Qh.register(fa,(function(n){t.Jd.trackCustomError(n)}))},t.prototype.onStartTracking=function(){this.Jd.start()},t.prototype.onAfterNaturalPageView=function(){this.Jd.initStates()},t.prototype.onAfterArtificialPageView=function(){this.Jd.initStates()},t.prototype.onBeforeSessionRenewal=function(){this.Jd.stop()},t.prototype.onOptout=function(){this.Jd.stop()},t}(),va=function(){function t(){this.Wd=ih.Natural}return t.prototype.setPageViewType=function(t){this.Wd=t},t.prototype.getPageViewType=function(){return this.Wd},t.prototype.getRequestParameters=function(){return{pvt:this.Wd}},t}(),da=function(){function t(t){this.ue=t}return t.prototype.onAfterVisitorRenewal=function(){this.ue.renewSession()},t}();!function(t){t.replayRecordingUnmaskedUrlRegex="replayRecordingUnmaskedUrlRegex",t.replayRecordingMaskedUrlRegex="replayRecordingMaskedUrlRegex",t.replayRecordingUnmaskedUrlRegexRules="replayRecordingUnmaskedUrlRegexRules",t.replayRecordingMaskedUrlRegexRules="replayRecordingMaskedUrlRegexRules"}(jh||(jh={})),function(t){t.START="start",t.NOT_START="not-start",t.END="end",t.NOT_END="not-end",t.CONTAIN="contain",t.NOT_CONTAIN="not-contain",t.EXACT="exact",t.NOT_EXACT="not-exact"}(qh||(qh={}));var ya,wa,pa=function(){function t(t,n,i,r){this.Bl=t,this.U=n,this.ot=i,this.Yd=r}return t.prototype.init=function(){this.Xd()},t.prototype.shouldMaskNonTextElements=function(){return this.U.isSMB&&this.U.anonymisationMethod===jh.replayRecordingMaskedUrlRegexRules&&this.shouldUseAnonymization()},t.prototype.shouldUseAnonymization=function(){if(this.Bl.isReplayUnanonymizedAllowedByConsent()){switch(this.U.anonymisationMethod){case null:case jh.replayRecordingMaskedUrlRegex:return!(!this.U.replayRecordingMaskedUrlRegex||!this.U.replayRecordingMaskedUrlRegex.test(this.ot.getAnonymizedUrl()));case jh.replayRecordingMaskedUrlRegexRules:return this.Yd.evaluateUrl(this.ot.getAnonymizedUrl())}return!1}switch(this.U.anonymisationMethod){case null:case jh.replayRecordingUnmaskedUrlRegex:return!(this.U.replayRecordingUnmaskedUrlRegex&&this.U.replayRecordingUnmaskedUrlRegex.test(this.ot.getAnonymizedUrl()));case jh.replayRecordingUnmaskedUrlRegexRules:return!this.Yd.evaluateUrl(this.ot.getAnonymizedUrl())}return!0},t.prototype.Xd=function(){this.U.anonymisationMethod===jh.replayRecordingMaskedUrlRegexRules&&this.U.replayRecordingMaskedUrlRegexRules?this.Yd.setRegexRules(this.U.replayRecordingMaskedUrlRegexRules):this.U.anonymisationMethod===jh.replayRecordingUnmaskedUrlRegexRules&&this.U.replayRecordingUnmaskedUrlRegexRules&&this.Yd.setRegexRules(this.U.replayRecordingUnmaskedUrlRegexRules)},t}(),ma=function(){function t(){this.Kd=[]}return t.prototype.setRegexRules=function(t){var n=this;this.Kd=csArray.prototype.map.call(t,(function(t){return n.Qd(t)}))},t.prototype.evaluateUrl=function(t){var n=this;return csArray.prototype.some.call(this.Kd,(function(i){var r,e,s=n.Zd(t,i);return(null==i?void 0:i.notOperator)?!(null===(r=i.regex)||void 0===r?void 0:r.test(s)):null===(e=i.regex)||void 0===e?void 0:e.test(s)}))},t.prototype.Zd=function(t,n){var i=gn(t);return i?n.ignoreQueryParams&&n.ignoreURIFragments?"".concat(i.origin).concat(i.pathname):n.ignoreQueryParams?"".concat(i.origin).concat(i.pathname).concat(i.hash):n.ignoreURIFragments?"".concat(i.origin).concat(i.pathname).concat(i.search):t:t},t.prototype.ty=function(t){return t.ignoreCaseSensitivity?"i":""},t.prototype.Qd=function(t){switch(t.operator){case qh.NOT_START:t.notOperator=!0;case qh.START:t.regex=new csRegExp("^".concat(t.value),this.ty(t));break;case qh.NOT_END:t.notOperator=!0;case qh.END:t.regex=new csRegExp("".concat(t.value,"$"),this.ty(t));break;case qh.NOT_CONTAIN:t.notOperator=!0;case qh.CONTAIN:t.regex=new csRegExp("".concat(t.value),this.ty(t));break;case qh.NOT_EXACT:t.notOperator=!0;case qh.EXACT:t.regex=new csRegExp("^".concat(t.value,"$"),this.ty(t));break;default:kn.warn("buildRegexWithRule, unknown type: ".concat(t.operator))}return t},t}(),ga=function(){function t(){this.ny=["application/json","application/graphql","application/xml","text/plain","text/csv","text/html","text/xml","text/javascript"]}return t.prototype.setCollectionOptions=function(t){this.iy=t},t.prototype.isValidBodyType=function(t){var n=t["content-type"];if(!n)return!1;var i=csString.prototype.toLocaleLowerCase.call(n);return pi(this.ny,(function(t){return ht(i,t)}))},t.prototype.canCollect=function(t,n){return this.ey(t,n)&&this.sy(n)},t.prototype.ey=function(t,n){return t>=400||t>=200&&t<300&&this.iy.statusCodes.has(t)&&this.oy(n)},t.prototype.oy=function(t){return pi(this.iy.urls,(function(n){return-1!==csString.prototype.indexOf.call(t,n)}))},t.prototype.sy=function(t){return function(t,n){for(var i=t.length,r=0;r<i;r++)if(!n(t[r],r))return!1;return!0}(this.iy.excludedDomains,(function(n){return-1===csString.prototype.indexOf.call(t,n)}))},t}(),Sa=function(t){function n(){var n=t.call(this)||this;return n.uy=csSymbol("ApiCall"),n.Ci=!1,n.hy=null,n.ly=null,n.vy=null,n.yy=function(t){var i=t.context,r=t.args,e=t.callerName;return n.interceptOpen(i,r,e)},n.wy=function(t){var i=t.context,r=t.args;return n.interceptSetRequestHeader(i,r)},n.py=function(t){var i=t.context,r=t.args;return n.interceptSend(i,r)},n}return Q(n,t),n.prototype.onEvent=function(t){this.ws=t},n.prototype.start=function(){this.Ci||(this.my(),this.hy&&this.hy.activate(),this.ly&&this.ly.activate(),this.vy&&this.vy.activate(),this.Ci=!0)},n.prototype.stop=function(){this.Ci&&(this.hy&&this.hy.deactivate(),this.ly&&this.ly.deactivate(),this.Ci=!1)},n.prototype.my=function(){this.hy||(this.hy=sr({target:XMLHttpRequest.prototype,methodName:"open",hook:this.yy,options:{withCallerName:!0}})),this.ly||(this.ly=sr({target:XMLHttpRequest.prototype,methodName:"setRequestHeader",hook:this.wy})),this.vy||(this.vy=sr({target:XMLHttpRequest.prototype,methodName:"send",hook:this.py}))},n.prototype.interceptOpen=function(t,n,i){var r=this;if(n[1]&&jt(n[1])){var e=st(csString.prototype.split.call(n[1],"?"),2),s=e[0],o=e[1];t[this.uy]={library:i,requestTime:Xt(),method:n[0],url:dn(s),queryParameters:o,statusCode:0,responseHeaders:{},requestHeaders:{},responseBody:"",requestBody:""},t.addEventListener("readystatechange",(function(){return r.readyStateChangeListener(t)}))}},n.prototype.readyStateChangeListener=function(n){n[this.uy]&&n.readyState===XMLHttpRequest.DONE&&this.canCollect(n.status,n[this.uy].url)&&(n[this.uy].responseTime=Xt(),n[this.uy].statusCode=n.status,n[this.uy].responseHeaders=this.gy(n.getAllResponseHeaders()),!t.prototype.isValidBodyType.call(this,n[this.uy].responseHeaders)||""!==n.responseType&&"text"!==n.responseType||(n[this.uy].responseBody=n.responseText),this.ws(n[this.uy]))},n.prototype.interceptSetRequestHeader=function(t,n){if(t[this.uy]){var i=n[0],r=csString.prototype.valueOf.call(new csString(n[1]));"string"==typeof i&&0!==r.length&&(i=csString.prototype.toLowerCase.call(csString.prototype.trim.call(i)),r=csString.prototype.trim.call(r),t[this.uy].requestHeaders[i]?t[this.uy].requestHeaders[i]+=", ".concat(r):t[this.uy].requestHeaders[i]=r)}},n.prototype.interceptSend=function(n,i){n[this.uy]&&t.prototype.isValidBodyType.call(this,n[this.uy].requestHeaders)&&"string"==typeof i[0]&&(n[this.uy].requestBody=i[0])},n.prototype.gy=function(t){var n={};return csArray.prototype.forEach.call(csString.prototype.split.call(t,/[\r\n]+/),(function(t){var i=st(csString.prototype.split.call(t,/:\s*/),2),r=i[0],e=i[1];e&&(n[csString.prototype.toLowerCase.call(r)]=csString.prototype.trim.call(e))})),n},nt([qn("XhrRequestTracker.interceptOpen")],n.prototype,"interceptOpen",null),nt([qn("XhrRequestTracker.readyStateChangeListener")],n.prototype,"readyStateChangeListener",null),nt([qn("XhrRequestTracker.interceptSetRequestHeader")],n.prototype,"interceptSetRequestHeader",null),nt([qn("XhrRequestTracker.interceptSend")],n.prototype,"interceptSend",null),n}(ga),ba=function(t){function n(){var n=t.call(this)||this;return n.Ci=!1,n.Sy=null,n.by=function(t){var i=t.result,r=t.args,e=t.callerName;n.interceptFetch(i,r,e)},n}return Q(n,t),n.prototype.onEvent=function(t){this.ws=t},n.prototype.start=function(){this.Ci||this.Ay()&&(this.Ey(),this.Sy&&this.Sy.activate(),this.Ci=!0)},n.prototype.stop=function(){this.Ci&&(this.Sy&&this.Sy.deactivate(),this.Ci=!1)},n.prototype.Ay=function(){return!!window.fetch&&"function"==typeof window.fetch},n.prototype.Ry=function(t){if(t[0]&&"function"==typeof t[0].clone){var n=li(t);return n[0]=t[0].clone(),n}return t},n.prototype.Ey=function(){this.Sy||(this.Sy=sr({target:window,methodName:"fetch",hook:this.by,hookPrepareArgs:this.Ry,options:{withCallerName:!0}}))},n.prototype.interceptFetch=function(n,i,r){return it(this,void 0,void 0,(function(){var e,s,o,u,c,h,a,f,l,v,d,y,w,p;return rt(this,(function(m){switch(m.label){case 0:if(e=i[0],s=i[1],!jt((o=new Request(e,s)).url))return[2];u=Xt(),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,n];case 2:return c=m.sent(),[3,4];case 3:if(h=m.sent(),this.Ty(h)||this.Oy(h)||this.Ny(h))return[2];throw h;case 4:if(a=st(csString.prototype.split.call(o.url,"?"),2),f=a[0],l=a[1],v=dn(f),!t.prototype.canCollect.call(this,c.status,v))return[3,11];if(d={library:r,method:o.method,url:v,queryParameters:l,requestTime:u,responseTime:Xt(),statusCode:c.status,requestBody:"",responseBody:"",requestHeaders:this.ky(o.headers),responseHeaders:this.ky(c.headers)},c.bodyUsed||!t.prototype.isValidBodyType.call(this,d.responseHeaders))return[3,8];m.label=5;case 5:return m.trys.push([5,7,,8]),y=d,[4,c.clone().text()];case 6:return y.responseBody=m.sent(),[3,8];case 7:return w=m.sent(),this.Oy(w)?[2]:[3,8];case 8:return t.prototype.isValidBodyType.call(this,d.requestHeaders)?(p=d,[4,o.text()]):[3,10];case 9:p.requestBody=m.sent(),m.label=10;case 10:this.ws(d),m.label=11;case 11:return[2]}}))}))},n.prototype.Ty=function(t){return t instanceof TypeError},n.prototype.Oy=function(t){return t instanceof DOMException&&"AbortError"===t.name},n.prototype.Ny=function(t){return t instanceof DOMException&&csArray.prototype.some.call(n.Cy,(function(n){return n===t.name}))},n.prototype.ky=function(t){var n={};return t.forEach((function(t,i){t&&(n[csString.prototype.toLowerCase.call(i)]=csString.prototype.trim.call(t))})),n},n.Cy=["NoModificationAllowedError","InvalidStateError","OperationError"],nt([qn("FetchRequestTracker.interceptFetch")],n.prototype,"interceptFetch",null),n}(ga),Aa=function(){function t(){this.Iy=64e3,this._y=5e3,this.xy=2e3,this.Py=8e3,this.Uu=!!self.TextEncoder,this.Uu&&(this.My=new TextEncoder)}return t.prototype.Dy=function(t){return this.My.encode(t).byteLength},t.prototype.Ly=function(n,i,r){var e=0;n[i]&&(e+=this.Dy(n[i]))>this.Py&&(e=0,n[i]=ds.ELLIPSIS),n[r]&&(e+=this.Dy(csJSON.stringify(n[r])))>this.Py&&(n[r]=t.truncatedObjectMarker)},t.prototype.Uy=function(t){t.queryParameters&&this.Dy(t.queryParameters)>this.xy&&(t.queryParameters=ds.ELLIPSIS)},t.prototype.jy=function(t){t.requestBody&&this.Dy(t.requestBody)>this.Iy&&(t.requestBody=ds.ELLIPSIS),t.responseBody&&this.Dy(t.responseBody)>this._y&&(t.responseBody=ds.ELLIPSIS)},t.prototype.truncate=function(t){this.Uu?(this.Uy(t),this.jy(t),this.Ly(t,"customResponseHeaders","plainCustomResponseHeaders"),this.Ly(t,"customRequestHeaders","plainCustomRequestHeaders")):(t.queryParameters="",t.requestBody="",t.responseBody="",t.customResponseHeaders="",t.customRequestHeaders="",t.plainCustomResponseHeaders={},t.plainCustomRequestHeaders={})},t.truncatedObjectMarker=((ya={})[ds.ELLIPSIS]=ds.ELLIPSIS,ya),t}();!function(t){t.isValidJSONPath=function(t){if(!t)return!0;if(!function(t){for(var n=[],i=0;i<t.length;++i)if("["===t[i])csArray.prototype.push.call(n,t[i]);else if("]"===t[i]){if(!(csString.prototype.indexOf.call(t,"[")>-1))return!1;csArray.prototype.pop.call(n)}return 0===n.length}(t))return!1;var n=csString.prototype.split.call(t,/[\[\]]/);return csArray.prototype.every.call(n,(function(t){var n=t[0],i=t[t.length-1];if(("'"===n||'"'===n)&&n!==i)return!1;var r=csString.prototype.split.call(t,".");return 0===r[0].length&&csArray.prototype.shift.call(r),csArray.prototype.every.call(r,(function(t){var n=/^\-?\d+$/.exec(t);return n?parseInt(n[0],10)>=0:"$"===t||/\w+/.test(t)}))}))},t.getJSONPathValue=function(t,n){var i,r;if(t){var e=csString.prototype.split.call(t,/[\$\[\]]/),s=[];csArray.prototype.forEach.call(e,(function(t){var n;"'"!==t[0]&&'"'!==t[0]?(n=csArray.prototype.push).call.apply(n,Un([s],Ln(csArray.prototype.filter.call(csString.prototype.split.call(t,"."),(function(t){return t.length>0}))),!1)):csArray.prototype.push.call(s,csString.prototype.substring.call(t,1,t.length-1))})),"$"===s[0]&&csArray.prototype.shift.call(s);var o=n;try{for(var u=Dn(s),c=u.next();!c.done;c=u.next()){var h=c.value;if(void 0===o[h])return;o=o[h]}}catch(t){i={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return o}}}(wa||(wa={}));var Ea,Ra=function(){function t(){this.qy=new Set(["age","cache-control","clear-site-data","expires","pragma","warning","downlink","ect","rtt","last-modified","connection","keep-alive","accept","accept-encoding","accept-language","expect","access-control-allow-origin","access-control-allow-credentials","access-control-allow-headers","access-control-allow-methods","access-control-expose-headers","access-control-max-age","access-control-request-headers","access-control-request-method","origin","timing-allow-origin","content-length","content-type","content-encoding","content-language","via","host","referrer-policy","user-agent","allow","server","accept-ranges","range","if-range","content-range","cross-origin-embedder-policy","cross-origin-opener-policy","cross-origin-resource-policy","content-security-policy","content-security-policy-report-only","expect-ct","feature-policy","strict-transport-security","upgrade-insecure-requests","x-content-type-options","x-download-options","x-frame-options","x-permitted-cross-domain-policies","x-powered-by","x-xss-protection","sec-fetch-site","sec-fetch-mode","sec-fetch-user","sec-fetch-dest"])}return t.prototype.isValidStandardHeader=function(t){return this.qy.has(t)},t}(),Ta=function(){function t(){this.Hy=64e3,this.Vy=100,this.Fy={collectQueryParam:!1,collectRequestBody:!1,collectResponseBody:!1,matchingBodyContents:[],plainResponseBodyAttributes:{},plainRequestBodyAttributes:{},requestBodyAttributes:{},responseBodyAttributes:{},standardRequestHeaders:{},standardResponseHeaders:{},customRequestHeaders:{},customResponseHeaders:{},plainCustomRequestHeaders:{},plainCustomResponseHeaders:{}},this.By=new Ra}return t.prototype.zy=function(t){return t.length<=this.Hy},t.prototype.Gy=function(t){var n=t["content-type"];return void 0!==n&&(nn(n,"application/json")||nn(n,"application/graphql"))},t.prototype.$y=function(t,n){return t&&this.zy(t)&&this.Gy(n)},t.prototype.Jy=function(t,n,i,r){var e="request"===r?this.Wy:this.Yy;if(void 0!==e||this.$y(n,i)){if(void 0===e)try{e=csJSON.parse(n),"request"===r?this.Wy=e:this.Yy=e}catch(t){return}var s=wa.getJSONPathValue(t,e);if(void 0!==s&&(null===s||!Ht(s))){var o=jt(s)?s:csJSON.stringify(s);return ds.truncate(o,this.Vy,ds.ELLIPSIS)}}},t.prototype.isBodyAttributeValueFound=function(t,n){var i,r;return"request-response"!==n.type&&"response"!==n.type||(i=this.Jy(n.path,t.responseBody,t.responseHeaders,"response")),"request-response"!==n.type&&"request"!==n.type||(r=this.Jy(n.path,t.requestBody,t.requestHeaders,"request")),Vt(i)||Vt(r)},t.prototype.collectBodyAttribute=function(t,n,i){var r;"request-response"!==n.type&&"response"!==n.type||(r=this.Jy(n.path,t.responseBody,t.responseHeaders,"response"))&&(n.encrypted?this.Fy.responseBodyAttributes[n.path]=r:(r=i(r),this.Fy.plainResponseBodyAttributes[n.path]=r)),"request-response"!==n.type&&"request"!==n.type||(r=this.Jy(n.path,t.requestBody,t.requestHeaders,"request"))&&(n.encrypted?r&&(this.Fy.requestBodyAttributes[n.path]=r):(r=i(r),this.Fy.plainRequestBodyAttributes[n.path]=r))},t.prototype.isBodyContentMatching=function(t,n){return!!t.responseBody&&!!new csRegExp(n,"i").test(t.responseBody)},t.prototype.collectBodyContent=function(t){-1===csArray.prototype.indexOf.call(this.Fy.matchingBodyContents,t)&&csArray.prototype.push.call(this.Fy.matchingBodyContents,t)},t.prototype.collectCustomHeaders=function(t,n,i){var r=csString.prototype.toLocaleLowerCase.call(n.headerName);!t.responseHeaders[r]||"request-response"!==n.type&&"response"!==n.type||(n.encrypted?this.Fy.customResponseHeaders[r]=t.responseHeaders[r]:this.Fy.plainCustomResponseHeaders[r]=i(t.responseHeaders[r])),!t.requestHeaders[r]||"request-response"!==n.type&&"request"!==n.type||(n.encrypted?this.Fy.customRequestHeaders[r]=t.requestHeaders[r]:this.Fy.plainCustomRequestHeaders[r]=i(t.requestHeaders[r]))},t.prototype.collectStandardHeaders=function(t){var n,i,r,e;if(!(Object.keys(this.Fy.standardRequestHeaders).length>0||Object.keys(this.Fy.standardResponseHeaders).length>0)){try{for(var s=et(Object.entries(t.requestHeaders)),o=s.next();!o.done;o=s.next()){var u=st(o.value,2),c=u[0],h=u[1];this.By.isValidStandardHeader(c)&&(this.Fy.standardRequestHeaders[c]=h)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}try{for(var a=et(Object.entries(t.responseHeaders)),f=a.next();!f.done;f=a.next()){var l=st(f.value,2),v=l[0];h=l[1];this.By.isValidStandardHeader(v)&&(this.Fy.standardResponseHeaders[v]=h)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(e=a.return)&&e.call(a)}finally{if(r)throw r.error}}}},t.prototype.setCollectQueryParam=function(t){t&&(this.Fy.collectQueryParam=!0)},t.prototype.setCollectResponseBody=function(t){t&&(this.Fy.collectResponseBody=!0)},t.prototype.setCollectRequestBody=function(t){t&&(this.Fy.collectRequestBody=!0)},t.prototype.getCollectedDataPoints=function(){return this.Fy},t}();!function(t){t.CONTENTSQUARE="contentsquare.net",t.CLICKTALE="clicktale.net",t.FAKE_TRACKER="fake-tracker.content-square.fr"}(Ea||(Ea={}));var Oa,Na=function(){function t(){}return t.prototype.computeApiErrorCollectionOptions=function(){var t,n,i=new Set,r=[];if(this.rules)try{for(var e=et(this.rules),s=e.next();!s.done;s=e.next()){var o=s.value;void 0!==o.statusCode&&i.add(o.statusCode),void 0!==o.url&&-1===csArray.prototype.indexOf.call(r,o.url)&&csArray.prototype.push.call(r,o.url)}}catch(n){t={error:n}}finally{try{s&&!s.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}var u=[Ea.CONTENTSQUARE,Ea.CLICKTALE];return csArray.prototype.push.call(u,Ea.FAKE_TRACKER),{statusCodes:i,urls:r,excludedDomains:u}},t}(),ka=function(t){function n(n,i){var r=t.call(this)||this;return r.Xy=n,r.j=i,r.rules=n.collectionRules,r}return Q(n,t),n.prototype.collectDataPoints=function(t,n){var i,r;this.Fy=new Ta;var e=!1;if(this.Xy.collectionRules)try{for(var s=et(this.Xy.collectionRules),o=s.next();!o.done;o=s.next()){var u=o.value;this.Ky(u,t)&&this.Qy(u,t)&&this.Zy(u,t)&&(e=!0,this.tw(t,u,n))}}catch(t){i={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return e||(e=this.nw(t)),e&&n&&this.Xy.collectStandardHeaders&&this.Fy.collectStandardHeaders(t),e?this.Fy.getCollectedDataPoints():null},n.prototype.computeApiErrorCollectionOptions=function(){var t,n,i=this.Xy.collectionRules||[],r=new Set,e=[];try{for(var s=et(i),o=s.next();!o.done;o=s.next()){var u=o.value;void 0!==u.statusCode&&r.add(u.statusCode),void 0!==u.url&&-1===csArray.prototype.indexOf.call(e,u.url)&&csArray.prototype.push.call(e,u.url)}}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var c=[Ea.CONTENTSQUARE,Ea.CLICKTALE];return csArray.prototype.push.call(c,Ea.FAKE_TRACKER),{statusCodes:r,urls:e,excludedDomains:c}},n.prototype.Ky=function(t,n){return(!t.statusCode&&n.statusCode>=400||void 0!==t.statusCode&&t.statusCode===n.statusCode)&&(!t.url||-1!==csString.prototype.indexOf.call(n.url,t.url))},n.prototype.Qy=function(t,n){return!t.bodyContent||this.Fy.isBodyContentMatching(n,t.bodyContent)},n.prototype.Zy=function(t,n){var i=csArray.prototype.find.call(t.bodyAttributePaths,(function(t){return t.primary}));return void 0===i||this.Fy.isBodyAttributeValueFound(n,i)},n.prototype.nw=function(t){return t.statusCode>=400},n.prototype.tw=function(t,n,i){var r,e,s,o,u=this;n.bodyContent&&this.Fy.collectBodyContent(n.bodyContent);var c=wi(n.bodyAttributePaths,(function(t){return 1===t.primary}));if(c&&this.Fy.collectBodyAttribute(t,c,(function(t){return u.j.anonymizePII(t)})),i){this.Fy.setCollectQueryParam(n.collectQueryParam),this.Fy.setCollectResponseBody(n.collectResponseBody),this.Fy.setCollectRequestBody(n.collectRequestBody);try{for(var h=et(n.customHeaders),a=h.next();!a.done;a=h.next()){var f=a.value;this.Fy.collectCustomHeaders(t,f,(function(t){return u.j.anonymizePII(t)}))}}catch(t){r={error:t}}finally{try{a&&!a.done&&(e=h.return)&&e.call(h)}finally{if(r)throw r.error}}var l=mi(n.bodyAttributePaths,(function(t){return!t.primary}));try{for(var v=et(l),d=v.next();!d.done;d=v.next()){var y=d.value;this.Fy.collectBodyAttribute(t,y,(function(t){return u.j.anonymizePII(t)}))}}catch(t){s={error:t}}finally{try{d&&!d.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}}},n}(Na),Ca=function(t){function n(n,i){var r=t.call(this)||this;return r.Xy=n,r.j=i,r.rules=n.configurableApiErrorRules,r}return Q(n,t),n.prototype.collectDataPoints=function(t,n){this.Fy=new Ta;var i=this.iw(t,this.Xy.configurableApiErrorRules);return i.isMatching?(i.matchingBodyContents.length>0&&this.Fy.collectBodyContent(i.matchingBodyContents[0]),n&&this.rw(t),this.Fy.getCollectedDataPoints()):null},n.prototype.computeApiErrorCollectionOptions=function(){var t,n,i=this.Xy.configurableApiErrorRules||[],r=new Set,e=[];try{for(var s=et(i),o=s.next();!o.done;o=s.next()){var u=o.value;void 0!==u.statusCode&&r.add(u.statusCode),void 0!==u.url&&-1===csArray.prototype.indexOf.call(e,u.url)&&csArray.prototype.push.call(e,u.url)}}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var c=[Ea.CONTENTSQUARE,Ea.CLICKTALE];return csArray.prototype.push.call(c,Ea.FAKE_TRACKER),{statusCodes:r,urls:e,excludedDomains:c}},n.prototype.iw=function(t,n){var i,r;if(t.statusCode>=400)return{isMatching:!0,matchingBodyContents:[]};if(n)try{for(var e=et(n),s=e.next();!s.done;s=e.next()){var o=s.value;if(this.ew(t,o))return{isMatching:!0,matchingBodyContents:o.bodyContent?[o.bodyContent]:[]}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}return{isMatching:!1,matchingBodyContents:[]}},n.prototype.ew=function(t,n){return!(t.statusCode!==n.statusCode||-1===csString.prototype.indexOf.call(t.url,n.url)||n.bodyContent&&!this.Fy.isBodyContentMatching(t,n.bodyContent))},n.prototype.rw=function(t){this.Xy.collectStandardHeaders&&this.Fy.collectStandardHeaders(t),this.Xy.validCustomHeaders&&this.ow(t,this.Xy.validCustomHeaders,Number(!0)),this.Xy.plainCustomHeaders&&this.ow(t,this.Xy.plainCustomHeaders,Number(!1)),this.oy(t.url,this.Xy.validUrls)&&(this.Xy.collectQueryParam&&this.Fy.setCollectQueryParam(Number(this.Xy.collectQueryParam)),this.Xy.collectResponseBody&&this.Fy.setCollectResponseBody(Number(this.Xy.collectResponseBody)),this.Xy.collectRequestBody&&this.Fy.setCollectRequestBody(Number(this.Xy.collectRequestBody)))},n.prototype.ow=function(t,n,i){var r,e,s=this;try{for(var o=et(n),u=o.next();!u.done;u=o.next()){var c=u.value;this.Fy.collectCustomHeaders(t,{headerName:c,encrypted:i,type:"request-response"},(function(t){return s.j.anonymizePII(t)}))}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}},n.prototype.oy=function(t,n){return!!n&&csArray.prototype.some.call(n,(function(n){return-1!==csString.prototype.indexOf.call(t,n)}))},n}(Na),Ia=function(t){function n(n){var i=t.call(this)||this;return i.Cu=null,i.uw=null,i.Jn=null,i.Du=null,i.hw=["value","checked","src","data","alt"],i.aw={state:_r.MaskedElementState.Child},i.fw=function(t){var n,r;try{for(var e=y(t),s=e.next();!s.done;s=e.next()){var o=s.value;if(_r.isMaskedElement(o.target)||_r.isMaskedElementChild(o.target))for(var u=0;u<o.addedNodes.length;u+=1){var c=o.addedNodes[u];_r.isMaskedElement(c)||_r.isMaskedElementChild(c)||S(c)&&i.lw(c)}for(u=0;u<o.removedNodes.length;u+=1){var h=o.removedNodes[u];De.isConnected(h)||i.yw(h)}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}},i.pw=n,i}return a(n,t),n.prototype.setMaskedElementSettings=function(t){this.Iv=t},n.prototype.startIdentifier=function(){this.isStarted||(this.isStarted=!0,this.onStart())},n.prototype.stopIdentifier=function(){return this.isStarted=!1,this.onStop()},n.prototype.start=function(){},n.prototype.stop=function(){},n.prototype.onStart=function(){var t,n,i,r,e=this;this.Iv||(jn.error("maskedElementSettings not initialized","MaskedElementIdentifier.start"),this.Iv={elementSelector:"",attrSelector:"",attrSelectors:[]});var s=this.Iv,o=s.elementSelector,u=s.attrSelector,c=s.attrSelectors;null!==(t=this.Du)&&void 0!==t||(this.Du=this.mw()),0!==o.length&&(null!==(n=this.Cu)&&void 0!==n||(this.Cu=this.gw()),this.Cu.observe(o)),0!==u.length&&(null!==(i=this.uw)&&void 0!==i||(this.uw=this.Sw(c)),this.uw.observe(u)),null!==(r=this.Jn)&&void 0!==r||(this.Jn=new Ke(this.fw,(function(t,n){return"added"===n&&e.bw(t)}))),this.Jn.observe(),csSetTimeout(this.pw)},n.prototype.onStop=function(){var t,n,i;this.Cu&&(this.yw(document),this.Cu.disconnect()),null===(t=this.uw)||void 0===t||t.disconnect(),null===(n=this.Jn)||void 0===n||n.disconnect(),null===(i=this.Du)||void 0===i||i.disconnect()},n.prototype.mw=function(){var t=this;return window.ResizeObserver?new ResizeObserver((function(n){csArray.prototype.forEach.call(n,(function(n){t.resizeObserverCallback(n)}))})):null},n.prototype.gw=function(){var t=this;return new to((function(n){csArray.prototype.forEach.call(n,(function(n){t.Aw(n)?t.lw(n):(t.Ew(n),t.Rw(n))}))}))},n.prototype.Sw=function(t){var n=this;return new to((function(i){csArray.prototype.forEach.call(i,(function(i){return n.Tw(i,t)}))}))},n.prototype.resizeObserverCallback=function(t){var n=t.target.getBoundingClientRect(),i=_r.getMaskedElementDetails(t.target);if(i.state===_r.MaskedElementState.Parent&&(n.width!==i.width||n.height!==i.height)){var r={state:_r.MaskedElementState.Parent,width:n.width,height:n.height};_r.setMaskedElementProperty(t.target,r),this.produceEvent({type:"ResizeMaskedElement",target:Cr(t.target),width:n.width,height:n.height})}},n.prototype.Rw=function(t){this.Du&&S(t)&&!k(t)&&this.Du.observe(t)},n.prototype.Aw=function(t){var n=csNodeparentNode.apply(t);return n?_r.isMaskedElement(n)||_r.isMaskedElementChild(n):!!P(t)&&(_r.isMaskedElement(t.host)||_r.isMaskedElementChild(t.host))},n.prototype.bw=function(t){(_r.isMaskedElement(t.host)||_r.isMaskedElementChild(t.host))&&_r.setMaskedElementProperty(t,this.aw)},n.prototype.yw=function(t){Xi(t,NodeFilter.SHOW_ELEMENT).visitAll((function(t){_r.unsetMaskedElementProperty(t)}))},n.prototype.Ew=function(t){var n,i,r,e=this;if("function"!=typeof(null===(r=window.heap)||void 0===r?void 0:r.getUserId)){try{for(var s=y(["data-heap-redact-text","heap-ignore","data-heap-ignore","data-heap-redact-attributes"]),o=s.next();!o.done;o=s.next()){var u=o.value;t.hasAttribute(u)&&jn.critical('$[HEAP PII] Sensitive data detected", '.concat(u))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}}var c=t.getBoundingClientRect(),h={state:_r.MaskedElementState.Parent,width:c.width,height:c.height};_r.setMaskedElementProperty(t,h),this.Ow(t),Xi(t).visitAll((function(n){return n!=t&&_r.setMaskedElementProperty(n,e.aw)}))},n.prototype.lw=function(t){var n=this;_r.setMaskedElementProperty(t,this.aw),Xi(t).visitAll((function(i){return i!=t&&_r.setMaskedElementProperty(i,n.aw)}))},n.prototype.Ow=function(t){for(var n,i=null!==(n=Tr.getProperty(t,_r.maskedAttributeProp))&&void 0!==n?n:{attributes:[]},r=0;r<this.hw.length;r+=1){var e=this.hw[r];-1===csArray.prototype.indexOf.call(i.attributes,e)&&csArray.prototype.push.call(i.attributes,e)}0!==i.attributes.length&&_r.setMaskedAttributeProperty(t,i)},n.prototype.Tw=function(t,n){for(var i,r=null!==(i=Tr.getProperty(t,_r.maskedAttributeProp))&&void 0!==i?i:{attributes:[]},e=function(i){var e=t.attributes[i].name;-1===csArray.prototype.indexOf.call(r.attributes,e)&&csArray.prototype.some.call(n,(function(n){return csString.prototype.indexOf.call(n.attrName,e)>-1&&Pr.call(t,n.selector)}))&&csArray.prototype.push.call(r.attributes,e)},s=0;s<t.attributes.length;s+=1)e(s);0!==r.attributes.length&&_r.setMaskedAttributeProperty(t,r)},l([qn()],n.prototype,"resizeObserverCallback",null),n}(fs),_a=function(){function t(){var t=this;this.Nw=0,this.Ci=!1,this.kw="data-cs-capture",this.Cw=function(n){var i,r;try{for(var e=y(n),s=e.next();!s.done;s=e.next()){var o=s.value;if(Vs.isWhitelistedElement(o.target))for(var u=0;u<o.addedNodes.length;u+=1){var c=o.addedNodes[u];Vs.isWhitelistedElement(c)||S(c)&&t.Iw(c)}for(u=0;u<o.removedNodes.length;u+=1){var h=o.removedNodes[u];De.isConnected(h)||t._w(h)}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}}}return t.prototype.start=function(){this.Nw++,this.Ci||(this.Ci=!0,this.xw())},t.prototype.xw=function(){var t=this;this.Cu||(this.Cu=new to((function(n){return yi(n,(function(n){return t.Iw(n)}))})));var n=this.Pw?"[".concat(this.kw,"], ").concat(this.Pw):"[".concat(this.kw,"]");this.Cu.observe(n),this.Jn||(this.Jn=new Ke(this.Cw,(function(n,i){return"added"===i&&t.Mw(n)}))),this.Jn.observe()},t.prototype.stop=function(){this.Ci&&(this.Nw--,0===this.Nw&&(this.Ci=!1,this.Dw()))},t.prototype.Dw=function(){this.Cu&&(this._w(document),this.Cu.disconnect()),this.Jn&&this.Jn.disconnect()},t.prototype.setWhitelistedElementsSelector=function(t){this.Pw=t},t.prototype.getWhitelistedElementsSelector=function(){return this.Pw},t.prototype.Iw=function(t){Xi(t).visitAll((function(t){Vs.whitelistElement(t)}))},t.prototype.Mw=function(t){Vs.isWhitelistedElement(t.host)&&Vs.whitelistElement(t)},t.prototype._w=function(t){Xi(t,NodeFilter.SHOW_ELEMENT).visitAll((function(t){Vs.removeWhitelistElement(t)}))},t}(),xa=function(){function t(t,n,i,r){this.sa=t,this.nv=n,this.Lw=i,this.Uw=r}return t.prototype.getSensitiveStatus=function(){var t;return{started:this.Lw.isStarted,useAnonymization:this.sa.shouldUseAnonymization(),capturedElementSelector:this.Uw.getWhitelistedElementsSelector(),maskedElementSettings:this.nv.getMaskedElementSettings(null===(t=this.sa)||void 0===t?void 0:t.shouldMaskNonTextElements())}},t.prototype.getElementSensitiveStatus=function(t){var n=this.Lw.isStarted,i=this.sa.shouldUseAnonymization();return n?_r.isMaskedElement(t)||_r.isMaskedElementChild(t)?Kc.MASKED:i?Vs.isWhitelistedElement(t)?Kc.CAPTURED:Kc.ANONYMIZED:Kc.CAPTURED:Kc.ANONYMIZED},t}(),Pa=["setPIISelectors"],Ma=["setCapturedElementsSelector"],Da=function(){function t(t,n,i,r,e){this.hh=t,this.Qh=n,this.nv=i,this.Lw=r,this.Uw=e}return t.prototype.init=function(){this.Hd()},t.prototype.onStartTracking=function(t){this.Lw.start(),this.hh.emitSensitiveStatusChange()},t.prototype.onBeforeArtificialPageView=function(){this.Lw.stop(),this.hh.emitSensitiveStatusChange()},t.prototype.onAfterArtificialPageView=function(){this.Lw.start(),this.hh.emitSensitiveStatusChange()},t.prototype.onBeforeSessionRenewal=function(){this.Lw.stop(),this.hh.emitSensitiveStatusChange()},t.prototype.onOptout=function(){this.Lw.stop(),this.hh.emitSensitiveStatusChange()},t.prototype.onReplayUnanonymizationConsentGranted=function(){this.hh.emitSensitiveStatusChange()},t.prototype.onReplayUnanonymizationConsentWithdrawn=function(){this.hh.emitSensitiveStatusChange()},t.prototype.Hd=function(){var t=this;this.Qh.register(Pa,(function(n){t.nv.setMaskedElementSettingsFromCommand(n),t.hh.emitSensitiveStatusChange()})),this.Qh.register(Ma,(function(n){t.Uw.setWhitelistedElementsSelector(n),t.hh.emitSensitiveStatusChange()}))},t}(),La=function(t){function n(n,i,r,e){var s=t.call(this)||this;return s.Zh=n,s.nv=i,s.Uw=r,s.sa=e,s}return Q(n,t),n.prototype.onStart=function(){var t;this.Uw.start(),this.Zh.setMaskedElementSettings(this.nv.getMaskedElementSettings(null===(t=this.sa)||void 0===t?void 0:t.shouldMaskNonTextElements())),this.Zh.startIdentifier()},n.prototype.onStop=function(){this.Uw.stop(),this.Zh.stopIdentifier()},n}(zr),Ua=["networkRequest:maskUrls"],ja=["networkRequest:maskUrls:reset"],qa=function(){function t(t,n){this.jw=t,this.ta=n}return t.prototype.init=function(){var t=this;this.jw.register(Ua,(function(n){var i,r;if(jt(n))t.ta.addPartialUrlMaskingPattern(n);else if(csArray.isArray(n))try{for(var e=et(n),s=e.next();!s.done;s=e.next()){var o=s.value;jt(o)&&t.ta.addPartialUrlMaskingPattern(o)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}})),this.jw.register(ja,(function(){return t.ta.resetPartialUrlMaskingPatterns()}))},t}();!function(t){var n=86400;function i(t,i){var s=function(t,i){"date"!==t.rule_type||"less_than"!==t.match_operation&&"greater_than"!==t.match_operation||(i=(new csDate(i).valueOf()/1e3).toFixed(0));switch(t.match_operation){case"exact":switch(t.rule_type){case"string":return!!jt(t.pattern)&&csString.prototype.toLowerCase.call(i)===csString.prototype.toLowerCase.call(t.pattern);case"boolean":return i===t.pattern||i===csString(t.pattern);case"number":return!!Ft(i)&&Number(i)===Number(t.pattern);default:return i===t.pattern}case"starts_with":return!!jt(t.pattern)&&0===csString.prototype.indexOf.call(i,t.pattern);case"ends_with":return!!jt(t.pattern)&&rn(i,t.pattern);case"contains":return!!jt(t.pattern)&&-1!==csString.prototype.indexOf.call(i,t.pattern);case"regex":if(!jt(t.pattern))return!1;try{return new csRegExp(t.pattern).test(i)}catch(t){return kn.warn("targeting.matchOperation.regex invalid ".concat(null==t?void 0:t.message)),!1}case"simple":return!!jt(t.pattern)&&e(i)===e(t.pattern);case"greater_than":return Number(i)>Number(t.pattern);case"less_than":return Number(i)<Number(t.pattern);case"exact_date":var s=Number(t.pattern);if(!Lt(s))return!1;var o=new csDate(1e3*s);return new csDate(i).toDateString()===o.toDateString();case"exact_days_ago":return r(t,i);case"more_than_days_ago":return function(t,i){var r=Number(t.pattern);if(!Lt(r))return!1;var e=(new csDate).getTime()/1e3,s=Number(r)+1,o=e-n*s;return new csDate(i).getTime()/1e3<=o}(t,i);case"less_than_days_ago":return function(t,i){var e=Number(t.pattern);if(!Lt(e))return!1;if(0===e)return r(t,i);var s=(new csDate).getTime()/1e3-n*e;return new csDate(i).getTime()/1e3>=s}(t,i);case"unknown":return function(t){if(!Ft(t))return!0;if(jt(t))return""===csString.prototype.trim.call(t);if(qt(t))return!0===t;if(Lt(t))return 0!==t;return!1}(i);default:return kn.warn("targeting.matchOperation.regex not managed operation ".concat(t.match_operation)),!1}}(t,i);return t.negate?!s:s}function r(t,n){var i=new csDate,r=i.setDate(i.getDate()-Number(t.pattern)),e=new csDate(r);return new csDate(n).toDateString()===e.toDateString()}function e(t){var n=gn(nn(t,"http://")||nn(t,"https://")?t:"https://".concat(t));return null!==n?csString.prototype.replace.call(n.host,/^www./,""):t}t.isUrlMatching=function(t,n){var r,e;try{for(var s=et(t),o=s.next();!o.done;o=s.next()){if(i(o.value,n))return!0}}catch(t){r={error:t}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return!1},t.isMatching=function(t,n){var r,e,s,o;if(jt(n))try{for(var u=et(t),c=u.next();!c.done;c=u.next()){if(i(c.value,n))return!0}}catch(t){r={error:t}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(r)throw r.error}}else if(qt(n))try{for(var h=et(t),a=h.next();!a.done;a=h.next()){if(i(a.value,csString(n)))return!0}}catch(t){s={error:t}}finally{try{a&&!a.done&&(o=h.return)&&o.call(h)}finally{if(s)throw s.error}}return!1}}(Oa||(Oa={}));var Ha,Va=function(){function t(){this.qw=[],this.Hw=[]}return t.prototype.setTargetingRules=function(t){var n,i;try{for(var r=et(t),e=r.next();!e.done;e=r.next()){var s=e.value;"url"===s.component?csArray.prototype.push.call(this.qw,s):"trigger"===s.component&&csArray.prototype.push.call(this.Hw,s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.prototype.matchUrl=function(t){return Oa.isUrlMatching(this.qw,t)},t.prototype.matchTrigger=function(t){return Oa.isMatching(this.Hw,t)},t}(),Fa=function(t){function n(n,i,r){var e=t.call(this)||this;return e.Vw=n,e.Fw=i,e.ot=r,e}return Q(n,t),n.prototype.init=function(){this.Bw=new Va,this.Vw&&this.Bw.setTargetingRules(this.Vw)},n.prototype.onStart=function(){},n.prototype.checkInitialUrlTargetingRules=function(){var t=this.ot.getAnonymizedUrl();this.zw(t,"url")&&this.Fw()},n.prototype.onStop=function(){},n.prototype.onTargetingRulesArtificialPageview=function(t){this.isStarted&&this.zw(t,"url")&&this.Fw()},n.prototype.onExternalEvent=function(t){this.isStarted&&this.zw(t.name,"trigger")&&this.Fw()},n.prototype.zw=function(t,n){var i,r;return!("url"!==n||!jt(t)||!(null===(i=this.Bw)||void 0===i?void 0:i.matchUrl(t)))||!("trigger"!==n||!(null===(r=this.Bw)||void 0===r?void 0:r.matchTrigger(t)))},n}(zr),Ba=function(){function t(t,n,i,r,e,s){this.Vw=t,this.Gw=n,this.hh=i,this.$w=r,this.bl=e,this.ot=s}return t.prototype.init=function(){this.Jw=new Fa(this.Vw,this.Gw,this.ot),this.bl.addListener(this.Jw),this.Jw.init()},t.prototype.start=function(){this.Jw.start()},t.prototype.stop=function(){this.Jw.stop()},t.prototype.checkInitialUrlTargetingRules=function(){this.Jw.checkInitialUrlTargetingRules()},t.prototype.emitTargetingCollectState=function(){var t=this.$w.getInitialCollectState();t===bi.ANALYTICS_ONLY?this.hh.emitCollectStateChange(bi.ANALYTICS_ONLY_RULES_TARGETING,Ai.ETR_OFF):t===bi.RECORDING_GLOBAL_SAMPLING&&this.hh.emitCollectStateChange(bi.RECORDING_RULES_TARGETING,Ai.ETR_OFF)},t}(),za=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S,b,A,E,R,T,O,N){var k=this;this.Dh=t,this.Fa=n,this.X=i,this.K=r,this.hh=e,this.Qh=s,this.Ww=o,this.U=u,this.Yw=c,this.Xw=h,this.Kw=a,this.Bl=f,this.j=l,this.Jf=v,this.pu=d,this.ot=y,this.Qw=w,this.bl=p,this.Pa=m,this.vn=g,this.Zw=S,this.ra=b,this.tp=A,this.Ls=E,this.ea=R,this.dn=T,this.np=O,this.$w=N,this.ip=function(t){void 0===t&&(t=!1);var n=k.K.getSession();null===n?(k.rp=new Ba(k.U.recordTargetingRules,k.ep,k.hh,k.$w,k.bl,k.ot),k.rp.init(),k.rp.start()):n.collectState!==bi.RECORDING_RULES_TARGETING&&n.collectState!==bi.ANALYTICS_ONLY_RULES_TARGETING||k.ep(t)},this.ep=function(t){void 0===t&&(t=!1),k.sp.onLoad((function(){var n,i;null===(n=k.rp)||void 0===n||n.emitTargetingCollectState(),null===(i=k.rp)||void 0===i||i.stop(),k.hh.emitStartTracking(t)})),k.op(t)},this.op=function(t){void 0===t&&(t=!1),k.up.start(t),k.sp.start()},this.cp=function(){k.hh.emitBeforeSessionRenewal(),k.hp(!0),k.hh.emitAfterSessionRenewal()},this.ap=function(){k.$w.refreshQuota(),k.$w.onQuotaReady((function(t){t!==bi.QUOTA_REACHED&&(k.hh.emitBeforeSessionRenewal(),k.hp(!0),k.hh.emitAfterSessionRenewal())}))}}return t.prototype.start=function(){var t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p=this;(this.Yw.init(),this.Xw.init(),this.Xw.isActive())||(this.Ls.schedule((function(){f=new Ih(p.K,p.X),y=new da(f),a=new bh(p.Jf),l=new Wh(p.U),v=new Ia((function(){})),w=new _a;var m=new La(v,l,w,p.fp());d=new xa(p.fp(),l,m,w);var g=new Da(p.hh,p.Qh,l,m,w);g.init(),p.hh.addListener(g),t=new sh(p.U,p.Dh,p.X,p.Jf,a,p.Qh,f,new ia(kn),p.Pa,p.ea,p.bl,d),n=new Iu(p.Qh,p.K,p.U,p.Dh,p.Fa,p.j),h=new sa(d);var S=new Kh(p.U);(c=new Xh(p.U,S,h,d,p.Pa)).init();var b=new va;i=new Tu(p.X,p.K,p.Qh,p.Pa,S,p.U,b,h),r=new qu(p.U,p.Dh,p.X,p.Qh,p.j,f,p.ot),p.up=new Sh(p.U,p.Qh,p.hh,p.Dh,p.X,p.K,p.Bl,p.vn,p.pu,p.ot,p.ra,b,p.bl,p.zl),p.lp=new Ch(p.U,p.X,p.K,p.Qh),"CONTENTSQUARE"!==p.U.tagDeploymentMode&&(e=new Dh(p.U,p.K,p.ot,p.Qh,p.op,l)),s=new zh(p.U,p.Qh,p.Fa,p.Dh,p.bl),o=new Yh(p.Qh),u=new ea(p.U,new on(p.U,p.j),p.ea),p.sp=new Ah})),this.U.apiErrors.enabled&&this.Ls.schedule((function(){p.ta=new vh,p.vp=new qa(p.Qh,p.ta),p.vp.init()})),this.U.apiErrors.enabled&&this.Ls.schedule((function(){var t,n;n=(null===(t=p.U.apiErrors.collectionRules)||void 0===t?void 0:t.length)?new ka(p.U.apiErrors,p.j):new Ca(p.U.apiErrors,p.j),p.he=new Zh(new Sa,new ba,n),p.ae=new ta(p.ta,p.pu),p.be=new Aa;var i=new ha(p.he,p.ae,p.U,p.Dh,p.Pa,p.Qh,p.ea);i.init(),p.hh.addListener(i)})),this.U.jsErrorsEnabled&&this.Ls.schedule((function(){p.Vd=new $h,p.ce=new na(p.j,p.ot);var t=new la(p.Vd,p.ce,p.U,p.Dh,p.Pa,p.Qh,p.bl,p.ot,p.ea);t.init(),p.hh.addListener(t)})),this.Ls.schedule((function(){p.Kw.init()})),this.Ls.schedule((function(){i.init()})),this.Ls.schedule((function(){n.init()})),this.Ls.schedule((function(){r.init()})),this.Ls.schedule((function(){p.Zw.init()})),this.Ls.schedule((function(){p.up.init()})),this.Ls.schedule((function(){p.lp.init()})),"CONTENTSQUARE"!==this.U.tagDeploymentMode&&this.Ls.schedule((function(){e.init()})),this.Ls.schedule((function(){s.init()})),this.Ls.schedule((function(){p.Qw.init()})),this.Ls.schedule((function(){o.init()})),this.Ls.schedule((function(){u.init()})),this.Ls.schedule((function(){p.tp.init()})),this.Ls.schedule((function(){p.hh.addListener(p.lp),p.hh.addListener(p.Ww),p.hh.addListener(t),p.hh.addListener(p.Kw),p.hh.addListener(i),p.hh.addListener(r),p.hh.addListener(p.Zw),p.hh.addListener(p.up),"CONTENTSQUARE"!==p.U.tagDeploymentMode&&p.hh.addListener(e),p.hh.addListener(s),p.hh.addListener(n),p.hh.addListener(c),p.hh.addListener(u),p.hh.addListener(y)})),oa.isRecordingSupported()&&this.Ls.schedule((function(){var t=new fu(h,p.K,p.U,p.Dh,p.Qh,p.j,f,v,p.ce,p.he,p.ae,p.ta,p.hh,p.bl,p.Pa,p.ra,p.ea,p.pu,p.be,p.fp(),p.dp);t.init(),p.hh.addListener(t),i.setRecordingService(t.recordingService)})),this.Ls.schedule((function(){t.init()})),this.Ls.schedule((function(){p.U.isQuotaEnabled()?f.onSessionExpired((function(){p.ap()})):f.onSessionExpired((function(){p.cp()})),p.hp()})))},t.prototype.hp=function(t){var n=this;if(void 0===t&&(t=!1),this.U.hasTargetingRules())return this.ip(t),this.Qh.start(),void(this.rp&&this.rp.checkInitialUrlTargetingRules());this.Qh.start(),this.sp.onLoad((function(){n.hh.emitStartTracking(t)})),_h(this.U)&&!t||this.op(t)},t.prototype.fp=function(){if(this.sa)return this.sa;var t=new ma;return this.sa=new pa(this.Bl,this.U,this.ot,t),this.sa.init(),this.sa},t}(),Ga=function(){function t(t,n,i,r,e,s,o,u){this.U=t,this.X=n,this.ln=i,this.yp=r,this.wp=e,this.pp=s,this.mp=o,this.gp=u}return t.prototype.compute=function(t){var n,i,r=this;this.U.crossDomainTracking&&!this.U.cookielessTrackingEnabled?this.U.crossDomainSingleIframeTracking?null===(n=this.mp)||void 0===n||n.start((function(){return r.Sp(t)})):null===(i=this.pp)||void 0===i||i.applyUpToDate((function(){return r.Sp(t)})):this.Sp(t)},t.prototype.Sp=function(t){this.wp.handle(),this.yp.clear(),this.bp()?(this.yp.restoreClearedVisitor(),t(!0)):(this.ln.exclude(this.U),t(!1))},t.prototype.bp=function(){var t=lt.boolean(this.U.sampleRate);return this.gp.isForceIncluded()||!this.ln.isExcluded()&&this.X.doesVisitorExist()||!this.ln.isExcluded()&&t},t}();!function(t){t.generate=function(){var t=navigator.userAgent+navigator.language+navigator.platform,n=csString.prototype.slice.call(function(t){for(var n=0,i=0;i<t.length;i+=1)n=csString.prototype.charCodeAt.call(t,i)+(n<<6)+(n<<16)-n;return Math.abs(n)}(t).toString(16),-4),i=(new csDate).getTime(),r="xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"===t?n:7&n|8).toString(16)}));return csString.prototype.replace.call(r,"hhhh",n)}}(Ha||(Ha={}));var $a,Ja=function(){function t(t,n,i,r){this.U=t,this.Ap=n,this.K=i,this.hh=r,this.Ep=1e4}return t.prototype.createOrUpdateVisitor=function(){var t=this.getVisitor();null===t&&(t=this.Rp(),this.K.removeSession()),this.Tp(t),this.setVisitor(t)},t.prototype.Rp=function(){return{id:Ha.generate(),visitsCount:0,appliedTrackingDraw:this.U.lastTrackingDraw,creationTimestamp:Qt(),lastVisitTimestamp:0,hitTimestamp:0,expires:Xt()+this.U.visitorCookieTimeout,allowSubdomains:this.U.allowSubdomains}},t.prototype.Tp=function(t){var n=Qt();this.K.doesSessionExist()||(t.visitsCount+=1,t.lastVisitTimestamp=n),t.hitTimestamp=n,t.appliedTrackingDraw=this.U.lastTrackingDraw,this.Op=t.visitsCount},t.prototype.getRequestParameters=function(){var t=this.getVisitor();return t?{uu:t.id,sn:"".concat(t.visitsCount),hd:"".concat(t.hitTimestamp)}:{}},t.prototype.getVisitor=function(){return this.Ap.get()},t.prototype.setVisitor=function(t){this.Ap.set(t)},t.prototype.doesVisitorExist=function(){return null!==this.Ap.get()},t.prototype.resetVisitor=function(){this.Np(),this.hh.emitAfterVisitorCleared()},t.prototype.removeVisitor=function(){this.Ap.remove()},t.prototype.hasAllowSubdomainsChanged=function(){var t=this.getVisitor();return!!t&&t.allowSubdomains!==this.U.allowSubdomains},t.prototype.handleSubdomainChange=function(){this.Ap.handleSubdomainChange()},t.prototype.isSessionRenewed=function(){var t=this.getVisitor();return null!==t&&void 0!==this.Op&&t.visitsCount!==this.Op},t.prototype.kp=function(){return!Vt(this.Cp)||Xt()-this.Cp>this.Ep},t.prototype.renewVisitor=function(){this.kp()?(this.Cp=Xt(),this.Np(),this.hh.emitAfterVisitorRenewal()):kn.warn("session:start:newVisitor is trying to renew visitor under time limit")},t.prototype.Np=function(){this.hh.emitBeforeVisitorRenewal(),this.removeVisitor()},t}();!function(t){t[t.NO=0]="NO",t[t.WITHDRAWN=1]="WITHDRAWN",t[t.GRANTED=2]="GRANTED"}($a||($a={}));var Wa,Ya=function(){function t(t,n){this.Ip=t,this.$w=n,this._p=null,this.xp=0,this.Pp=$a.NO}return t.prototype.setDynamicVariablesService=function(t){this.Mp=t},t.prototype.createOrUpdateSession=function(){this.Dp(),this.Lp=Xt(),this.xp=0;var t=this.jp();null===t?(t=this.qp(),this.Hp(t),this.Vp(t)):(t=this.$w.sanitizeSessionCollectState(t),this.Hp(t),t.collectState=this.$w.getEligibleCollectState(t)),this.setSession(t)},t.prototype.grantReplayRecording=function(t){t.collectState=this.$w.getInitialCollectState(),t.collectState=this.$w.computeInitialCollectStateFromRecordingConsentGranted(t),this.setSession(t)},t.prototype.grantReplayRecordingBeforeSessionStart=function(){this.Pp=$a.GRANTED},t.prototype.withdrawnReplayRecording=function(t){t.collectState=this.$w.getRecordingConsentWithdrawn(),this.setSession(t)},t.prototype.withdrawnReplayRecordingBeforeSessionStart=function(){this.Pp=$a.WITHDRAWN},t.prototype.Vp=function(t){this.Pp===$a.WITHDRAWN?(t.collectState=this.$w.getRecordingConsentWithdrawn(),this.setSession(t)):this.Pp===$a.GRANTED?t.collectState=this.$w.computeInitialCollectStateFromRecordingConsentGranted(t):t.collectState=this.$w.computeInitialCollectState(t),this.Pp=$a.NO},t.prototype.qp=function(){return{pageNumber:0,collectState:this.$w.getInitialCollectState(),etrState:Ai.ETR_OFF,etrStatus:Ri.ETR_NOT_SAVED_SESSION}},t.prototype.Hp=function(t){t.pageNumber+=1},t.prototype.isReplayRecorded=function(){var t=this.getSession();return!!t&&this.$w.isReplayRecorded(t)},t.prototype.isTemporarilyRecorded=function(){var t=this.getSession();return(null==t?void 0:t.collectState)===bi.RECORDING_TEMPORARILY},t.prototype.abortQuotaServiceRequest=function(){this.$w.abortQuotaServiceRequest()},t.prototype.getRequestParameters=function(){var t={},n=this.getSession();return null!==n&&(t.pn="".concat(n.pageNumber)),t},t.prototype.getSession=function(){return this.Ip.get()},t.prototype.jp=function(){return this.Ip.get(!0)},t.prototype.doesSessionExist=function(){return null!==this.Ip.get()},t.prototype.setSession=function(t){this.Ip.set(t)},t.prototype.refreshSession=function(){var t=this.jp();t&&this.setSession(t)},t.prototype.removeSession=function(){this.Ip.remove()},t.prototype.getCollectStates=function(){var t=this.getSession(),n=[];return t&&(t.collectState!==bi.ANALYTICS_ONLY&&csArray.prototype.push.call(n,t.collectState),t.etrState===Ai.ETR_ON&&csArray.prototype.push.call(n,bi.RECORDING_ETR_SAMPLING)),n},t.prototype.updateCollectState=function(t,n){var i=this.getSession();null!==i&&(i.collectState=t,i.etrState=n,this.setSession(i))},t.prototype.hasValidSession=function(){var t=this.Ip.getRawSession();return this.Ip.isValid(t)},t.prototype.handleSubdomainChange=function(){this.Ip.handleSubdomainChange()},t.prototype.pollCacheRefreshEvent=function(t){void 0===t&&(t=!0);var n=this.Ip.isCacheRefreshed();return n&&t&&this.Ip.resetCacheRefreshed(),n},t.prototype.extendSessionPeriodically=function(){this._p||this.Fp()},t.prototype.extendSession=function(){var t=this.getSession();return null===t?(kn.warn("extendSession is trying to extend an expired session"),this.Dp(),!1):(this.Ip.set(t,Pi),!0)},t.prototype.Fp=function(){this.Bp()?this.Dp():this.extendSession()&&(this.zp(),this.Gp())},t.prototype.Gp=function(){var t=this;this._p=window.csSetTimeout((function(){t.Fp()}),174e4)},t.prototype.Bp=function(){return 1434e4-(Xt()+Pi-this.Lp)<0},t.prototype.Dp=function(){this._p&&(window.csClearTimeout(this._p),this._p=null)},t.prototype.zp=function(){this.xp+=1,this.Mp.trackDynamicVariable("session_expiry_update",this.xp)},t}(),Xa=function(){function t(t,n,i){this.U=t,this.X=n,this.ln=i}return t.prototype.clear=function(){this.$p()&&(this.Jp=this.X.getVisitor(),this.X.removeVisitor()),this.Wp()&&this.ln.removeExclusion()},t.prototype.$p=function(){return this.X.doesVisitorExist()&&this.X.getVisitor().appliedTrackingDraw!==this.U.lastTrackingDraw},t.prototype.Wp=function(){return this.ln.getAppliedTrackingDraw()!==this.U.lastTrackingDraw},t.prototype.restoreClearedVisitor=function(){this.Jp&&this.X.setVisitor(this.Jp)},t}(),Ka=function(){function t(t,n,i){this.X=t,this.K=n,this.Yp=i}return t.prototype.handle=function(){this.X.hasAllowSubdomainsChanged()&&(this.X.handleSubdomainChange(),this.K.handleSubdomainChange(),this.Yp.handleSubdomainChange())},t}(),Qa="_cs_c";!function(t){t[t.NOT_REQUIRED=0]="NOT_REQUIRED",t[t.NOT_EXPRESSED=1]="NOT_EXPRESSED",t[t.GRANTED=2]="GRANTED",t[t.WITHDRAWN=3]="WITHDRAWN"}(Wa||(Wa={}));var Za,tf=function(){function t(t,n,i){this.U=t,this.dn=n,this.np=i}return t.prototype.get=function(){var t;return null===(t=this.U.cookielessTrackingEnabled?this.np.getItem(Qa):this.dn.get(Qa))?t:Number(t)},t.prototype.set=function(t){this.U.cookielessTrackingEnabled?this.np.setItem(Qa,csString(t)):this.dn.set(Qa,csString(t),ft)},t.prototype.remove=function(){this.U.cookielessTrackingEnabled?this.np.removeItem(Qa):this.dn.delete(Qa)},t.prototype.handleSubdomainChange=function(){this.U.cookielessTrackingEnabled||(this.U.allowSubdomains?this.dn.delete(Qa,ei.CURRENT_DOMAIN):this.dn.delete(Qa,this.dn.getRootDomain()))},t}(),nf=function(){function t(t,n,i){this.U=t,this.K=n,this.hh=i}return t.prototype.grantReplayConsent=function(){if(iu.isReplayConsentNeeded(this.U)){var t=this.K.getSession();t?iu.isRecordingBlockedByConsent(t)&&(this.K.grantReplayRecording(t),this.hh.emitAfterReplayRecordingConsentGranted()):this.K.grantReplayRecordingBeforeSessionStart()}},t.prototype.withdrawReplayConsent=function(){if(iu.isReplayConsentNeeded(this.U)){var t=this.K.getSession();t?iu.isRecordingWithDrawn(t)||(this.K.withdrawnReplayRecording(t),this.hh.emitAfterReplayRecordingConsentWithdrawn()):this.K.withdrawnReplayRecordingBeforeSessionStart()}},t}(),rf=["replay:consent:unanonymized:granted","trackConsentGranted"],ef=["replay:consent:unanonymized:withdrawn","trackConsentWithdrawn"],sf=["replay:consent:startForSession:granted"],of=["replay:consent:startForSession:withdrawn"],uf=function(){function t(t,n,i,r,e){this.U=t,this.Qh=n,this.Bl=i,this.K=r,this.hh=e}return t.prototype.init=function(){this.Xp=new nf(this.U,this.K,this.hh),this.Bl.setInitialConsent(),this.Hd()},t.prototype.Hd=function(){var t=this;this.Qh.register(rf,(function(){t.Bl.grantReplayAnonymizationConsent()})),this.Qh.register(ef,(function(){t.Bl.withdrawReplayAnonymizationConsent()})),this.Qh.register(sf,(function(){t.Xp.grantReplayConsent()})),this.Qh.register(of,(function(){t.Xp.withdrawReplayConsent()}))},t.prototype.onOptout=function(){this.Bl.removeAllConsents()},t.prototype.onBeforeVisitorRenewal=function(){this.Bl.removeAllConsents()},t.prototype.onAfterVisitorRenewal=function(){this.Bl.setInitialConsent()},t.prototype.onAfterVisitorCleared=function(){this.Bl.setInitialConsent()},t}(),cf=function(){function t(t,n,i){this.U=t,this.Ap=n,this.hh=i}return t.prototype.setInitialConsent=function(){var t=this.Ap.get();(null===t||this.hasConsentRequiredChanged(t))&&this.setDefaultReplayAnonymization()},t.prototype.hasConsentRequiredChanged=function(t){var n=this.U.consentRequired;return n&&t===Wa.NOT_REQUIRED||!n&&t!==Wa.NOT_REQUIRED},t.prototype.handleSubdomainChange=function(){this.Ap.handleSubdomainChange()},t.prototype.setDefaultReplayAnonymization=function(){var t=this.U.consentRequired?Wa.NOT_EXPRESSED:Wa.NOT_REQUIRED;this.Ap.set(t)},t.prototype.grantReplayAnonymizationConsent=function(){this.U.consentRequired&&(this.Ap.set(Wa.GRANTED),this.hh.emitReplayUnanonymizationConsentGranted())},t.prototype.withdrawReplayAnonymizationConsent=function(){this.U.consentRequired&&(this.Ap.set(Wa.WITHDRAWN),this.hh.emitReplayUnanonymizationConsentWithdrawn())},t.prototype.removeAllConsents=function(){this.Ap.remove()},t.prototype.isReplayUnanonymizedAllowedByConsent=function(){return!this.U.consentRequired||this.Ap.get()===Wa.GRANTED},t.prototype.getRequestParameters=function(){return{uc:"".concat(this.Ap.get())}},t}(),hf=function(){function t(t,n,i,r,e,s,o){this.hh=t,this.Qh=n,this.Ww=i,this.Yw=r,this.Xw=e,this.Kp=s,this.Kw=o}return t.prototype.start=function(){this.hh.addListener(this.Kp),this.hh.addListener(this.Kw),this.hh.addListener(this.Ww),this.Kw.init(),this.Yw.init(),this.Xw.init(),this.Xw.isActive()||this.Qh.start()},t}(),af=function(){function t(t,n){this.In=t,this.Ap=n}return t.prototype.exclude=function(t){this.Ap.set(csString(t.lastTrackingDraw))},t.prototype.removeExclusion=function(){this.Ap.remove()},t.prototype.isExcluded=function(){return this.Qp()||this.Zp()},t.prototype.Qp=function(){return 0!==this.getAppliedTrackingDraw()},t.prototype.getAppliedTrackingDraw=function(){return this.Ap.get()},t.prototype.Zp=function(){return csString.prototype.indexOf.call(this.In.href,qi)>0},t}(),ff=function(){function t(t){this.za=t}return t.prototype.onOptout=function(){this.za.removeExclusion()},t}();!function(t){t.SessionReplay="SR",t.None=""}(Za||(Za={}));var lf=function(){function t(t){this.ot=t,this.tm=new csRegExp("".concat(".^"))}return t.prototype.setExcludeUrlForSessionReplay=function(t){this.tm=new csRegExp(t)},t.prototype.nm=function(){return this.tm.test(this.ot.getAnonymizedUrl())?Za.SessionReplay:Za.None},t.prototype.isUrlExcludedForSessionReplay=function(){return this.nm()===Za.SessionReplay},t.prototype.getRequestParameters=function(){return{ex:this.nm()}},t}(),vf=["excludeURLforReplay"],df=function(){function t(t,n){this.za=t,this.Qh=n}return t.prototype.init=function(){var t=this;this.Qh.register(vf,(function(n){jt(n)&&t.za.setExcludeUrlForSessionReplay(n)}))},t}(),yf="_cs_inc",wf=function(){function t(t,n){this.In=t,this.dn=n}return t.prototype.isForceIncluded=function(){return this.im()||this.rm()},t.prototype.isForceReplayRecorded=function(){return this.sm(bi.RECORDING_GLOBAL_SAMPLING)},t.prototype.im=function(){return null!==this.dn.get(yf)},t.prototype.sm=function(t){return this.dn.get(yf)===t},t.prototype.rm=function(){return csString.prototype.indexOf.call(this.In.href,yf)>0},t}(),pf="_cs_optout",mf=function(){function t(t,n,i){this.U=t,this.dn=n,this.np=i}return t.prototype.get=function(){return this.U.cookielessTrackingEnabled?this.np.getItem(pf):this.dn.get(pf)},t.prototype.set=function(t){this.U.cookielessTrackingEnabled?this.np.setItem(pf,t):this.dn.set(pf,t,ft)},t}(),gf=function(){function t(t,n,i){this.hh=t,this.In=n,this.Ap=i}return t.prototype.init=function(){!this.isActive()&&this.om()&&this.activate()},t.prototype.isActive=function(){return"1"===this.Ap.get()},t.prototype.activate=function(){this.hh.emitOptout(),this.Ap.set("1")},t.prototype.om=function(){return csString.prototype.indexOf.call(this.In.href,pf)>0},t}(),Sf=["optout"],bf=["optin"],Af=function(){function t(t,n){this.Qh=t,this.Xw=n}return t.prototype.init=function(){var t=this;this.Qh.register(Sf,(function(){t.Xw.activate()}))},t}(),Ef=function(){function t(t,n){this.Qh=t,this.Pa=n}return t.prototype.init=function(){this.Pa.addListener(this.Qh)},t.prototype.onOptout=function(){this.Qh.stop()},t.prototype.onBeforeSessionRenewal=function(){this.Qh.stop()},t}();var Rf;!function(t){t.UXA="_uxa",t.WVT="cs_wvt"}(Rf||(Rf={}));var Tf,Of=function(t){function n(n){var i=t.call(this)||this;return i.um=n,i.hm={},i}return Q(n,t),n.prototype.register=function(t,n,i){var r,e;try{for(var s=et(t),o=s.next();!o.done;o=s.next()){var u=o.value;this.hm[u]={callback:n,configuration:i},this.hm}}catch(t){r={error:t}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}},n.prototype.onStart=function(){this.am(),this.fm()},n.prototype.onStop=function(){var t,n;try{for(var i=et(this.um),r=i.next();!r.done;r=i.next()){var e=r.value;window[e]=[]}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.applyFromIntegration=function(t,n,i){this.lm(t,n,"Commands.apply.from.integration: ".concat(i))},n.prototype.applyFromImplementation=function(t,n,i){this.lm(t,n,"Commands.apply.from.implementation: ".concat(i))},n.prototype.onIframeCommands=function(t){var n,i;try{for(var r=et(t.commands),e=r.next();!e.done;e=r.next()){var s=e.value;this.vm(s.name,s.params,t.iframePath)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.lm=function(t,n,i){var r=this;this.isStarted?kn.tryToExecute(i,(function(){var i;if(r.hm[t])return(i=r.hm[t]).callback.apply(i,ot([],st(n),!1))}))():window._uxa.push(ot([t],st(n),!1))},n.prototype.vm=function(t,n,i){var r=this;kn.tryToExecute("Commands.apply.from.iframe: ".concat(i),(function(){var i;if(r.hm[t])return(i=r.hm[t]).callback.apply(i,ot([],st(n),!1))}))()},n.prototype.am=function(){var t,n,i=this;try{for(var r=et(this.um),e=r.next();!e.done;e=r.next()){var s=e.value;window[s].forEach((function(t){var n=st(t),r=n[0],e=n.slice(1);return i.dm(r,e,!1)}))}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},n.prototype.fm=function(){var t,n,i=this;try{for(var r=et(this.um),e=r.next();!e.done;e=r.next()){var s=e.value;window[s]={push:function(t){var n=st(t),r=n[0],e=n.slice(1);return i.dm(r,e,!0)}}}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},n.prototype.dm=function(t,n,i){var r,e,s;if(this.hm[t]){if((null===(e=this.hm[t].configuration)||void 0===e?void 0:e.disableApplyPending)&&!i||(null===(s=this.hm[t].configuration)||void 0===s?void 0:s.disableApplyImmediate)&&i)return;try{return(r=this.hm[t]).callback.apply(r,ot([],st(n),!1))}catch(i){kn.error("Command ".concat(t," failed - params: ").concat(csJSON.stringify(n)),i)}}},n}(zr);function Nf(t,n){return n.visitor.visitsCount!==t.visitor.visitsCount?n.visitor.visitsCount-t.visitor.visitsCount:t.session?n.session?n.session.pageNumber-t.session.pageNumber:-1:1}!function(t){t.select=function(t,n){var i=function(t,n){return csArray.prototype.filter.call(t,(function(t){return t.exclusion===n}))[0]}(t,n),r=function(t,n){return csArray.prototype.sort.call(csArray.prototype.filter.call(t,(function(t){return function(t,n){return t.visitor&&t.visitor.appliedTrackingDraw===n}(t,n)})),Nf)[0]}(t,n);return i||r}}(Tf||(Tf={}));var kf,Cf="contentsquare.net";!function(t){t.Set="set",t.Remove="remove"}(kf||(kf={}));var If,_f=function(){function t(t,n,i,r,e,s){this.U=t,this.dn=n,this.Ip=i,this.ym=r,this.wm=e,this.pm=s,this.gm=ni.None,this.Sm=!1,this.bm=[],this.Am=[]}return t.prototype.init=function(){this.gm=this.dn.isSameSiteSupported()?ni.None:ni.NotSet,this.Em()},t.prototype.setStates=function(t,n){this.Rm=t,this.Tm=n},t.prototype.start=function(t){var n=this;this.Tm.init(this.Om(),(function(i,r){var e=[n.Rm.get()];r&&csArray.prototype.push.call(e,i);var s=Tf.select(e,n.U.lastTrackingDraw);n.Sm=!0,n.Rm.apply(s),t()})),this.Nm=this.Tm.openIframe()},t.prototype.setCookie=function(t,n,i){if(this.Sm){var r={name:t,value:n,samesite:this.gm,secure:ii.Yes};i&&(r.expires=Zn.toExpireDate(i).getTime()),this.km(r)}},t.prototype.removeCookie=function(t){this.Sm&&this.Cm(t)},t.prototype.Cm=function(t){this.Am=csArray.prototype.filter.call(this.Am,(function(n){return n!==t})),this.bm=csArray.prototype.filter.call(this.bm,(function(n){return n.name!==t})),csArray.prototype.push.call(this.Am,t),this.setBatchReadyCall()},t.prototype.km=function(t){this.Am=csArray.prototype.filter.call(this.Am,(function(n){return n!==t.name})),this.bm=csArray.prototype.filter.call(this.bm,(function(n){return n.name!==t.name})),csArray.prototype.push.call(this.bm,t),this.setBatchReadyCall()},t.prototype.setBatchReadyCall=function(){this.Im()},t.prototype.Im=function(){if(this.bm.length>0){var t=this._m(kf.Set,this.bm);this.xm(t),this.bm=[]}if(this.Am.length>0){var n=this._m(kf.Remove,this.Am);this.xm(n),this.Am=[]}},t.prototype._m=function(t,n){return{command:t,cookies:n,domain:null,pid:this.U.projectId}},t.prototype.xm=function(t){var n,i="https://".concat(this.Om());(null===(n=this.Nm)||void 0===n?void 0:n.contentWindow)&&this.Nm.contentWindow.postMessage(t,i)},t.prototype.Om=function(){return this.U.dualCollectionTagDomain&&this.U.dualCollectionTagDomain!==Cf?"cdnssl.".concat(this.U.dualCollectionTagDomain):"csxd.".concat(Cf)},t.prototype.Em=function(){var t=this;this.Ip.onCookieToSet((function(n,i,r){t.setCookie(n,i,r)})),this.ym.onCookieToSet((function(n,i,r){t.setCookie(n,i,r)})),this.wm.onCookieToSet((function(n,i,r){t.setCookie(n,i,r)})),this.pm.onCookieToSet((function(n,i,r){t.setCookie(n,i,r)})),this.Ip.onCookieToRemove((function(n){t.removeCookie(n)})),this.ym.onCookieToRemove((function(n){t.removeCookie(n)})),this.wm.onCookieToRemove((function(n){t.removeCookie(n)})),this.pm.onCookieToRemove((function(n){t.removeCookie(n)}))},nt([tu(),qn("send xdframe-single-iframe batch")],t.prototype,"setBatchReadyCall",null),t}(),xf=function(){function t(t,n){this.U=t,this.Cn=n}return t.prototype.init=function(t,n){this.Pm="https://".concat(t),this._n=n},t.prototype.openIframe=function(){var t=this;this.Cn.onMessage((function(n){t.Mn(n)})),this.Cn.onTimeout((function(){t.Dn()})),this.Cn.start();var n=this.Mm(this.Pm);return this.Cn.open(n)},t.prototype.Mn=function(t){if(this.Ln(t)){var n=t.data,i=!0;if(this.Dm(t))return void kn.warn("Error xdframe single domain: ".concat(csJSON.stringify(t.data)," from ").concat(t.origin));if(!ji.isRawDomainState(n))return void kn.warn("Unknown message format from xdframe single domain: ".concat(csJSON.stringify(t.data)," from ").concat(t.origin));ji.isValid(n)||(kn.warn("Invalid xdframe single domain state: ".concat(csJSON.stringify(t.data)," from ").concat(t.origin)),i=!1),this.Cn.stop(),this._n(i?Li.fromRaw(n):{},i)}},t.prototype.Dn=function(){kn.warn("xdframe single domain: timeout: ".concat(this.Mm(this.Pm))),this.Cn.stop(),this._n({},!1)},t.prototype.Ln=function(t){return t.origin===this.Pm&&Ht(t.data)},t.prototype.Dm=function(t){return!!t.data.error},t.prototype.Mm=function(t){var n=this.U.projectId;return"".concat(t,"/uxa/xdframe-single-domain-").concat("1.2.0",".html?pid=").concat(n)},t}(),Pf=function(){function t(t,n,i,r){this.U=t,this.X=n,this.K=i,this.Lm=r}return t.prototype.getRequestParameters=function(){var t,n,i,r,e,s=Z(Z({},Dt()),this.U.getRequestParameters()),o=this.K.getSession();o&&(s.pn="".concat(o.pageNumber));var u=this.X.getVisitor();if(u&&(s.sn="".concat(u.visitsCount),s.uu="".concat(u.id)),(null===(t=this.Lm)||void 0===t?void 0:t.hasSubProjectId())&&(s.subProjectID="".concat(this.Lm.getSubProjectId())),window.heap)try{s.happid=window.heap.appid,s.hsid=null===(i=(n=window.heap).getSessionId)||void 0===i?void 0:i.call(n),s.huu=(null===(e=(r=window.heap).getUserId)||void 0===e?void 0:e.call(r))||window.heap.userId}catch(t){delete s.happid,delete s.hsid,delete s.huu}return s},t}(),Mf=function(){function t(t,n){this.Qh=t,this.I=n}return t.prototype.init=function(){var t=this;this.Qh.register(["debugEvents"],(function(n){"boolean"==typeof n&&t.I.updateDynamicFields("emitDebugEvents",n)}))},t}();function Df(t,n,i){if(!Vt(n)&&!Vt(i))return t.href;var r=Vt(n)?Lf(n):t.pathname,e=Vt(i)?function(t){return ht(t,"?")||""===t?t:"?".concat(t)}(i):t.search;return"".concat(t.protocol,"//").concat(t.host).concat(r).concat(e)}function Lf(t){return ht(t,"/")?t:"/".concat(t)}!function(t){t[t.page=1]="page",t[t.onNextPageviewOnly=2]="onNextPageviewOnly"}(If||(If={}));var Uf,jf=function(){function t(t,n){this.In=t,this.pu=n,this.Um=10}return t.prototype.overridePath=function(t,n){if(""!==t){var i=this.jm(n);i&&(this.qm=i),this.Hm=n?this.Vm(t,n):t}else this.Hm=void 0},t.prototype.overrideQuery=function(t,n){var i=this.jm(n);i&&(this.Fm=i),this.Bm=n?this.Vm(t,n):t},t.prototype.computeOverriddenUrl=function(t){return this.zm(t)?this.getAnonymizedUrl():t},t.prototype.Gm=function(t){return("string"==typeof t||"number"==typeof t)&&t in If},t.prototype.zm=function(t){var n=this.$m(this.In.href);return this.$m(t)===n},t.prototype.$m=function(t){return at(t,"/")?csString.prototype.slice.call(t,0,-1):t},t.prototype.jm=function(t){return Vt(null==t?void 0:t.lifespan)&&this.Gm(null==t?void 0:t.lifespan)?null==t?void 0:t.lifespan:null},t.prototype.Jm=function(){return this.qm&&this.qm in If},t.prototype.Wm=function(){return this.Fm&&this.Fm in If},t.prototype.cleanupOverrideLifespan=function(){this.Jm()&&(this.Hm=void 0,this.qm=void 0),this.Wm()&&(this.Bm=void 0,this.Fm=void 0)},t.prototype.getAnonymizedUrl=function(){var t=Df(this.In,this.Hm,this.Bm);return this.pu.anonymizeUrl(t)},t.prototype.getUrl=function(){return Df(this.In,this.Hm,this.Bm)},t.prototype.getAnonymizedPath=function(){var t=Vt(this.Hm)?Lf(this.Hm):location.pathname;return this.pu.anonymizeUrl(t)},t.prototype.getUrlProtocol=function(){return this.In.protocol},t.prototype.getRequestParameters=function(){return{url:this.getAnonymizedUrl()}},t.prototype.Vm=function(t,n){return this.Ym(n)?this.Xm(t):this.Km(n)?this.Qm(t):t},t.prototype.Km=function(t){return Boolean(t.decodeURI)},t.prototype.Qm=function(t){return this.Zm(t,1,!1)},t.prototype.Ym=function(t){return Boolean(t.decodeURIDeep)},t.prototype.Xm=function(t){return this.Zm(t,this.Um,!0)},t.prototype.Zm=function(t,n,i){for(var r=t,e=0;e<n;e++)try{var s=window.decodeURI(r);if(s===r)return r;r=s}catch(t){return r}return i&&kn.warn("decodeURIDeep limit reached: ".concat(r)),r},t}(),qf=function(){function t(){this.listeners=[]}return t.prototype.addListener=function(t){csArray.prototype.push.call(this.listeners,t)},t}(),Hf=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.emitPageEvent=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onPageEvent&&s.onPageEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitEventTriggerRecording=function(t,n){var i,r;try{for(var e=et(this.listeners),s=e.next();!s.done;s=e.next()){var o=s.value;o.onEventTriggerRecording&&o.onEventTriggerRecording(t,n)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}},n.prototype.emitCustomJavaScriptErrorEvent=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onCustomJavaScriptErrorEvent&&s.onCustomJavaScriptErrorEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitCustomErrorEvent=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onCustomErrorEvent&&s.onCustomErrorEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitUserIdentifierEvent=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onUserIdentifierEvent&&s.onUserIdentifierEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitExternalEvent=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onExternalEvent&&s.onExternalEvent({type:pu.EXTERNAL_EVENT,name:t,ts:0})}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitTargetingRulesArtificialPageview=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onTargetingRulesArtificialPageview&&s.onTargetingRulesArtificialPageview(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n}(qf),Vf="|iframe|",Ff=function(t){function n(n,i,r,e){var s=t.call(this)||this;return s.tg=n,s.ng=i,s.ig=r,s.rg=e,s}return Q(n,t),n.prototype.emitIframeEvent=function(t,n,i){if(this.eg(n)&&null===t)kn.error("iframeEventEmitter received event ".concat(n," with null iframe, content:").concat(csJSON.stringify(i)));else switch(n){case An.ChildLogMessage:this.sg(i);break;case An.AnalysisEvent:var r=i,e=this.tg.transformEvent(t,r);e.isUserEvent?this.og(e.event):this.ug(e.event);break;case An.RecordingEvent:var s=i,o=this.rg.transformEvents(t,s);if(0===o.events.length)return;o.containsUserEvent?this.cg(o.events):this.hg(o.events);break;case An.JavascriptError:this.ag(i);break;case An.ApiError:this.fg(i);break;case An.DetailedApiError:this.lg(i);break;case An.CustomError:this.vg(i);break;case An.EmerchandisingMessage:var u=this.ig.transformEvent(t,i);this.dg(u);break;case An.Commands:var c=this.ng.transformEvent(t,i);this.yg(c);break;case An.IntegrationCallback:this.wg(i);break;case An.StaticResource:this.pg(i);break;case An.TrackingContextRequestMessage:this.mg(i);break;default:kn.error("Parent received unknown data type from iframe : ".concat(csJSON.stringify(i)))}},n.prototype.eg=function(t){var n=[An.AnalysisEvent,An.RecordingEvent,An.EmerchandisingMessage,An.Commands];return-1!==csArray.prototype.indexOf.call(n,t)},n.prototype.sg=function(t){var n=t.message,i=t.errorCode;switch(t.level){case dt.debug:kn.debug(n,i);break;case dt.warn:kn.warn(n,!0,i);break;case dt.error:kn.error(n,i);break;case dt.critical:kn.critical(n,i)}},n.prototype.og=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeAnalysisUserEvent&&s.onIframeAnalysisUserEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.ug=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeAnalysisBrowserEvent&&s.onIframeAnalysisBrowserEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.cg=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeRecordingUserEvent&&s.onIframeRecordingUserEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.hg=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeRecordingBrowserEvent&&s.onIframeRecordingBrowserEvent(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.ag=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeJavascriptError&&s.onIframeJavascriptError(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.fg=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeApiError&&s.onIframeApiError(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.lg=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeDetailedApiError&&s.onIframeDetailedApiError(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.dg=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeEmerchandisingMessage&&s.onIframeEmerchandisingMessage(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.yg=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeCommands&&s.onIframeCommands(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.wg=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeIntegrationCallback&&s.onIframeIntegrationCallback(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.pg=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeStaticResource&&s.onIframeStaticResource(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.mg=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onTrackingContextRequestCallback&&s.onTrackingContextRequestCallback(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.vg=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIframeCustomError&&s.onIframeCustomError(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n}(qf);!function(t){t.COMPRESSION_DISABLED="compressionDisabled"}(Uf||(Uf={}));var Bf=function(){function t(){}return t.init=function(t){this.gg&&void 0===t||this.initFlags(t)},t.initFlags=function(t){var n;void 0===t&&(t=document.cookie);var i=null===(n=/_cs_debug=((\w|\.|\:|=)+)/g.exec(t))||void 0===n?void 0:n[1];if(this.gg=new Map,i)for(var r=csString.prototype.split.call(i,"."),e=0;e<r.length;e++){var s=st(csString.prototype.split.call(r[e],"="),2),o=s[0],u=s[1];this.gg.set(o,u||"true")}},t.getBoolean=function(t){var n=this.getString(t);return null!=n&&"false"!==n&&0!==parseInt(n)},t.getString=function(t){var n;return this.init(),null===(n=this.gg)||void 0===n?void 0:n.get(t)},t.isCompressionEnabled=function(){return!this.getBoolean(Uf.COMPRESSION_DISABLED)},t.Log=function(n){return function(i,r,e){var s,o=r.toString(),u="".concat(null===(s=i.constructor)||void 0===s?void 0:s.name,".").concat(o),c=e.value;(function(t,n){var i;if(null==t)return!1;return t===n||!!(null===(i=csString.prototype.match.call(t,new csRegExp("(^|,)("+n+")(,|$)")))||void 0===i?void 0:i.length)})(t.getString("debugLog"),n)&&(e.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return console.log.apply(console,ot([u],st(t),!1)),c.bind(this).apply(void 0,ot([],st(t),!1))})}},t}();function zf(){function t(t){for(var n=t.length;--n>=0;)t[n]=0}var n=256,i=286,r=30,e=15,s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),o=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),u=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=new Array(576);t(h);var a=new Array(60);t(a);var f=new Array(512);t(f);var l=new Array(256);t(l);var v=new Array(29);t(v);var d,y,w,p=new Array(r);function m(t,n,i,r,e){this.static_tree=t,this.extra_bits=n,this.extra_base=i,this.elems=r,this.max_length=e,this.has_stree=t&&t.length}function g(t,n){this.dyn_tree=t,this.max_code=0,this.stat_desc=n}t(p);var S=function(t){return t<256?f[t]:f[256+(t>>>7)]},b=function(t,n){t.pending_buf[t.pending++]=255&n,t.pending_buf[t.pending++]=n>>>8&255},A=function(t,n,i){t.bi_valid>16-i?(t.bi_buf|=n<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=n>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=n<<t.bi_valid&65535,t.bi_valid+=i)},E=function(t,n,i){A(t,i[2*n],i[2*n+1])},R=function(t,n){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--n>0);return i>>>1},T=function(t,n,i){var r,s,o=new Array(16),u=0;for(r=1;r<=e;r++)o[r]=u=u+i[r-1]<<1;for(s=0;s<=n;s++){var c=t[2*s+1];0!==c&&(t[2*s]=R(o[c]++,c))}},O=function(t){var n;for(n=0;n<i;n++)t.dyn_ltree[2*n]=0;for(n=0;n<r;n++)t.dyn_dtree[2*n]=0;for(n=0;n<19;n++)t.bl_tree[2*n]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},N=function(t){t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},k=function(t,n,i,r){var e=2*n,s=2*i;return t[e]<t[s]||t[e]===t[s]&&r[n]<=r[i]},C=function(t,n,i){for(var r=t.heap[i],e=i<<1;e<=t.heap_len&&(e<t.heap_len&&k(n,t.heap[e+1],t.heap[e],t.depth)&&e++,!k(n,r,t.heap[e],t.depth));)t.heap[i]=t.heap[e],i=e,e<<=1;t.heap[i]=r},I=function(t,i,r){var e,u,c,h,a=0;if(0!==t.last_lit)do{e=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],u=t.pending_buf[t.l_buf+a],a++,0===e?E(t,u,i):(c=l[u],E(t,c+n+1,i),0!==(h=s[c])&&(u-=v[c],A(t,u,h)),e--,c=S(e),E(t,c,r),0!==(h=o[c])&&(e-=p[c],A(t,e,h)))}while(a<t.last_lit);E(t,256,i)},_=function(t,n){var i,r,s,o=n.dyn_tree,u=n.stat_desc.static_tree,c=n.stat_desc.has_stree,h=n.stat_desc.elems,a=-1;for(t.heap_len=0,t.heap_max=573,i=0;i<h;i++)0!==o[2*i]?(t.heap[++t.heap_len]=a=i,t.depth[i]=0):o[2*i+1]=0;for(;t.heap_len<2;)o[2*(s=t.heap[++t.heap_len]=a<2?++a:0)]=1,t.depth[s]=0,t.opt_len--,c&&(t.static_len-=u[2*s+1]);for(n.max_code=a,i=t.heap_len>>1;i>=1;i--)C(t,o,i);s=h;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],C(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=r,o[2*s]=o[2*i]+o[2*r],t.depth[s]=(t.depth[i]>=t.depth[r]?t.depth[i]:t.depth[r])+1,o[2*i+1]=o[2*r+1]=s,t.heap[1]=s++,C(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,n){var i,r,s,o,u,c,h=n.dyn_tree,a=n.max_code,f=n.stat_desc.static_tree,l=n.stat_desc.has_stree,v=n.stat_desc.extra_bits,d=n.stat_desc.extra_base,y=n.stat_desc.max_length,w=0;for(o=0;o<=e;o++)t.bl_count[o]=0;for(h[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<573;i++)(o=h[2*h[2*(r=t.heap[i])+1]+1]+1)>y&&(o=y,w++),h[2*r+1]=o,r>a||(t.bl_count[o]++,u=0,r>=d&&(u=v[r-d]),c=h[2*r],t.opt_len+=c*(o+u),l&&(t.static_len+=c*(f[2*r+1]+u)));if(0!==w){do{for(o=y-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[y]--,w-=2}while(w>0);for(o=y;0!==o;o--)for(r=t.bl_count[o];0!==r;)(s=t.heap[--i])>a||(h[2*s+1]!==o&&(t.opt_len+=(o-h[2*s+1])*h[2*s],h[2*s+1]=o),r--)}}(t,n),T(o,a,t.bl_count)},x=function(t,n,i){var r,e,s=-1,o=n[1],u=0,c=7,h=4;for(0===o&&(c=138,h=3),n[2*(i+1)+1]=65535,r=0;r<=i;r++)e=o,o=n[2*(r+1)+1],++u<c&&e===o||(u<h?t.bl_tree[2*e]+=u:0!==e?(e!==s&&t.bl_tree[2*e]++,t.bl_tree[32]++):u<=10?t.bl_tree[34]++:t.bl_tree[36]++,u=0,s=e,0===o?(c=138,h=3):e===o?(c=6,h=3):(c=7,h=4))},P=function(t,n,i){var r,e,s=-1,o=n[1],u=0,c=7,h=4;for(0===o&&(c=138,h=3),r=0;r<=i;r++)if(e=o,o=n[2*(r+1)+1],!(++u<c&&e===o)){if(u<h)do{E(t,e,t.bl_tree)}while(0!=--u);else 0!==e?(e!==s&&(E(t,e,t.bl_tree),u--),E(t,16,t.bl_tree),A(t,u-3,2)):u<=10?(E(t,17,t.bl_tree),A(t,u-3,3)):(E(t,18,t.bl_tree),A(t,u-11,7));u=0,s=e,0===o?(c=138,h=3):e===o?(c=6,h=3):(c=7,h=4)}},M=!1,D=function(t,n,i,r){A(t,0+(r?1:0),3),function(t,n,i,r){N(t),r&&(b(t,i),b(t,~i)),t.pending_buf.set(t.window.subarray(n,n+i),t.pending),t.pending+=i}(t,n,i,!0)},L=function(t){M||(!function(){var t,n,c,g,S,b=new Array(16);for(c=0,g=0;g<28;g++)for(v[g]=c,t=0;t<1<<s[g];t++)l[c++]=g;for(l[c-1]=g,S=0,g=0;g<16;g++)for(p[g]=S,t=0;t<1<<o[g];t++)f[S++]=g;for(S>>=7;g<r;g++)for(p[g]=S<<7,t=0;t<1<<o[g]-7;t++)f[256+S++]=g;for(n=0;n<=e;n++)b[n]=0;for(t=0;t<=143;)h[2*t+1]=8,t++,b[8]++;for(;t<=255;)h[2*t+1]=9,t++,b[9]++;for(;t<=279;)h[2*t+1]=7,t++,b[7]++;for(;t<=287;)h[2*t+1]=8,t++,b[8]++;for(T(h,287,b),t=0;t<r;t++)a[2*t+1]=5,a[2*t]=R(t,5);d=new m(h,s,257,i,e),y=new m(a,o,0,r,e),w=new m(new Array(0),u,0,19,7)}(),M=!0),t.l_desc=new g(t.dyn_ltree,d),t.d_desc=new g(t.dyn_dtree,y),t.bl_desc=new g(t.bl_tree,w),t.bi_buf=0,t.bi_valid=0,O(t)},U=function(t,i,r,e){var s,o,u=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var i,r=4093624447;for(i=0;i<=31;i++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*i])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(i=32;i<n;i++)if(0!==t.dyn_ltree[2*i])return 1;return 0}(t)),_(t,t.l_desc),_(t,t.d_desc),u=function(t){var n;for(x(t,t.dyn_ltree,t.l_desc.max_code),x(t,t.dyn_dtree,t.d_desc.max_code),_(t,t.bl_desc),n=18;n>=3&&0===t.bl_tree[2*c[n]+1];n--);return t.opt_len+=3*(n+1)+5+5+4,n}(t),s=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=s&&(s=o)):s=o=r+5,r+4<=s&&-1!==i?D(t,i,r,e):4===t.strategy||o===s?(A(t,2+(e?1:0),3),I(t,h,a)):(A(t,4+(e?1:0),3),function(t,n,i,r){var e;for(A(t,n-257,5),A(t,i-1,5),A(t,r-4,4),e=0;e<r;e++)A(t,t.bl_tree[2*c[e]+1],3);P(t,t.dyn_ltree,n-1),P(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,u+1),I(t,t.dyn_ltree,t.dyn_dtree)),O(t),e&&N(t)},j=function(t,i,r){return t.pending_buf[t.d_buf+2*t.last_lit]=i>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&i,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===i?t.dyn_ltree[2*r]++:(t.matches++,i--,t.dyn_ltree[2*(l[r]+n+1)]++,t.dyn_dtree[2*S(i)]++),t.last_lit===t.lit_bufsize-1},q=function(t){A(t,2,3),E(t,256,h),function(t){16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)},H={_tr_init:L,_tr_stored_block:D,_tr_flush_block:U,_tr_tally:j,_tr_align:q},V=function(t,n,i,r){for(var e=65535&t,s=t>>>16&65535,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{s=s+(e=e+n[r++]|0)|0}while(--o);e%=65521,s%=65521}return e|s<<16},F=new Uint32Array(function(){for(var t,n=[],i=0;i<256;i++){t=i;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;n[i]=t}return n}()),B=function(t,n,i,r){var e=F,s=r+i;t^=-1;for(var o=r;o<s;o++)t=t>>>8^e[255&(t^n[o])];return~t},z={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},G=0,$=2,J=3,W=4,Y=0,X=1,K=-1,Q=0,Z=8,tt=H._tr_init,nt=H._tr_stored_block,it=H._tr_flush_block,rt=H._tr_tally,et=H._tr_align,st=G,ot=1,ut=J,ct=W,ht=5,at=Y,ft=X,lt=-2,vt=-3,dt=-5,yt=K,wt=1,pt=2,mt=3,gt=4,St=Q,bt=2,At=Z,Et=258,Rt=262,Tt=103,Ot=113,Nt=666,kt=function(t,n){return t.msg=z[n],n},Ct=function(t){return(t<<1)-(t>4?9:0)},It=function(t){for(var n=t.length;--n>=0;)t[n]=0},_t=function(t,n,i){return(n<<t.hash_shift^i)&t.hash_mask},xt=function(t){var n=t.state,i=n.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(t.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+i),t.next_out),t.next_out+=i,n.pending_out+=i,t.total_out+=i,t.avail_out-=i,n.pending-=i,0===n.pending&&(n.pending_out=0))},Pt=function(t,n){it(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,n),t.block_start=t.strstart,xt(t.strm)},Mt=function(t,n){t.pending_buf[t.pending++]=n},Dt=function(t,n){t.pending_buf[t.pending++]=n>>>8&255,t.pending_buf[t.pending++]=255&n},Lt=function(t,n,i,r){var e=t.avail_in;return e>r&&(e=r),0===e?0:(t.avail_in-=e,n.set(t.input.subarray(t.next_in,t.next_in+e),i),1===t.state.wrap?t.adler=V(t.adler,n,e,i):2===t.state.wrap&&(t.adler=B(t.adler,n,e,i)),t.next_in+=e,t.total_in+=e,e)},Ut=function(t,n){var i,r,e=t.max_chain_length,s=t.strstart,o=t.prev_length,u=t.nice_match,c=t.strstart>t.w_size-Rt?t.strstart-(t.w_size-Rt):0,h=t.window,a=t.w_mask,f=t.prev,l=t.strstart+Et,v=h[s+o-1],d=h[s+o];t.prev_length>=t.good_match&&(e>>=2),u>t.lookahead&&(u=t.lookahead);do{if(h[(i=n)+o]===d&&h[i+o-1]===v&&h[i]===h[s]&&h[++i]===h[s+1]){s+=2,i++;do{}while(h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&s<l);if(r=Et-(l-s),s=l-Et,r>o){if(t.match_start=n,o=r,r>=u)break;v=h[s+o-1],d=h[s+o]}}}while((n=f[n&a])>c&&0!=--e);return o<=t.lookahead?o:t.lookahead},jt=function(t){var n,i,r,e,s,o=t.w_size;do{if(e=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-Rt)){t.window.set(t.window.subarray(o,o+o),0),t.match_start-=o,t.strstart-=o,t.block_start-=o,n=i=t.hash_size;do{r=t.head[--n],t.head[n]=r>=o?r-o:0}while(--i);n=i=o;do{r=t.prev[--n],t.prev[n]=r>=o?r-o:0}while(--i);e+=o}if(0===t.strm.avail_in)break;if(i=Lt(t.strm,t.window,t.strstart+t.lookahead,e),t.lookahead+=i,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=_t(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=_t(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Rt&&0!==t.strm.avail_in)},qt=function(t,n){for(var i,r;;){if(t.lookahead<Rt){if(jt(t),t.lookahead<Rt&&n===st)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=_t(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-Rt&&(t.match_length=Ut(t,i)),t.match_length>=3)if(r=rt(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=_t(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=_t(t,t.ins_h,t.window[t.strstart+1]);else r=rt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Pt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pt(t,!1),0===t.strm.avail_out)?1:2},Ht=function(t,n){for(var i,r,e;;){if(t.lookahead<Rt){if(jt(t),t.lookahead<Rt&&n===st)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=_t(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-Rt&&(t.match_length=Ut(t,i),t.match_length<=5&&(t.strategy===wt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){e=t.strstart+t.lookahead-3,r=rt(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=e&&(t.ins_h=_t(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(Pt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=rt(t,0,t.window[t.strstart-1]))&&Pt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=rt(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pt(t,!1),0===t.strm.avail_out)?1:2};function Vt(t,n,i,r,e){this.good_length=t,this.max_lazy=n,this.nice_length=i,this.max_chain=r,this.func=e}var Ft=[new Vt(0,0,0,0,(function(t,n){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(jt(t),0===t.lookahead&&n===st)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+i;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,Pt(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-Rt&&(Pt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Pt(t,!1),t.strm.avail_out),1)})),new Vt(4,4,8,4,qt),new Vt(4,5,16,8,qt),new Vt(4,6,32,32,qt),new Vt(4,4,16,16,Ht),new Vt(8,16,32,32,Ht),new Vt(8,16,128,128,Ht),new Vt(8,32,128,256,Ht),new Vt(32,128,258,1024,Ht),new Vt(32,258,258,4096,Ht)];function Bt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=At,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),It(this.dyn_ltree),It(this.dyn_dtree),It(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),It(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),It(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var zt=function(t){if(!t||!t.state)return kt(t,lt);t.total_in=t.total_out=0,t.data_type=bt;var n=t.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?42:Ot,t.adler=2===n.wrap?0:1,n.last_flush=st,tt(n),at},Gt=function(t){var n=zt(t);return n===at&&function(t){t.window_size=2*t.w_size,It(t.head),t.max_lazy_match=Ft[t.level].max_lazy,t.good_match=Ft[t.level].good_length,t.nice_match=Ft[t.level].nice_length,t.max_chain_length=Ft[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),n},$t=function(t,n,i,r,e,s){if(!t)return lt;var o=1;if(n===yt&&(n=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),e<1||e>9||i!==At||r<8||r>15||n<0||n>9||s<0||s>gt)return kt(t,lt);8===r&&(r=9);var u=new Bt;return t.state=u,u.strm=t,u.wrap=o,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=e+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new Uint8Array(2*u.w_size),u.head=new Uint16Array(u.hash_size),u.prev=new Uint16Array(u.w_size),u.lit_bufsize=1<<e+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new Uint8Array(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=n,u.strategy=s,u.method=i,Gt(t)},Jt=function(t,n){var i,r;if(!t||!t.state||n>ht||n<0)return t?kt(t,lt):lt;var e=t.state;if(!t.output||!t.input&&0!==t.avail_in||e.status===Nt&&n!==ct)return kt(t,0===t.avail_out?dt:lt);e.strm=t;var s=e.last_flush;if(e.last_flush=n,42===e.status)if(2===e.wrap)t.adler=0,Mt(e,31),Mt(e,139),Mt(e,8),e.gzhead?(Mt(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),Mt(e,255&e.gzhead.time),Mt(e,e.gzhead.time>>8&255),Mt(e,e.gzhead.time>>16&255),Mt(e,e.gzhead.time>>24&255),Mt(e,9===e.level?2:e.strategy>=pt||e.level<2?4:0),Mt(e,255&e.gzhead.os),e.gzhead.extra&&e.gzhead.extra.length&&(Mt(e,255&e.gzhead.extra.length),Mt(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=B(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=69):(Mt(e,0),Mt(e,0),Mt(e,0),Mt(e,0),Mt(e,0),Mt(e,9===e.level?2:e.strategy>=pt||e.level<2?4:0),Mt(e,3),e.status=Ot);else{var o=At+(e.w_bits-8<<4)<<8;o|=(e.strategy>=pt||e.level<2?0:e.level<6?1:6===e.level?2:3)<<6,0!==e.strstart&&(o|=32),o+=31-o%31,e.status=Ot,Dt(e,o),0!==e.strstart&&(Dt(e,t.adler>>>16),Dt(e,65535&t.adler)),t.adler=1}if(69===e.status)if(e.gzhead.extra){for(i=e.pending;e.gzindex<(65535&e.gzhead.extra.length)&&(e.pending!==e.pending_buf_size||(e.gzhead.hcrc&&e.pending>i&&(t.adler=B(t.adler,e.pending_buf,e.pending-i,i)),xt(t),i=e.pending,e.pending!==e.pending_buf_size));)Mt(e,255&e.gzhead.extra[e.gzindex]),e.gzindex++;e.gzhead.hcrc&&e.pending>i&&(t.adler=B(t.adler,e.pending_buf,e.pending-i,i)),e.gzindex===e.gzhead.extra.length&&(e.gzindex=0,e.status=73)}else e.status=73;if(73===e.status)if(e.gzhead.name){i=e.pending;do{if(e.pending===e.pending_buf_size&&(e.gzhead.hcrc&&e.pending>i&&(t.adler=B(t.adler,e.pending_buf,e.pending-i,i)),xt(t),i=e.pending,e.pending===e.pending_buf_size)){r=1;break}r=e.gzindex<e.gzhead.name.length?255&e.gzhead.name.charCodeAt(e.gzindex++):0,Mt(e,r)}while(0!==r);e.gzhead.hcrc&&e.pending>i&&(t.adler=B(t.adler,e.pending_buf,e.pending-i,i)),0===r&&(e.gzindex=0,e.status=91)}else e.status=91;if(91===e.status)if(e.gzhead.comment){i=e.pending;do{if(e.pending===e.pending_buf_size&&(e.gzhead.hcrc&&e.pending>i&&(t.adler=B(t.adler,e.pending_buf,e.pending-i,i)),xt(t),i=e.pending,e.pending===e.pending_buf_size)){r=1;break}r=e.gzindex<e.gzhead.comment.length?255&e.gzhead.comment.charCodeAt(e.gzindex++):0,Mt(e,r)}while(0!==r);e.gzhead.hcrc&&e.pending>i&&(t.adler=B(t.adler,e.pending_buf,e.pending-i,i)),0===r&&(e.status=Tt)}else e.status=Tt;if(e.status===Tt&&(e.gzhead.hcrc?(e.pending+2>e.pending_buf_size&&xt(t),e.pending+2<=e.pending_buf_size&&(Mt(e,255&t.adler),Mt(e,t.adler>>8&255),t.adler=0,e.status=Ot)):e.status=Ot),0!==e.pending){if(xt(t),0===t.avail_out)return e.last_flush=-1,at}else if(0===t.avail_in&&Ct(n)<=Ct(s)&&n!==ct)return kt(t,dt);if(e.status===Nt&&0!==t.avail_in)return kt(t,dt);if(0!==t.avail_in||0!==e.lookahead||n!==st&&e.status!==Nt){var u=e.strategy===pt?function(t,n){for(var i;;){if(0===t.lookahead&&(jt(t),0===t.lookahead)){if(n===st)return 1;break}if(t.match_length=0,i=rt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(Pt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pt(t,!1),0===t.strm.avail_out)?1:2}(e,n):e.strategy===mt?function(t,n){for(var i,r,e,s,o=t.window;;){if(t.lookahead<=Et){if(jt(t),t.lookahead<=Et&&n===st)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=o[e=t.strstart-1])===o[++e]&&r===o[++e]&&r===o[++e]){s=t.strstart+Et;do{}while(r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&r===o[++e]&&e<s);t.match_length=Et-(s-e),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(i=rt(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=rt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(Pt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===ct?(Pt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pt(t,!1),0===t.strm.avail_out)?1:2}(e,n):Ft[e.level].func(e,n);if(3!==u&&4!==u||(e.status=Nt),1===u||3===u)return 0===t.avail_out&&(e.last_flush=-1),at;if(2===u&&(n===ot?et(e):n!==ht&&(nt(e,0,0,!1),n===ut&&(It(e.head),0===e.lookahead&&(e.strstart=0,e.block_start=0,e.insert=0))),xt(t),0===t.avail_out))return e.last_flush=-1,at}return n!==ct?at:e.wrap<=0?ft:(2===e.wrap?(Mt(e,255&t.adler),Mt(e,t.adler>>8&255),Mt(e,t.adler>>16&255),Mt(e,t.adler>>24&255),Mt(e,255&t.total_in),Mt(e,t.total_in>>8&255),Mt(e,t.total_in>>16&255),Mt(e,t.total_in>>24&255)):(Dt(e,t.adler>>>16),Dt(e,65535&t.adler)),xt(t),e.wrap>0&&(e.wrap=-e.wrap),0!==e.pending?at:ft)},Wt=function(t,n){var i=n.length;if(!t||!t.state)return lt;var r=t.state,e=r.wrap;if(2===e||1===e&&42!==r.status||r.lookahead)return lt;if(1===e&&(t.adler=V(t.adler,n,i,0)),r.wrap=0,i>=r.w_size){0===e&&(It(r.head),r.strstart=0,r.block_start=0,r.insert=0);var s=new Uint8Array(r.w_size);s.set(n.subarray(i-r.w_size,i),0),n=s,i=r.w_size}var o=t.avail_in,u=t.next_in,c=t.input;for(t.avail_in=i,t.next_in=0,t.input=n,jt(r);r.lookahead>=3;){var h=r.strstart,a=r.lookahead-2;do{r.ins_h=_t(r,r.ins_h,r.window[h+3-1]),r.prev[h&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=h,h++}while(--a);r.strstart=h,r.lookahead=2,jt(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=u,t.input=c,t.avail_in=o,r.wrap=e,at},Yt={deflateInit:function(t,n){return $t(t,n,At,15,8,St)},deflateInit2:$t,deflateReset:Gt,deflateResetKeep:zt,deflateSetHeader:function(t,n){return t&&t.state?2!==t.state.wrap?lt:(t.state.gzhead=n,at):lt},deflate:Jt,deflateEnd:function(t){if(!t||!t.state)return lt;var n=t.state.status;return 42!==n&&69!==n&&73!==n&&91!==n&&n!==Tt&&n!==Ot&&n!==Nt?kt(t,lt):(t.state=null,n===Ot?kt(t,vt):at)},deflateSetDictionary:Wt,deflateInfo:"pako deflate (from Nodeca project)"},Xt=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},Kt=function(t){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var i=n.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var r in i)Xt(i,r)&&(t[r]=i[r])}}return t},Qt=function(t){for(var n=0,i=0,r=t.length;i<r;i++)n+=t[i].length;var e=new Uint8Array(n),s=(i=0,0);for(r=t.length;i<r;i++){var o=t[i];e.set(o,s),s+=o.length}return e},Zt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Zt=!1}for(var tn=new Uint8Array(256),nn=0;nn<256;nn++)tn[nn]=nn>=252?6:nn>=248?5:nn>=240?4:nn>=224?3:nn>=192?2:1;tn[254]=tn[254]=1;var rn=function(t,n){if(void 0===n&&(n=t.length),n<65534&&t.subarray&&Zt)return String.fromCharCode.apply(null,t.length===n?t:t.subarray(0,n));for(var i="",r=0;r<n;r++)i+=String.fromCharCode(t[r]);return i},en=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var n,i,r,e,s,o=t.length,u=0;for(e=0;e<o;e++)55296==(64512&(i=t.charCodeAt(e)))&&e+1<o&&56320==(64512&(r=t.charCodeAt(e+1)))&&(i=65536+(i-55296<<10)+(r-56320),e++),u+=i<128?1:i<2048?2:i<65536?3:4;for(n=new Uint8Array(u),s=0,e=0;s<u;e++)55296==(64512&(i=t.charCodeAt(e)))&&e+1<o&&56320==(64512&(r=t.charCodeAt(e+1)))&&(i=65536+(i-55296<<10)+(r-56320),e++),i<128?n[s++]=i:i<2048?(n[s++]=192|i>>>6,n[s++]=128|63&i):i<65536?(n[s++]=224|i>>>12,n[s++]=128|i>>>6&63,n[s++]=128|63&i):(n[s++]=240|i>>>18,n[s++]=128|i>>>12&63,n[s++]=128|i>>>6&63,n[s++]=128|63&i);return n};var sn=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},on=Object.prototype.toString,un=G,cn=$,hn=J,an=W,fn=Y,ln=X,vn=K,dn=Q,yn=Z;function wn(t){this.options=Kt({level:vn,method:yn,chunkSize:16384,windowBits:15,memLevel:8,strategy:dn},t||{});var n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new sn,this.strm.avail_out=0;var i=Yt.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(i!==fn)throw new Error(z[i]);if(n.header&&Yt.deflateSetHeader(this.strm,n.header),n.dictionary){var r=void 0;if(r="string"==typeof n.dictionary?en(n.dictionary):"[object ArrayBuffer]"===on.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,(i=Yt.deflateSetDictionary(this.strm,r))!==fn)throw new Error(z[i]);this._dict_set=!0}}function pn(t,n){return(n=n||{}).gzip=!0,function(t,n){var i=new wn(n=n||{});if(i.push(t,!0),i.err)throw i.msg||z[i.err];return i.result}(t,n)}return wn.prototype.push=function(t,n){var i,r,e=this.strm,s=this.options.chunkSize;if(this.ended)return!1;for(r=n===~~n?n:!0===n?an:un,"string"==typeof t?e.input=en(t):"[object ArrayBuffer]"===on.call(t)?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;)if(0===e.avail_out&&(e.output=new Uint8Array(s),e.next_out=0,e.avail_out=s),(r===cn||r===hn)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if((i=Yt.deflate(e,r))===ln)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),i=Yt.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===fn;if(0!==e.avail_out){if(r>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(0===e.avail_in)break}else this.onData(e.output)}return!0},wn.prototype.onData=function(t){this.chunks.push(t)},wn.prototype.onEnd=function(t){t===fn&&(this.result=Qt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(t,n,i){var r=pn(t);return r="base64"===n?btoa(rn(r)):r.buffer,i&&i(r),r}}var Gf=function(t){function n(n){var i=t.call(this,n)||this;return i.algorithm=ui.GZIP,i.Sg=zf(),i.bg=function(t,n,r){r(i.Sg(t,n))},i.compress=$f(),"undefined"!=typeof CompressionStream&&Ar||(i.compress=i.bg,i.getCompressorSourceCode=function(){return zf.toString()}),i}return Q(n,t),n.prototype.compressSync=function(t,n){return this.Sg(t,n)},n.prototype.getCompressorSourceCode=function(){return $f.toString()},n}(fi);function $f(){return function(t,n,i){var r=new Response(t).body.pipeThrough(new CompressionStream("gzip")),e=new Response(r).arrayBuffer();"base64"!==n?e.then((function(t){return i(t)})):e.then((function(t){return n=t,new Promise((function(t){var i=new FileReader;i.onload=function(n){return t(n.target.result.split(",")[1])},i.readAsDataURL(new Blob([n]))}));var n})).then((function(t){return i(t)}))}}var Jf=function(t){function n(){var n=t.apply(this,ot([],st(arguments),!1))||this;return n.algorithm=ui.UNCOMPRESSED,n}return Q(n,t),n.prototype.compress=function(t,n,i){i(this.compressSync(t,n))},n.prototype.compressSync=function(t,n){return t},n.prototype.getCompressorSourceCode=function(){return function(){return function(t,n,i){return i(t)}}.toString()},n}(fi),Wf=function(){function t(){}return t.create=function(t,n){return void 0===n&&(n=!0),this.instance?this.instance:n&&!Bf.isCompressionEnabled()?new Jf(t):this.instance=new Gf(t)},t}(),Yf=function(){function t(){}return t.prototype.setItem=function(t,n){window.sessionStorage.setItem(t,n)},t.prototype.getItem=function(t){return window.sessionStorage.getItem(t)},t.prototype.removeItem=function(t){window.sessionStorage.removeItem(t)},t}(),Xf=function(){function t(){}return t.prototype.setItem=function(t,n){window.localStorage.setItem(t,n)},t.prototype.getItem=function(t){return window.localStorage.getItem(t)},t.prototype.removeItem=function(t){window.localStorage.removeItem(t)},t}(),Kf=["visit",2],Qf=["page",3],Zf=["nextPageOnly",4],tl=function(){function t(t,n){this.j=t,this.Ap=n,this.Ag={},this.Eg={}}return t.prototype.set=function(t,n,i,r){var e,s;if(t>0&&Ft(n)&&Ft(i)&&!Bt(n)&&!Bt(i)){var o=this.j.anonymizePII(csString(n)),u=this.j.anonymizePII(csString(i));if(e=[csString.prototype.slice.call(o,0,512),csString.prototype.slice.call(u,0,255)],s=""!==i,!Vt(r)||csArray.prototype.indexOf.call(Kf,r)>=0){var c=this.getCustomVariablesSession();s?c[t]=e:delete c[t],this.setCustomVariableSession(c)}(!Vt(r)||csArray.prototype.indexOf.call(Qf,r)>=0)&&(s?this.Ag[t]=e:delete this.Ag[t]),Vt(r)&&csArray.prototype.indexOf.call(Zf,r)>=0&&(s?this.Eg[t]=e:delete this.Eg[t])}},t.prototype.getCustomVariablesSession=function(){var t=this.Ap.get();if(!t)return{};var n=window.csJSON.parse(t);return null!==n&&Ht(n)?n:{}},t.prototype.setCustomVariableSession=function(t){this.Ap.set(window.csJSON.stringify(t))},t.prototype.removeCustomVariablesSession=function(){this.Ap.remove()},t.prototype.removeCustomVariablesPage=function(){this.Ag={}},t.prototype.getRequestParameters=function(){var t=this.getCustomVariablesSession();for(var n in this.Eg)this.Eg.hasOwnProperty(n)&&(this.Ag[n]=this.Eg[n]);for(var n in this.Ag)this.Ag.hasOwnProperty(n)&&(t[n]=this.Ag[n]);if(window.csJSON.stringify(t).length<=2)return{};var i={cvars:this.Rg(t)};return this.Ag&&window.csJSON.stringify(this.Ag).length>2&&(i.cvarp=this.Rg(this.Ag)),i},t.prototype.deleteNextPageOnlyCustomVariables=function(){if(Object.keys(this.Eg).length>0)for(var t in this.Eg)this.Eg[t]===this.Ag[t]&&(delete this.Ag[t],delete this.Eg[t])},t.prototype.Tg=function(t){for(var n in t)if(t.hasOwnProperty(n)){var i=parseInt(n,10),r=t[n],e=r[0],s=r[1];u=1,c=20,(!(Ut(o=i)&&o>=u&&o<=c)||e.length>512||s.length>255)&&delete t[n]}var o,u,c},t.prototype.Rg=function(t){this.Tg(t);var n=function(t){var n;for(n in t)return!1;return!0}(t)?[]:t;return window.csJSON.stringify(n)},t.prototype.getAllValidCustomVars=function(){var t=this.getCustomVariablesSession();for(var n in this.Eg)this.Eg.hasOwnProperty(n)&&(this.Ag[n]=this.Eg[n]);for(var n in this.Ag)this.Ag.hasOwnProperty(n)&&(t[n]=this.Ag[n]);return this.Tg(t),t},t}(),nl=["setCustomVariable"],il=function(){function t(t,n){this.Qh=t,this.vn=n}return t.prototype.init=function(){var t=this;this.Qh.register(nl,(function(n,i,r,e){t.vn.set(n,i,r,e)}))},t.prototype.onAfterArtificialPageView=function(){this.vn.deleteNextPageOnlyCustomVariables()},t.prototype.onAfterNaturalPageView=function(){this.vn.deleteNextPageOnlyCustomVariables()},t.prototype.onOptout=function(){this.vn.removeCustomVariablesSession()},t.prototype.onBeforeVisitorRenewal=function(){this.vn.removeCustomVariablesSession(),this.vn.removeCustomVariablesPage()},t}(),rl=function(){function t(t){this.j=t}return t.prototype.anonymizeUrl=function(t,n,i){void 0===n&&(n=[]),void 0===i&&(i=[]);var r=this.j.anonymizePII(t);r=this.j.anonymizeJwt(r);var e=this.Og(r,n);return e!==r?e:this.Ng(r,i)},t.prototype.removeQueryString=function(t){var n=this.kg(t),i=n.path;return""!==n.queryString?"".concat(i,"?"):i},t.prototype.kg=function(t){var n,i=csString.prototype.indexOf.call(t,"?"),r="";return-1!==i?(n=csString.prototype.slice.call(t,0,i),r=csString.prototype.slice.call(t,i,t.length)):n=t,{path:n,queryString:r}},t.prototype.Og=function(t,n){var i,r;if(0===n.length)return t;var e=this.kg(t),s=e.path,o=e.queryString,u=csString.prototype.split.call(s,"/");try{for(var c=et(n),h=c.next();!h.done;h=c.next()){var a=h.value,f=this.Cg(u,a);if(null!==f)return"".concat(f).concat(o)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}return t},t.prototype.Cg=function(t,n){if(t.length<n.length)return null;for(var i=[],r=0;r<t.length;r++){var e=t[r];if(r>=n.length)csArray.prototype.push.call(i,e);else{var s=n[r].key;if(this.Ig(s)){var o=n[r].value;csArray.prototype.push.call(i,o)}else{if(e!==s)return null;csArray.prototype.push.call(i,e)}}}return csArray.prototype.join.call(i,"/")},t.prototype.Ng=function(t,n){var i,r;if(0===n.length)return t;var e=this.kg(t),s=e.path,o=e.queryString,u=csString.prototype.split.call(s,"/");try{for(var c=et(n),h=c.next();!h.done;h=c.next()){var a=h.value;u=this._g(u,a)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}return"".concat(csArray.prototype.join.call(u,"/")).concat(o)},t.prototype._g=function(t,n){for(var i=[],r=0,e=0;e<t.length;e++){var s=t[e],o=n[r].key;if(this.Ig(o)&&s.length>0){var u=n[r].value;csArray.prototype.push.call(i,u),++r===n.length&&(r=0)}else if(s!==o){for(var c=0;c<r;c++){i[h=e-r+c]=t[h]}r=0,csArray.prototype.push.call(i,s)}else csArray.prototype.push.call(i,s),++r===n.length&&(r=0)}for(e=0;e<r;e++){var h;i[h=t.length-r+e]=t[h]}return i},t.prototype.Ig=function(t){return ht(t,":")},t}(),el=function(){function t(t,n){this.lf=t,this.U=n}return t.prototype.getEventTargetPath=function(t){var n=Sr(t);return this.lf.getElementPath(n,Z({dynamicIdRegex:this.U.dynamicIdRegex},this.U.pathComputationRules))},t.prototype.getEventTargetPathAndTargetLink=function(t){var n=Sr(t),i=this.lf.getElementPathAndFirstAnchorParent(n,Z({dynamicIdRegex:this.U.dynamicIdRegex},this.U.pathComputationRules)),r=i.path,e=i.firstAnchorParent;return{path:r,targetLink:this.xg(e)?e.href:""}},t.prototype.hasValidEventTarget=function(t){var n=Sr(t);return this.lf.isValidElement(n)},t.prototype.getElementPath=function(t){return this.lf.getElementPath(t,Z({dynamicIdRegex:this.U.dynamicIdRegex},this.U.pathComputationRules))},t.prototype.xg=function(t){var n;return null!==t&&t.hasAttribute("href")&&!ht(null!==(n=t.getAttribute("href"))&&void 0!==n?n:"","#")},t}(),sl=function(){function t(t){this.Jf=t}return t.prototype.transformEvent=function(t,n){this.Pg(t,n.event);var i=this.Jf.getElementPath(t);return this.Mg(i,n.event),n},t.prototype.Pg=function(t,n){if(function(t){return void 0!==t.x&&void 0!==t.y}(n)){var i=t.getBoundingClientRect();n.x=Math.round(i.left+n.x+xe.windowOffsetX()),n.y=Math.round(i.top+n.y+xe.windowOffsetY())}},t.prototype.Mg=function(t,n){Vu(n)&&(n.tgt="".concat(t).concat(Vf).concat(n.tgt)),function(t){return void 0!==t.tgtHM}(n)&&(n.tgtHM="".concat(t).concat(Vf).concat(n.tgtHM)),function(t){return void 0!==t.tgtLk}(n)&&(n.tgtLk="".concat(t).concat(Vf).concat(n.tgtLk))},t}(),ol=function(){function t(t){this.Jf=t}return t.prototype.transformEvent=function(t,n){var i=this.Jf.getElementPath(t);return{iframePath:n.iframePath?"".concat(i).concat(Vf).concat(n.iframePath):i,commands:n.commands}},t}(),ul=function(){function t(t){this.Jf=t}return t.prototype.transformEvent=function(t,n){if(0===n.products.length)return n;var i=this.Jf.getElementPath(t),r=csArray.prototype.map.call(n.products,(function(t){return Z(Z({},t),{targetPath:"".concat(i).concat(Vf).concat(t.targetPath)})}));return Z(Z({},n),{products:r})},t}(),cl=function(){function t(){this.Dg={clientX:2,clientY:3},this.Lg={clientX:1,clientY:2},this.Ug=[vr.POINTER_DOWN,vr.POINTER_MOVE,vr.POINTER_UP],this.jg=[vr.TOUCH_START,vr.TOUCH_MOVE,vr.TOUCH_END]}return t.prototype.transformEvents=function(t,n){var i,r,e=this;if(!De.isConnected(t))return n.events=csArray.prototype.filter.call(n.events,(function(t){return t.type!==vr.VISIBILITY_CHANGE})),0===n.events.length||(kn.warn("IframeRecordingEventsTransformer received event ".concat(An.RecordingEvent,"\n        from disconnected iframe, content:").concat(csJSON.stringify(n.events))),n.events=[]),n;var s=Cr(t),o=null;csArray.prototype.some.call(n.events,(function(t){return e.qg(t)||e.Hg(t)}))&&(o=t.getBoundingClientRect());try{for(var u=et(n.events),c=u.next();!c.done;c=u.next()){var h=c.value;this.qg(h)?this.Vg(o,h):this.Hg(h)&&this.Fg(o,h),h.context=h.context&&h.context.length>0?"".concat(s,"/").concat(h.context):"".concat(s)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return n},t.prototype.Fg=function(t,n){this.Bg(this.Lg,t,n)},t.prototype.Vg=function(t,n){this.Bg(this.Dg,t,n)},t.prototype.Bg=function(t,n,i){i.args&&(i.args[t.clientX]=Math.round(n.left+i.args[t.clientX]),i.args[t.clientY]=Math.round(n.top+i.args[t.clientY]))},t.prototype.qg=function(t){return-1!==csArray.prototype.indexOf.call(this.Ug,t.type)},t.prototype.Hg=function(t){return-1!==csArray.prototype.indexOf.call(this.jg,t.type)},t}(),hl=function(){function t(t){this.zg=t}return t.prototype.start=function(){var t=this;this.zg.onEvent((function(n){return t.Ve(n)})),this.zg.start()},t.prototype.stop=function(){this.zg.stop()},t.prototype.Ve=function(t){var n="Content Security Policy error. Violated directive: ".concat(t.violatedDirective," - Source file: ").concat(t.sourceFile);kn.warn(n)},t}(),al=function(){function t(){var t=this;this.xu={boundElement:document,type:"securitypolicyviolation",listener:function(n){return t.securityPolicyViolationListener(n)}}}return t.prototype.start=function(){hr(this.xu)},t.prototype.stop=function(){ar(this.xu)},t.prototype.onEvent=function(t){this.ws=t},t.prototype.Gg=function(n){if(!n)return!1;var i=n.disposition;return jt(n.sourceFile)&&csArray.prototype.some.call(t.$g,(function(t){return csString.prototype.indexOf.call(n.sourceFile,t)>0}))&&"report"!==i},t.prototype.securityPolicyViolationListener=function(t){this.Gg(t)&&this.ws({violatedDirective:t.violatedDirective,sourceFile:t.sourceFile})},t.$g=["contentsquare","cdnssl.clicktale.net"],nt([qn("Event handler type: securitypolicyviolation")],t.prototype,"securityPolicyViolationListener",null),t}(),fl=function(){function t(){}return t.prototype.init=function(){this.Jg=new hl(new al),this.Jg.start()},t.prototype.onOptout=function(){this.Jg.stop()},t}(),ll=Object.prototype.toString;var vl=function(t){return"symbol"==typeof t||"object"==typeof t&&null!=t&&"[object Symbol]"===(null==(n=t)?void 0===n?"[object Undefined]":"[object Null]":ll.call(n));var n};function dl(t){if("string"==typeof t||vl(t))return t;var n="".concat(t);return"number"==typeof t?"0"===n&&1/t==-1/0?"-0":n:t instanceof Number&&"0"===n&&1/t.valueOf()==-1/0?"-0":n}var yl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wl=/^\w*$/;function pl(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var i=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var s=n?n.apply(this,r):r[0],o=i.cache;if(o.has(s))return o.get(s);var u=t.apply(this,r);return i.cache=o.set(s,u)||o,u};return i.cache=new(pl.Cache||Map),i}pl.Cache=Map;var ml,gl,Sl=".".charCodeAt(0),bl=/\\(\\)?/g,Al=csRegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g"),El=(ml=function(t){var n=[];return csString.prototype.charCodeAt.call(t,0)===Sl&&csArray.prototype.push.call(n,""),csString.prototype.replace.call(t,Al,(function(t,i,r,e){var s=t;return r?s=csString.prototype.replace.call(e,bl,"$1"):i&&(s=csString.prototype.trim.call(i)),csArray.prototype.push.call(n,s),t})),n},gl=pl(ml,(function(t){var n=gl.cache;return 500===n.size&&n.clear(),t})));function Rl(t,n){return csArray.isArray(t)?t:function(t,n){return!csArray.isArray(t)&&(!("number"!=typeof t&&"boolean"!=typeof t&&null!=t&&!vl(t))||wl.test(t)||!yl.test(t)||null!=n&&t in Object(n))}(t,n)?[t]:El(t)}function Tl(t,n,i){var r=null==t?void 0:function(t,n){for(var i=Rl(n,t),r=t,e=0,s=i.length;null!=r&&e<s;)r=r[dl(i[e])],e+=1;return e&&e===s?r:void 0}(t,n);return void 0===r?i:r}var Ol=/\b__p \+= '';/g,Nl=/\b(__p \+=) '' \+/g,kl=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cl=/['\n\r\u2028\u2029\\]/g,Il=/[&<>"']/g,_l=csRegExp(Il.source),xl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pl=/($^)/,Ml={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Dl=/[()=,{}[\]/\s]/,Ll=/<%=([\s\S]+?)%>/g,Ul=Object.prototype.hasOwnProperty;function jl(t){return"\\".concat(Ml[t])}var ql={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Hl={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Ll,variable:"",imports:{_:{template:Vl,escape:function(t){return t&&_l.test(t)?csString.prototype.replace.call(t,Il,(function(t){return ql[t]})):null!=t?t:""}}}};function Vl(t,n){var i,r,e=Z(Z({},Hl),n),s=Object.keys(e.imports||{}),o=csArray.prototype.map.call(s,(function(t){return null==e?void 0:e.imports[t]})),u=0,c=e.interpolate||Pl,h="__p += '",a=csRegExp("".concat((e.escape||Pl).source,"|").concat(c.source,"|").concat((c===Ll?xl:Pl).source,"|").concat((e.evaluate||Pl).source,"|$"),"g"),f="//# sourceURL=".concat(Ul.call(e,"sourceURL")?csString.prototype.replace.call("".concat(e.sourceURL),/\s/g," "):void 0,"\n");null==t||csString.prototype.replace.call(t,a,(function(n,e,s,o,c,a){var f=s||o;return h+=csString.prototype.replace.call(csString.prototype.slice.call(t,u,a),Cl,jl),e&&(i=!0,h+="' +\n__e(".concat(e,") +\n'")),c&&(r=!0,h+="';\n".concat(c,";\n__p += '")),f&&(h+="' +\n((__t = (".concat(f,")) == null ? '' : __t) +\n'")),u=a+n.length,n})),h+="';\n";var l,v=Ul.call(e,"variable")&&e.variable;if(v){if(Dl.test(v))throw new Error("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n".concat(h,"\n}\n");h=csString.prototype.replace.call(csString.prototype.replace.call(r?csString.prototype.replace.call(h,Ol,""):h,Nl,"$1"),kl,"$1;"),h="function(".concat(v||"obj",") {\n").concat(v?"":"obj || (obj = {});\n","var __t, __p = ''").concat(i?", __e = _.escape":"").concat(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n").concat(h,"return __p\n}");try{l=Function.apply(void 0,ot(ot([],st(s),!1),["".concat(f,"return ").concat(h)],!1)).apply(void 0,ot([],st(o),!1))}catch(t){l=t}if(l.source=h,l instanceof Error)throw l;return l}var Fl=/^(\s*("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\s*,?)+$/,Bl=/^document\.querySelector\(("(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\)\.textContent$/;function zl(t){if(!Fl.test(t))throw new Error("whitelisted function is wrongly used")}var Gl={"window.location.hash.replace(":function(t,n){return zl(csString.prototype.substring.call(t,29,t.length-1)),Vl("${".concat(t,"}"))(n)},"window.sessionStorage.getItem(":function(t,n){return zl(csString.prototype.substring.call(t,30,t.length-1)),Vl("${".concat(t,"}"))(n)},"document.querySelector(":function(t,n){if(Bl.test(t))return Vl("${".concat(t,"}"))(n)},"new Date().getTime()":function(t,n){return(new csDate).getTime().toString()}};var $l,Jl,Wl=/\$\{(.+?)\}/g,Yl=function(t){return function(n,i,r){var e="";return csArray.prototype.forEach.call(csString.prototype.split.call(i,"+"),(function(n){var i,r=csString.prototype.trim.call(n),s=Tl(t,r);if(void 0===s)if(nn(i=r,"'")&&rn(i,"'"))s=csString.prototype.substring.call(r,1,r.length-1);else{var o=function(t){var n=wi(Object.keys(Gl),(function(n){return nn(t,n)}));if(n)return Gl[n]}(r);if(o&&(s=o(r,t)),void 0===s)throw new Error("undefined not allowed")}e+=s})),e}};function Xl(t,n){try{return csString.prototype.replace.call(t,Wl,Yl(n))}catch(t){return null}}function Kl(t,n){var i,r,e={};try{for(var s=et(Object.keys(t)),o=s.next();!o.done;o=s.next()){var u=o.value,c=t[u];if(jt(c)){var h=Xl(c,n);if(null===h)return null;e[u]=h}else e[u]=c}}catch(t){i={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return e}function Ql(t,n){var i=csArray.prototype.join.call(csArray.prototype.filter.call(csArray.prototype.map.call(csString.prototype.split.call(t,","),(function(t){return Xl(t,n)})),(function(t){return null!==t&&Lr(t)})),",");return Lr(i)?i:null}function Zl(t,n){try{var i=/^values\(([a-zA-Z0-9_$[\].]+)\)\[\?([a-zA-Z0-9_$]+)\]$/.exec(t);if(!i)return null;var r=i[1],e=i[2],s=Tl(n,(u=r,csArray.isArray(u)?csArray.prototype.map.call(u,dl):vl(u)?[u]:csArray.from(El(u))));if("object"!=typeof s||null===s)return null;var o=[];return csArray.prototype.forEach.call(Object.keys(s),(function(t){var n=s[t];"object"==typeof n&&null!==n&&!csArray.isArray(n)&&e in n&&csArray.prototype.push.call(o,n)})),o}catch(t){return null}var u}function tv(t,n){var i=csString.prototype.split.call(t,"|");if(i.length>2)return null;var r=Zl(csString.prototype.trim.call(i[0]),n);return 2===i.length?null===r?null:function(t,n){var i=/^\[([0-9]+):([0-9+])\]$/.exec(t);if(!i)return null;var r=parseInt(i[1],10),e=parseInt(i[2],10);return e<=r||e>n.length?null:csArray.prototype.slice.call(n,r,e)}(csString.prototype.trim.call(i[1]),r):r}function nv(t,n){return function(t,n){switch(t){case Jl.EXIST:case Jl.NOT_EXIST:return function(t,n){var i=st(n,1),r=i[0];if(!Lr(r))return!1;switch(t){case Jl.EXIST:return null!==window.csquerySelector[document.nodeType].call(document,r);case Jl.NOT_EXIST:return null===window.csquerySelector[document.nodeType].call(document,r);default:return!1}}(t,n);default:return function(t,n){var i=st(n,2),r=i[0],e=i[1],s=t in $l;if(!(s||jt(r)&&jt(e)))return!1;switch(t){case $l.AND:return!!csArray.prototype.reduce.call(n,(function(t,n){return t&&n}));case $l.OR:return!!csArray.prototype.reduce.call(n,(function(t,n){return t||n}));case Jl.STARTS_WITH:return nn(r,e);case Jl.EQUALS:return r===e;case Jl.NOT_EQUALS:return r!==e;case Jl.CONTAINS:return csString.prototype.indexOf.call(r,e)>-1;case Jl.MATCHES:var o=function(t){var n=/^\/(.*)\/([gimy]*)$/.exec(t),i=null;if(n){var r=st(n,3),e=r[1],s=r[2];try{i=new csRegExp(e,s)}catch(t){i=null}}return i}(e);return null!==o&&o.test(r);default:return!1}}(t,n)}}(t.operator,function(t,n){return csArray.prototype.map.call(t,(function(t){return function(t){return!!(t&&t.operator&&t.args)}(t)?nv(t,n):jt(t)?Xl(t,n):t}))}(t.args,n))}function iv(t){switch(t){case"no decoding":default:return null;case"decode once":return{decodeURI:!0};case"decode multiple times":return{decodeURIDeep:!0}}}function rv(t){return"on next pageview only"===(null==t?void 0:t[0])?{lifespan:"onNextPageviewOnly"}:null}!function(t){t.AND="AND",t.OR="OR"}($l||($l={})),function(t){t.STARTS_WITH="startsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.CONTAINS="contains",t.MATCHES="matches",t.EXIST="exist",t.NOT_EXIST="notExist"}(Jl||(Jl={}));var ev,sv,ov=function(t,n){this.commandsService=t,this.args=n},uv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n}(ov),cv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){if(t.path){var n=[t.path],i=iv(t.decodeURI),r=rv(t.lifespan),e=Z(Z({},i),r);Object.keys(e).length&&n.push(e),this.Wg(n)}else this.Wg([])},n.prototype.Wg=function(t){this.commandsService.applyFromImplementation(dh[0],t,"ArtificialPageviewTemplate")},n}(ov),hv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t,n){var i,r,e=Xl(t.message,n);if(null!==e){var s={};try{for(var o=et(t.attributes),u=o.next();!u.done;u=o.next()){var c=u.value,h=Xl(c.value,n);null!==h&&(s[c.key]=h)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}this.commandsService.applyFromImplementation(fa[0],[e,s],"CustomErrorTemplate")}},n}(uv),av=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(nl[0],[t.index,t.name,t.value,t.scope[0]],"CustomVariableTemplate")},n}(ov),fv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(uu[0],[t.selector],"DataCsEncryptTemplate")},n}(ov),lv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){if(Lr(t.selector)){var n=window.csquerySelector[document.nodeType].call(document,t.selector);n&&n.setAttribute("data-cs-override-id",t.value)}},n}(ov),vv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t,n){var i=Kl(t,n);null!==i?this.Wg(i):this.Yg(t,n)()},n.prototype.Yg=function(t,n){var i=this;return function(){var r=0,e=window.csSetInterval((function(){r+=1;var s=Kl(t,n);if(null!==s)return window.csClearInterval(e),e=void 0,r=0,void i.Wg(s);r>=20&&(window.csClearInterval(e),e=void 0,r=0)}),100)}},n.prototype.Wg=function(t){var n=t.value;if("Integer"===t.type){var i=Number.parseInt(t.value,10);Number.isNaN(i)||(n=i)}this.commandsService.applyFromImplementation(Cu[0],[{key:t.key,value:n}],"DynamicVariableTemplate")},n}(uv),dv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){this.Xg({id:t.transactionId,revenue:t.revenue,currency:t.currency}),this.Kg({id:t.transactionId,name:t.name,sku:t.sku,category:t.category,price:t.price,quantity:t.quantity}),this.Qg()},n.prototype.Xg=function(t){this.commandsService.applyFromImplementation(Lu[0],[t],"EcTransactionAllTemplate")},n.prototype.Kg=function(t){this.commandsService.applyFromImplementation(Uu[0],[t],"EcTransactionAllTemplate")},n.prototype.Qg=function(){this.commandsService.applyFromImplementation(ju[0],[],"EcTransactionAllTemplate")},n}(ov),yv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(Lu[0],[t],"EcTransactionCreateTemplate")},n}(ov),wv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(Uu[0],[t],"EcTransactionItemsAddTemplate")},n}(ov),pv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(){this.commandsService.applyFromImplementation(ju[0],[],"EcTransactionSendTemplate")},n}(ov),mv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(ou[0],[t.selector],"ElementUnmaskingTemplate")},n}(ov),gv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(Bh[0],["@ETP@".concat(t.eventName)],"EventTriggerRecordingPageTemplate")},n}(ov),Sv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(Bh[0],["@ETS@".concat(t.eventName)],"EventTriggerRecordingSessionTemplate")},n}(ov),bv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(Fh[0],[t.eventName],"PageEventTemplate")},n}(ov),Av=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t,n){var i=csArray.prototype.filter.call(csArray.prototype.map.call(t.cssSelectors,(function(t){return Ql(t,n)})),(function(t){return!!t})),r=csArray.prototype.filter.call(csArray.prototype.map.call(t.attributes,(function(t){return{attrName:Xl(t.attrName,n),selector:Ql(t.selector,n)}})),(function(t){return!!t.attrName&&!!t.selector})),e={PIISelectors:ot([],st(i),!1),Attributes:ot([],st(r),!1)};this.commandsService.applyFromImplementation(Pa[0],[e],"PIIMaskingTemplate")},n}(uv),Ev=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(Bh[0],["".concat(t.eventName)],"RecordingEventTriggerTemplate")},n}(ov),Rv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){var n=[t.path],i=iv(t.decodeURI),r=rv(t.lifespan),e=Z(Z({},i),r);Object.keys(e).length&&n.push(e),this.commandsService.applyFromImplementation(yh[0],n,"SetPathTemplate")},n}(ov),Tv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){var n=[t.query],i=iv(t.decodeURI),r=rv(t.lifespan),e=Z(Z({},i),r);Object.keys(e).length&&n.push(e),this.commandsService.applyFromImplementation(wh[0],n,"SetQueryTemplate")},n}(ov),Ov=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(){this.commandsService.applyFromImplementation(hu[0],[],"SrmOnlineAssetsTemplate")},n}(ov),Nv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){if(Lr(t.selector)){var n=window.csquerySelector[document.nodeType].call(document,t.selector);n&&this.commandsService.applyFromImplementation(eh[0],[t.status,n],"SubmitTemplate")}},n}(ov),kv=function(){function t(t,n,i){this.commandsService=t,this.args=n,this.condition=i,this.isStarted=!1,this.Zg=!1}return t.prototype.onEvent=function(t){this.onEventCallback=t},t.prototype.start=function(){this.Zg||(this.onInit(),this.Zg=!0),this.isStarted||(this.onStart(),this.isStarted=!0)},t.prototype.stop=function(){this.isStarted&&(this.onStop(),this.isStarted=!1)},nt([qn()],t.prototype,"start",null),nt([qn()],t.prototype,"stop",null),t}(),Cv=function(t){function n(){var n=t.apply(this,ot([],st(arguments),!1))||this;return n.tS=!0,n}return Q(n,t),n.prototype.onInit=function(){var t=this;Lr(this.args.selector)?(this.nS=!this.args.frequency||"once per pageview"===this.args.frequency,this.Cr=new to((function(n,i){return t._n(n,i)}))):this.tS=!1},n.prototype.onStart=function(){this.tS&&this.Cr.observe(this.args.selector)},n.prototype.onStop=function(){this.tS&&(this.Cr.processPendingMutations(),this.Cr.disconnect())},n.prototype._n=function(t,n){var i=this;"added"===n&&(this.nS?(this.stop(),this.onEventCallback({element:t[0]})):new Set(t).forEach((function(t){return i.onEventCallback({element:t})})))},n}(kv),Iv=function(t){function n(){var n=t.apply(this,ot([],st(arguments),!1))||this;return n.tS=!0,n.iS=!1,n}return Q(n,t),n.prototype.onInit=function(){var t=this;Lr(this.args.selector)?this.Cr=new to((function(n,i){t._n(n,i)})):this.tS=!1},n.prototype.onStart=function(){this.tS&&(this.Cr.observe(this.args.selector),this.iS=!0)},n.prototype.onStop=function(){this.tS&&(this.Cr.processPendingMutations(),this.Cr.disconnect())},n.prototype._n=function(t,n){var i=this;this.iS?"added"===n&&new Set(t).forEach((function(t){return i.onEventCallback({element:t})})):this.onEventCallback({element:t[0]})},n}(kv),_v=function(t){function n(){var n=t.apply(this,ot([],st(arguments),!1))||this;return n.tS=!0,n}return Q(n,t),n.prototype.onInit=function(){var t=this;Lr(this.args.selector)?(this.Cu=new to((function(n){return t.rS(n)})),this.Jn=new Ke((function(n){return t.eS(n)}))):this.tS=!1},n.prototype.onStart=function(){this.tS&&(this.sS=csSymbol("MatchingElement"),this.Cu.observe(this.args.selector),this.Jn.observe())},n.prototype.onStop=function(){this.tS&&(this.Cu.processPendingMutations(),this.Cu.disconnect(),this.Jn.disconnect())},n.prototype.rS=function(t){var n=this;new Set(t).forEach((function(t){return n.oS(t)}))},n.prototype.eS=function(t){var n,i,r,e=this,s=di(t,(function(t){return t.removedNodes})),o=[];try{for(var u=et(s),c=u.next();!c.done;c=u.next()){var h=c.value;(r=csArray.prototype.push).call.apply(r,ot([o],st(this.uS(h)),!1))}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}new Set(o).forEach((function(t){return e.onEventCallback({element:t})}))},n.prototype.oS=function(t){t[this.sS]=!0},n.prototype.uS=function(t){var n=this,i=[];return Xi(t,NodeFilter.SHOW_ELEMENT).visitAll((function(t){t[n.sS]&&(De.isConnected(t)&&Pr.call(t,n.args.selector)||delete t[n.sS],csArray.prototype.push.call(i,t))})),i},n}(kv),xv=function(){function t(t){this._n=t}var n;return t.kc=function(t){this.callbacks.has(t)||(this.callbacks.add(t),1===this.callbacks.size&&hr(this.eventHandler,!1))},t.Cc=function(t){this.callbacks.delete(t),0===this.callbacks.size&&ar(this.eventHandler,!1)},t.prototype.observe=function(){n.kc(this._n)},t.prototype.disconnect=function(){n.Cc(this._n)},n=t,t.callbacks=new Set,t.readyStateChangeListener=function(t){return n.callbacks.forEach((function(n){return n(t)}))},t.eventHandler={boundElement:document,type:"readystatechange",listener:n.readyStateChangeListener},t}(),Pv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.onInit=function(){var t=this;try{this.$i=this.args.state.toLowerCase()}catch(t){this.$i="any",kn.warn("Implementations: PageStateTrigger has wrong argument.")}this.Cr=new xv((function(){t.cS(t.$i,document.readyState)&&(t.onEventCallback(),t.Cr.disconnect())}))},n.prototype.onStart=function(){this.cS(this.$i,document.readyState)?this.onEventCallback():this.Cr.observe()},n.prototype.onStop=function(){this.Cr.disconnect()},n.prototype.cS=function(t,i){var r=n.hS[i];return n.hS[t]<=r},n.hS={complete:3,interactive:2,loading:1,any:0},n}(kv),Mv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.aS=function(){this.isStarted&&this.onEventCallback()},n.prototype.onInit=function(){var t=this;this.commandsService.applyFromImplementation(bu[0],[function(){return t.aS()}],"AfterPageViewTrigger")},n.prototype.onStart=function(){},n.prototype.onStop=function(){},n}(kv),Dv=function(t){function n(){var n=t.apply(this,ot([],st(arguments),!1))||this;return n.tS=!0,n.$c=!0,n.fS={boundElement:document,type:"click",listener:function(t){return n.clickListener(t)}},n}return Q(n,t),n.prototype.clickListener=function(t){var n=t.target;Ft(n)&&zt(n)&&Pr.call(n,this.args.selector)&&this.onEventCallback({element:n})},n.prototype.onInit=function(){Lr(this.args.selector)||(this.tS=!1)},n.prototype.onStart=function(){this.tS&&hr(this.fS,this.$c)},n.prototype.onStop=function(){this.tS&&ar(this.fS,this.$c)},nt([qn("clickListener")],n.prototype,"clickListener",null),n}(kv),Lv=function(){function t(t){this._n=t}return t.lS=function(){var t,n,i,r;if("history"in window){var e=Object.getOwnPropertyDescriptors(history);if((null===(t=e.pushState)||void 0===t?void 0:t.writable)&&(null===(n=e.replaceState)||void 0===n?void 0:n.writable))return history}if(History.prototype){var s=Object.getOwnPropertyDescriptors(History.prototype);if((null===(i=s.pushState)||void 0===i?void 0:i.writable)&&(null===(r=s.replaceState)||void 0===r?void 0:r.writable))return History.prototype}jn.warn("Unable to override pushState, replaceState",!0,"HistoryChangeObserver")},t.my=function(){var n=t.lS();null===t.vS&&Bt(null==n?void 0:n.pushState)&&(t.vS=sr({target:n,methodName:"pushState",hook:function(n){var i=n.args;t.dS("pushstate",i)}})),null===t.yS&&Bt(null==n?void 0:n.replaceState)&&(t.yS=sr({target:n,methodName:"replaceState",hook:function(n){var i=n.args;t.dS("replacestate",i)}}))},t.zn=function(n){var i,r;t.Gn.add(n),1===t.Gn.size&&(null!==t.vS&&null!==t.yS||t.my(),null===(i=t.vS)||void 0===i||i.activate(),null===(r=t.yS)||void 0===r||r.activate(),hr(t.wS),hr(t.pS))},t.Kn=function(n){var i,r;t.Gn.delete(n),0===t.Gn.size&&(null===(i=t.vS)||void 0===i||i.deactivate(),null===(r=t.yS)||void 0===r||r.deactivate(),ar(t.wS),ar(t.pS))},t.dS=function(n,i){var r={type:n,state:i[0]};jt(i[2])&&(r.url=i[2]),t.Fu(r)},t.popstateListener=function(n){t.Fu({type:"popstate",state:n.state})},t.hashchangeListener=function(n){t.Fu({type:"hashchange",state:null,url:n.newURL})},t.Fu=function(n){t.Gn.forEach((function(t){t(n)}))},t.prototype.observe=function(){t.zn(this._n)},t.prototype.disconnect=function(){t.Kn(this._n)},t.vS=null,t.yS=null,t.wS={boundElement:window,type:"popstate",listener:function(n){return t.popstateListener(n)}},t.pS={boundElement:window,type:"hashchange",listener:function(n){return t.hashchangeListener(n)}},t.Gn=new Set,xn([qn("popstateListener")],t,"popstateListener",null),xn([qn("hashchangeListener")],t,"hashchangeListener",null),t}(),Uv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.onInit=function(){var t=this;"yes"===this.args.useDebounce?this._i=Zo((function(){t.onEventCallback()}),this.args.window):this._i=this.onEventCallback,this.Cr=new Lv((function(n){return t.mS(n)}))},n.prototype.gS=function(){return window.location.href},n.prototype.mS=function(t){var n="replacestate"===t.type&&-1===this.args.listeners.indexOf("replaceState"),i="hashchange"===t.type&&-1===this.args.listeners.indexOf("hashchange");if(!n&&!i){var r=this.gS();this.SS!==r&&(this.SS=r,this._i())}},n.prototype.onStart=function(){this.SS=this.gS(),this.Cr.observe()},n.prototype.onStop=function(){this.Cr.disconnect()},n}(kv),jv=function(t){function n(){var n=t.apply(this,ot([],st(arguments),!1))||this;return n.tS=!0,n.$c=!0,n.fS={boundElement:document,type:"submit",listener:function(t){return n.submitListener(t)}},n}return Q(n,t),n.prototype.submitListener=function(t){var n=t.target;Ft(n)&&zt(n)&&Pr.call(n,this.args.selector)&&this.onEventCallback({element:n})},n.prototype.onInit=function(){Lr(this.args.selector)||(this.tS=!1)},n.prototype.onStart=function(){this.tS&&hr(this.fS,this.$c)},n.prototype.onStop=function(){this.tS&&ar(this.fS,this.$c)},nt([qn("submitListener")],n.prototype,"submitListener",null),n}(kv),qv=function(t){function n(){var n=t.apply(this,ot([],st(arguments),!1))||this;return n.tS=!0,n.bS={boundElement:document,type:"mouseover",listener:function(t){return n.mouseoverListener(t)}},n.AS={boundElement:document,type:"mouseleave",listener:function(t){return n.mouseleaveListener(t)}},n}return Q(n,t),n.prototype.onInit=function(){Lr(this.args.selector)||(this.tS=!1)},n.prototype.mouseleaveListener=function(t){var n=t.target;Ft(n)&&zt(n)&&n[this.ES]&&delete n[this.ES]},n.prototype.mouseoverListener=function(t){var n=t.target;if(Ft(n)&&zt(n)){var i=Ur(n,this.args.selector);null===i||i[this.ES]||(i[this.ES]=!0,this.onEventCallback({element:i}))}},n.prototype.onStart=function(){this.tS&&(this.ES=csSymbol("Hovered"),hr(this.AS,!0),hr(this.bS,!0))},n.prototype.onStop=function(){this.tS&&(ar(this.bS),ar(this.AS))},nt([qn("mouseleaveListener")],n.prototype,"mouseleaveListener",null),nt([qn("mouseoverListener")],n.prototype,"mouseoverListener",null),n}(kv),Hv=function(t){function n(){var n=t.apply(this,ot([],st(arguments),!1))||this;return n.fS={boundElement:window,type:"hashchange",listener:function(t){return n.hashChangedListener(t)}},n}return Q(n,t),n.prototype.hashChangedListener=function(t){t.newURL&&t.newURL===t.oldURL||this.onEventCallback()},n.prototype.onInit=function(){},n.prototype.onStart=function(){hr(this.fS)},n.prototype.onStop=function(){ar(this.fS)},nt([qn("hashChangedListener")],n.prototype,"hashChangedListener",null),n}(kv),Vv=function(t){function n(){var n=t.apply(this,ot([],st(arguments),!1))||this;return n.RS=!0,n}return Q(n,t),n.prototype.onInit=function(){var t=this;Lr(this.args.selector)&&Xs.isSupported()?(this.iu=new Xs({delay:0,trackOnce:!0,reobserve:!0}),this.Cu=new to((function(n){return t.TS(n)}),{closest:!0})):this.RS=!1},n.prototype.TS=function(t){var n,i;try{for(var r=et(t),e=r.next();!e.done;e=r.next()){var s=e.value;this.iu.observe(s)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.OS=function(t,n){if(this.isStarted&&n===Js.VisibleInViewPort){var i=Ur(t,this.args.selector);i&&(this.onEventCallback({element:i}),this.stop(),this.RS=!1)}},n.prototype.onStart=function(){var t=this;this.RS&&(this.iu.start((function(n,i){return t.OS(n,i)})),this.Cu.observe(this.args.selector))},n.prototype.onStop=function(){this.RS&&(this.iu.stop(),this.Cu.disconnect())},n}(kv),Fv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(ca[0],[t.url],"ApiErrorsMaskUrlTemplate")},n}(ov),Bv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.execute=function(t){this.commandsService.applyFromImplementation(Ua[0],[t.maskingPattern],"NetworkRequestMaskUrlTemplate")},n}(ov),zv=function(){function t(t){this.Qh=t,this.NS={ApiErrorsMaskUrl:Fv,NetworkRequestMaskUrls:Bv,ArtificialPageview:cv,CustomError:hv,CustomVariable:av,DataCsEncrypt:fv,DataCsOverride:lv,DynamicVariable:vv,EcTransactionAll:dv,EcTransactionCreate:yv,EcTransactionItemsAdd:wv,EcTransactionSend:pv,ElementUnmasking:mv,EventTriggerRecordingPage:gv,EventTriggerRecordingSession:Sv,PageEvent:bv,PiiMasking:Av,RecordingEventTrigger:Ev,SetPath:Rv,SetQuery:Tv,SrmOnlineAssets:Ov,Submit:Nv},this.kS={AfterPageView:Mv,ElementAdded:Cv,ElementExist:Iv,ElementRemoved:_v,ElementVisibility:Vv,ElementClick:Dv,FormSubmit:jv,HashChange:Hv,HistoryChange:Uv,Mouseover:qv,PageState:Pv}}return t.prototype.CS=function(t){var n=this.NS[t.name];return n?new n(this.Qh,t.args):(kn.error("Implementations: template ".concat(t.name," does not exist")),null)},t.prototype.IS=function(t){var n=this.kS[t.name];return n?new n(this.Qh,t.args,t.condition):(kn.error("Implementations: trigger ".concat(t.name," does not exist")),null)},t.prototype.parse=function(t){var n,i,r,e,s=[];try{for(var o=et(t),u=o.next();!u.done;u=o.next()){var c=u.value,h=c.triggers,a=c.template,f=this.CS(a);if(f)try{for(var l=(r=void 0,et(h)),v=l.next();!v.done;v=l.next()){var d=v.value,y=this.IS(d);y&&csArray.prototype.push.call(s,{trigger:y,template:f})}}catch(t){r={error:t}}finally{try{v&&!v.done&&(e=l.return)&&e.call(l)}finally{if(r)throw r.error}}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return s},t}(),Gv=function(){function t(t,n,i){this._S=t,this.Ls=i,this.yo={window:window,document:document,location:location,cookies:{}},this.kS=new Set,this.xS=new zv(n)}return t.prototype.init=function(){var t,n,i=this;Object.defineProperty(this.yo,"cookies",{get:function(){return i.PS()}});var r=this.xS.parse(this._S),e=function(t,n){s.kS.add(t),t.onEvent((function(t){i.onTriggerEvent(t,n)}))},s=this;try{for(var o=et(r),u=o.next();!u.done;u=o.next()){var c=u.value;e(c.trigger,c.template)}}catch(n){t={error:n}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},t.prototype.start=function(t){var n=this;void 0===t&&(t=!1),this.kS.forEach((function(i){if(i.condition&&!nv(i.condition,n.yo))return;t?n.Ls.schedule((function(){i.start()})):i.start()}))},t.prototype.stop=function(){this.kS.forEach((function(t){t.stop()}))},t.prototype.MS=function(){this.stop(),this.start()},t.prototype.onTriggerEvent=function(t,n){var i,r,e,s,o,u=Z(Z({},this.yo),t),c=[];if("iterable"in n.args&&jt(n.args.iterable)&&n.args.iterable.length>0){var h=tv(n.args.iterable,u);if(Ft(h)){var a=csArray.prototype.map.call(h,(function(t){return Z(Z({},u),{$:t})}));(i=csArray.prototype.push).call.apply(i,ot([c],st(a),!1))}}else csArray.prototype.push.call(c,u);if(n instanceof uv)try{for(var f=et(c),l=f.next();!l.done;l=f.next()){var v=l.value;n.execute(n.args,v)}}catch(t){r={error:t}}finally{try{l&&!l.done&&(e=f.return)&&e.call(f)}finally{if(r)throw r.error}}else try{for(var d=et(c),y=d.next();!y.done;y=d.next()){v=y.value;var w=Kl(n.args,v);w&&(n.execute(w),n instanceof cv&&this.MS())}}catch(t){s={error:t}}finally{try{y&&!y.done&&(o=d.return)&&o.call(d)}finally{if(s)throw s.error}}},t.prototype.PS=function(){var t;try{t=document.cookie}catch(n){t=""}return csArray.prototype.reduce.call(csString.prototype.split.call(t,"; "),(function(t,n){var i=st(csString.prototype.split.call(n,"="),2),r=i[0],e=i[1];return void 0!==e&&(t[r]=e),t}),{})},nt([ri("implementationsService.start")],t.prototype,"start",null),nt([qn()],t.prototype,"onTriggerEvent",null),t}(),$v=function(){function t(t,n,i){this.DS=new Gv(t,n,i)}return t.prototype.init=function(){this.DS.init()},t.prototype.onInitTracking=function(){this.DS.start(!0)},t.prototype.onOptout=function(){this.DS.stop()},t}(),Jv=function(t){function n(n,i,r){var e=t.call(this,n,i)||this;return e.LS=null,e.US=(null==r?void 0:r.type)||"json",e.jS=null==r?void 0:r.cacheMinutes,e.hn=null==r?void 0:r.timeout,e}return Q(n,t),n.prototype.onLoad=function(t){this.en=t},n.prototype.onError=function(t){this.un=t},n.prototype.onTimeout=function(t,n){this.cn=t,this.hn=n},n.prototype.send=function(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,(function(t){return t()}));var t=this.retrieveParameters();this.N(t);var n=yt.toQuery(t),i="".concat(this.domainUri).concat(this.path?"/".concat(this.path):"","?").concat(n);this.xl(i,this.US)},n.prototype.abort=function(){this.LS&&(this.LS.abort(),this.LS=null)},n.prototype.isInProgress=function(){return null!==this.LS},n.prototype.xl=function(t,n){var i,r=this,e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType=n,e.onerror=function(){return r.un(e)},e.ontimeout=function(){return r.cn(e)},e.onload=function(){e.status>=200&&e.status<400?(r.en(r.qS(e,n)?e.response:e.responseText),csArray.prototype.forEach.call(r.afterRequestCallbacks,(function(t){return t()}))):r.un(e)},e.onloadend=function(){r.LS=null},e.timeout=null!==(i=this.hn)&&void 0!==i?i:5e3,this.LS=e,e.send()},n.prototype.qS=function(t,n){var i=t.getResponseHeader("Content-Type");return null===i?"json"===n:csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(i),"json")>0},n.prototype.N=function(t){var n,i,r;n=this.jS?"".concat((i=this.jS,r=60*i*1e3,"".concat(Math.floor(csDate.now()/r)))):csString.prototype.slice.call("".concat(Math.random()),2,8),t.r=n},n}(St),Wv=function(t){this.configuration=t},Yv=function(t){function n(n,i,r){var e=t.call(this,n)||this;return e.configuration=n,e.HS=i,e.hh=r,e.VS=bi.RECORDING_GLOBAL_SAMPLING,e}return Q(n,t),n.prototype.refreshQuota=function(){this.FS=void 0,this.BS()},n.prototype.onQuotaReady=function(t){this.zS=t},n.prototype.init=function(){this.GS()},n.prototype.sanitizeSessionCollectState=function(t){return t},n.prototype.canCollect=function(t){return null!==t&&t.collectState!==bi.QUOTA_REACHED},n.prototype.computeInitialCollectState=function(t){return this.FS?(this.hh.emitCollectStateChange(this.FS,Ai.ETR_OFF),this.FS):(kn.warn("Quota file error computeInitialCollectState() called before quota answered"),bi.QUOTA_REACHED)},n.prototype.getEligibleCollectState=function(t){return t.collectState===bi.QUOTA_REACHED?bi.QUOTA_REACHED:!oa.isRecordingSupported()&&this.isReplayRecorded(t)?bi.ANALYTICS_ONLY:t.collectState===bi.RECORDING_RULES_TARGETING?bi.RECORDING_RULES_TARGETING:t.collectState===bi.ANALYTICS_ONLY_RULES_TARGETING?bi.ANALYTICS_ONLY_RULES_TARGETING:t.collectState===bi.RECORDING_GLOBAL_SAMPLING?bi.RECORDING_GLOBAL_SAMPLING:bi.ANALYTICS_ONLY},n.prototype.abortQuotaServiceRequest=function(){},n.prototype.isReplayRecorded=function(t){return t.collectState===bi.RECORDING_GLOBAL_SAMPLING||t.collectState===bi.RECORDING_RULES_TARGETING},n.prototype.getInitialCollectState=function(){return this.FS||bi.QUOTA_REACHED},n.prototype.setVisitorService=function(t){},n.prototype.computeInitialCollectStateFromRecordingConsentGranted=function(t){return bi.ANALYTICS_ONLY},n.prototype.$S=function(t){this.FS=t,this.zS&&this.zS(t)},n.prototype.GS=function(){var t=this;this.HS.onError((function(n){return t.quotaServiceErrorHandler("HTTP:".concat(n.status," - fetching quota file for pid: ").concat(t.configuration.projectId))})),this.HS.onTimeout((function(){return t.quotaServiceErrorHandler("timeout")})),this.HS.onLoad((function(n){return t.quotaFileHandler(n)}))},n.prototype.BS=function(){this.HS.isInProgress()||this.HS.send()},n.prototype.quotaFileHandler=function(t){var n;(null===(n=null==t?void 0:t.quotas)||void 0===n?void 0:n.length)?this.JS(t):this.quotaServiceErrorHandler("Quota types missing from config file")},n.prototype.quotaServiceErrorHandler=function(t){var n="Quota error - ".concat(t);kn.warn(n),this.$S(this.VS)},n.prototype.JS=function(t){var n,i,r=!1,e=!1;try{for(var s=et(t.quotas),o=s.next();!o.done;o=s.next()){var u=o.value;"ANALYTICS"===u.quotaType&&u.value?r=!0:"RECORDING"===u.quotaType&&u.value&&lt.boolean(Math.round(100*u.value))&&(e=!0)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}!r&&e?this.quotaServiceErrorHandler("Quota types impossible: replay without analytics - ".concat(csJSON.stringify(t))):r&&e?oa.isRecordingSupported()?this.$S(bi.RECORDING_GLOBAL_SAMPLING):this.$S(bi.ANALYTICS_ONLY):r&&!e?this.$S(bi.ANALYTICS_ONLY):this.$S(bi.QUOTA_REACHED)},n.prototype.getRecordingConsentWithdrawn=function(){return bi.ANALYTICS_ONLY},nt([qn("Quota File: quotaFileHandler")],n.prototype,"quotaFileHandler",null),nt([qn("Quota File: onerror")],n.prototype,"quotaServiceErrorHandler",null),n}(Wv),Xv=function(t){function n(n,i,r,e,s){var o=t.call(this,n)||this;return o.configuration=n,o.WS=i,o.hh=r,o.gp=e,o.ot=s,o.YS=[],o}return Q(n,t),n.prototype.refreshQuota=function(){},n.prototype.onQuotaReady=function(t){},n.prototype.canCollect=function(t){return!0},n.prototype.init=function(){this.XS()},n.prototype.sanitizeSessionCollectState=function(t){return t.collectState!==bi.QUOTA_REACHED&&t.collectState!==bi.RECORDING_RULES_TARGETING&&t.collectState!==bi.RECORDING_TEMPORARILY||(t.collectState=bi.ANALYTICS_ONLY),t},n.prototype.computeInitialCollectState=function(t){return iu.isReplayConsentNeeded(this.configuration)?bi.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:this.Vp(t)},n.prototype.computeInitialCollectStateFromRecordingConsentGranted=function(t){return this.Vp(t)},n.prototype.Vp=function(t){return oa.isRecordingSupported()?(this.YS=[],lt.percentage()<this.configuration.replayRecordingRate||this.gp.isForceReplayRecorded()?csArray.prototype.push.call(this.YS,bi.RECORDING_GLOBAL_SAMPLING):this.configuration.malkaUrlEnabled&&csArray.prototype.push.call(this.YS,bi.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&csArray.prototype.push.call(this.YS,bi.RECORDING_ETR_SAMPLING),this.YS.length>0?(this.BS(t),bi.RECORDING_TEMPORARILY):bi.ANALYTICS_ONLY):bi.ANALYTICS_ONLY},n.prototype.getEligibleCollectState=function(t){return oa.isRecordingSupported()?iu.isRecordingBlockedByConsent(t)?t.collectState===bi.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?bi.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN:bi.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:t.collectState===bi.RECORDING_GLOBAL_SAMPLING?bi.RECORDING_GLOBAL_SAMPLING:(this.YS=[],this.configuration.malkaUrlEnabled&&(csArray.prototype.push.call(this.YS,bi.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&csArray.prototype.push.call(this.YS,bi.RECORDING_ETR_SAMPLING)),this.YS.length>0?(this.BS(t),bi.RECORDING_TEMPORARILY):(t.etrState===Ai.ETR_ON&&this.hh.emitCollectStateChange(bi.ANALYTICS_ONLY,Ai.ETR_ON),bi.ANALYTICS_ONLY)):bi.ANALYTICS_ONLY},n.prototype.BS=function(t){var n,i=null===(n=this.X)||void 0===n?void 0:n.getVisitor();this.WS.send({recordingTypes:csArray.prototype.map.call(this.YS,Number),url:this.ot.getAnonymizedUrl(),projectId:this.configuration.projectId,uu:(null==i?void 0:i.id)||"",sn:(null==i?void 0:i.visitsCount)||"",pn:(null==t?void 0:t.pageNumber)||""})},n.prototype.abortQuotaServiceRequest=function(){this.WS.abort()},n.prototype.isReplayRecorded=function(t){return!iu.isRecordingBlockedByConsent(t)&&(t.collectState===bi.RECORDING_TEMPORARILY||t.collectState===bi.RECORDING_GLOBAL_SAMPLING||t.collectState===bi.RECORDING_URL_SAMPLING||t.etrState===Ai.ETR_ON)},n.prototype.XS=function(){var t=this;this.WS.onError((function(){return t.quotaServiceErrorHandler("NetworkError")})),this.WS.onTimeout((function(){return t.quotaServiceTimeoutHandler()}),3e3),this.WS.onLoad((function(n){return t.quotaServiceLoadHandler(n)}))},n.prototype.quotaServiceErrorHandler=function(t){this.KS("error - ".concat(t))},n.prototype.quotaServiceTimeoutHandler=function(){this.KS("timeout")},n.prototype.KS=function(t){var n=bi.ANALYTICS_ONLY;this.QS(this.YS)?(n=bi.RECORDING_GLOBAL_SAMPLING,kn.warn("Quota Service: request ".concat(t," - bypassed by GLOBAL_SAMPLING"))):kn.warn("Quota Service: request ".concat(t)),this.hh.emitCollectStateChange(n,Ai.ETR_OFF)},n.prototype.quotaServiceLoadHandler=function(t){if(200===t.status){var n;try{n=csJSON.parse(t.responseText)}catch(n){return void this.quotaServiceErrorHandler("Unable to parse the quota service response: ".concat(t.responseText))}var i=null==n.allowedRecordingTypes?void 0:csArray.prototype.map.call(n.allowedRecordingTypes,csString);if(i){var r=Ai.ETR_OFF,e=bi.ANALYTICS_ONLY;this.QS(i)?e=bi.RECORDING_GLOBAL_SAMPLING:this.ZS(i)&&(e=bi.RECORDING_URL_SAMPLING),this.tb(i)&&(r=Ai.ETR_ON),this.hh.emitCollectStateChange(e,r)}else this.quotaServiceErrorHandler("recording types missing from quota service response")}else this.quotaServiceErrorHandler("Status code: ".concat(t.status))},n.prototype.QS=function(t){return csArray.prototype.some.call(t,(function(t){return t===bi.RECORDING_GLOBAL_SAMPLING}))},n.prototype.ZS=function(t){return csArray.prototype.some.call(t,(function(t){return t===bi.RECORDING_URL_SAMPLING}))},n.prototype.tb=function(t){return csArray.prototype.some.call(t,(function(t){return t===bi.RECORDING_ETR_SAMPLING}))},n.prototype.setVisitorService=function(t){this.X=t},n.prototype.getInitialCollectState=function(){return bi.ANALYTICS_ONLY},n.prototype.getRecordingConsentWithdrawn=function(){return bi.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN},nt([qn("Quota Service: onerror")],n.prototype,"quotaServiceErrorHandler",null),nt([qn("Quota Service: ontimeout")],n.prototype,"quotaServiceTimeoutHandler",null),nt([qn("Quota Service: onload")],n.prototype,"quotaServiceLoadHandler",null),n}(Wv),Kv=function(){function t(t,n,i,r,e){var s=this;this.U=t,this.ut=n,this.q=i,this.Ls=r,this.hh=e,this.nb=function(){var t=Zn.get(xi);null!==t&&Ui.isValidSessionString(t)?s.$w.canCollect(Ui.fromRawString(t))&&s.init():(s.$w.onQuotaReady((function(t){t!==bi.QUOTA_REACHED&&s.init()})),s.$w.refreshQuota())}}return t.prototype.initWithQuota=function(){var t=new Jv(this.U.getQuotaUri(),"",{type:"json",cacheMinutes:15});this.$w=new Yv(this.U,t,this.hh),this.$w.init(),this.nb()},t.prototype.init=function(){var t,n,i,r,e,s,o,u,c,h,a,f,l,v,d,y,w,p,m,g,S,b,A,E,R,T,O,N,k,C,I,_,x,P=this;Mh.isSupported()&&Mh.setDigestSalt(this.U.projectId.toString()),this.Ls.schedule((function(){t=new Pt,n=new rl(t),r=new jf(window.location,n),(i=new ei(P.U,r,P.ut)).init()})),this.Ls.schedule((function(){e=new Yf,s=new Xf,w=new wf(window.location,i),(new fl).init(),p=Wf.create(kn.warn);var t=(y=new Oi(p)).create("".concat(P.U.getLegacyQuotaUri(),"/quota"),!0);void 0===P.$w&&(P.$w=new Xv(P.U,t,P.hh,w,r),P.$w.init())})),this.Ls.schedule((function(){o=new Ui(P.U,i,e),c=new Ya(o,P.$w)})),this.Ls.schedule((function(){h=new Ii(P.U,i,e),a=new Ja(P.U,h,c,P.hh),P.q.setContext(a,c),P.$w.setVisitorService(a)})),this.Ls.schedule((function(){_=new cf(P.U,new tf(P.U,i,s),P.hh),f=new Ka(a,c,_),l=new Fi(P.U,i,e),v=new af(window.location,l),d=new ff(v),m=new Xa(P.U,a,v),C=new el(W,P.U),R=new sl(C),T=new ol(C),O=new ul(C),N=new cl,k=new Ff(R,T,O,N),E=new Of([Rf.UXA]),g=new Ef(E,k),S=new lf(r),b=new df(S,E);var n=new zi(P.U,i,e);I=new tl(t,n),A=new il(E,I);var y=new Ni(a,c,v,I,P.U),w=new Yi;new Wi(w,window.location);(u=new _f(P.U,i,o,h,l,n)).init();var p=new xf(P.U,w);u.setStates(y,p)})),this.Ls.schedule((function(){var e=new Ga(P.U,a,v,m,f,undefined,u,w);P.U.implementations&&((x=new $v(P.U.implementations,E,P.Ls)).init(),P.hh.addListener(x)),e.compute((function(e){P.Ls.schedule((function(){g.init();var o=new Hf,u=new uf(P.U,E,_,c,P.hh),h=new mf(P.U,i,s),f=new gf(P.hh,window.location,h),l=new Af(E,f),v=new Mf(E,P.U);var w=new Pf(P.U,a,c,undefined);e?(P.hh.emitInitTracking(),new za(w,p,a,c,P.hh,E,g,P.U,l,f,u,_,t,C,n,r,v,o,k,I,A,S,b,P.Ls,y,i,s,P.$w).start()):new hf(P.hh,E,g,l,f,d,u).start()}))}))}))},t}();!function(t){var n,i={loadBundle:function(t){var s,o,u,h,a=t.source,f=t.data;if(r(f)){n=f.token,c(i.loadBundle),e(t.origin)&&(h=function(t,n){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(t,"{version}",n.version),"{token}",n.token),"{domain}",n.domain)}("{domain}/tag/tag.bundle.js?v={version}",f),s=h,o=function(){return a.postMessage("csBundleLoaded",t.origin)},(u=document.createElement("script")).type="text/javascript",u.async=!0,u.src=s,u.onload=o,u.charset="utf-8",document.head.appendChild(u))}}};function r(t){return t&&"csBundleInjection"===t.type&&e(t.domain)&&o(t.version)&&s(t.token)}function e(n){return/^https?:\/\/[a-zA-Z0-9\.\-]+\.(content-square\.fr|contentsquare\.com|csq\.io)$/.test(n)||t.hjDomainRegex.test(n)}function s(t){return/^[a-zA-Z0-9]+$/.test(t)}function o(t){return/^[a-zA-Z0-9\.]+$/.test(t)}function u(t){window.addEventListener("message",t,!1)}function c(t){window.removeEventListener("message",t,!1)}t.getToken=function(){return n},t.isAuthorizedIncomingMessage=r,t.hjDomainRegex=/^https?:\/\/[a-zA-Z0-9\.\-]+\.hotjar\.com$/,t.isAuthorizedDomain=e,t.isAuthorizedToken=s,t.isAuthorizedTagVersion=o,t.isActivable=function(){var t=window.opener||window.parent;return window!==t&&window.addEventListener},t.waitForBundleInjection=function(){u(i.loadBundle)},t.listen=u,t.removeListener=c}(ev||(ev={})),function(t){var n,i,r=window.opener||window.parent,e=[/^https:\/\/app\.contentsquare\.com$/,/^https:\/\/dev-app\.contentsquare\.com$/,/^https:\/\/staging-app\.contentsquare\.com$/,/^https:\/\/.*\.test\.contentsquare\.com$/,/^https:\/\/app\.[a-z0-9-]+\.csiab\.[a-z0-9-]+\.csq\.io$/,ev.hjDomainRegex],s={ping:function(t){if("ping"===t.data&&o(t.origin)){var r=ev.hjDomainRegex.test(t.origin);n=r?"https://app.contentsquare.com":t.origin,i=r?t.origin:void 0,h(s.ping),c(s.insertMessageScript),u("".concat("utils.js","?cb=").concat((new csDate).getTime()))}},insertMessageScript:a((function(t){var n=t.data;"string"==typeof n&&"ping"!==n&&(h(s.insertMessageScript),u(n))}))};function o(t){return csArray.prototype.some.call(e,(function(n){return n.test(t)}))}function u(t,i){var r=document.createElement("script");r.type="text/javascript",r.async=!0;var e=csString.prototype.replace.call(n,/^https?:/,"");r.src="".concat(e,"/").concat("tag","/").concat(t),r.onload=i,r.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(r),function(t){csString.prototype.includes.call(t,"&mode=")&&sessionStorage.setItem("_hjRetakerMode",csString.prototype.split.call(t,"&mode=")[1])}(t)}function c(t){window.addEventListener("message",t,!1)}function h(t){window.removeEventListener("message",t,!1)}function a(t){return function(r){(r.origin===n||i)&&t(r)}}t.getToken=function(){return ev.getToken()},t.isActivable=function(){return window!==r&&window.addEventListener},t.isAuthorizedDomain=o,t.waitForConnection=function(){c(s.ping),ev.waitForBundleInjection()},t.listen=c,t.removeListener=h,t.secureListener=a,t.post=function(t){i?r.postMessage(t,i):n&&r.postMessage(t,n)}}(sv||(sv={}));var Qv=window.CSFrameCommunication||sv,Zv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Q(n,t),n.prototype.emitTrackingContextResultMessage=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onTrackingContextResultCallback&&s.onTrackingContextResultCallback(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitAfterPageViewCallback=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onAfterPageViewCallback&&s.onAfterPageViewCallback(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitIntegrationSessionKeyCallback=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onIntegrationSessionKeyCallback&&s.onIntegrationSessionKeyCallback(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitParentRecordingContextChange=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onParentRecordingContextChange&&s.onParentRecordingContextChange(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitParentSensitiveStatusChange=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onParentSensitiveStatusChange&&s.onParentSensitiveStatusChange(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitStartAnalytics=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onStartAnalytics&&e.onStartAnalytics()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitStopAnalytics=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onStopAnalytics&&e.onStopAnalytics()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitStartRecording=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onStartRecording&&e.onStartRecording()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitStopRecording=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onStopRecording&&e.onStopRecording()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n}(qf),td=function(t){function n(n){var i=t.call(this)||this;return i.Ls=n,i}return Q(n,t),n.prototype.emitBeforeNaturalPageView=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onBeforeNaturalPageView&&e.onBeforeNaturalPageView()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterNaturalPageView=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterNaturalPageView&&e.onAfterNaturalPageView()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitInitTracking=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onInitTracking&&e.onInitTracking()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitStartTracking=function(t){var n,i,r=function(n){n.onStartTracking&&e.Ls.schedule((function(){return n.onStartTracking(t)}))},e=this;try{for(var s=et(this.listeners),o=s.next();!o.done;o=s.next()){r(o.value)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},n.prototype.emitArtificialPageViewEnd=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;if(e.onArtificialPageViewEnd)try{e.onArtificialPageViewEnd()}catch(t){kn.error(t)}}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitBeforeArtificialPageView=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onBeforeArtificialPageView&&e.onBeforeArtificialPageView()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterArtificialPageView=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterArtificialPageView&&e.onAfterArtificialPageView()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitBeforeSessionRenewal=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onBeforeSessionRenewal&&e.onBeforeSessionRenewal()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterSessionRenewal=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterSessionRenewal&&e.onAfterSessionRenewal()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitOptout=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onOptout&&e.onOptout()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitReplayUnanonymizationConsentGranted=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onReplayUnanonymizationConsentGranted&&e.onReplayUnanonymizationConsentGranted()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitReplayUnanonymizationConsentWithdrawn=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onReplayUnanonymizationConsentWithdrawn&&e.onReplayUnanonymizationConsentWithdrawn()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterReplayRecordingConsentGranted=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterReplayRecordingConsentGranted&&e.onAfterReplayRecordingConsentGranted()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterReplayRecordingConsentWithdrawn=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterReplayRecordingConsentWithdrawn&&e.onAfterReplayRecordingConsentWithdrawn()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitCollectStateChange=function(t,n){var i,r;try{for(var e=et(this.listeners),s=e.next();!s.done;s=e.next()){var o=s.value;o.onCollectStateChange&&o.onCollectStateChange(t,n)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}},n.prototype.emitInitialDomStart=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onInitialDomStart&&e.onInitialDomStart()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitInitialDomDone=function(t){var n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;s.onInitialDomDone&&s.onInitialDomDone(t)}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},n.prototype.emitRecordingContextChange=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onRecordingContextChange&&e.onRecordingContextChange()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitSensitiveStatusChange=function(){var t,n,i;try{for(var r=et(this.listeners),e=r.next();!e.done;e=r.next()){var s=e.value;null===(i=s.onSensitiveStatusChange)||void 0===i||i.call(s)}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},n.prototype.emitBeforeVisitorRenewal=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onBeforeVisitorRenewal&&e.onBeforeVisitorRenewal()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterVisitorCleared=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterVisitorCleared&&e.onAfterVisitorCleared()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},n.prototype.emitAfterVisitorRenewal=function(){var t,n;try{for(var i=et(this.listeners),r=i.next();!r.done;r=i.next()){var e=r.value;e.onAfterVisitorRenewal&&e.onAfterVisitorRenewal()}}catch(n){t={error:n}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},nt([ri("emitStartTracking")],n.prototype,"emitStartTracking",null),n}(qf),nd=["trackTransaction"],id=function(){function t(t){this.ib=t}return t.prototype.init=function(){this.ib.register(Cu),this.ib.register(nl),this.ib.register(yh),this.ib.register(wh),this.ib.register(dh),this.ib.register(Du),this.ib.register(Lu),this.ib.register(Uu),this.ib.register(ju),this.ib.register(nd),this.ib.register(Rh),this.ib.register(Th),this.ib.register(Sf),this.ib.register(bf),this.ib.register(Nh),this.ib.register(Fh),this.ib.register(Bh),this.ib.register(hu),this.ib.register(rf),this.ib.register(ef),this.ib.register(sf),this.ib.register(of),this.ib.register(Ua),this.ib.register(ja)},t.prototype.onStartTracking=function(){this.ib.start()},t.prototype.onOptout=function(){this.ib.stop()},t}(),rd=function(t){function n(n,i){var r=t.call(this)||this;return r.Qh=n,r.rb=i,r.Ha=[],r}return Q(n,t),n.prototype.onStart=function(){this.commandsBatchReady()},n.prototype.onStop=function(){this.Ha=[]},n.prototype.register=function(t){var n,i,r=this,e=function(t){s.Qh.register([t],(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.send(t,n)}))},s=this;try{for(var o=et(t),u=o.next();!u.done;u=o.next()){e(u.value)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},n.prototype.send=function(t,n){csArray.prototype.push.call(this.Ha,{name:t,params:n}),this.isStarted&&this.commandsBatchReady()},n.prototype.commandsBatchReady=function(){if(0!==this.Ha.length){var t={commands:this.Ha};this.rb.sendToParent(An.Commands,t),this.Ha=[]}},nt([qn("Commands.iframe.commandsBatch.send")],n.prototype,"send",null),nt([tu(),qn("send iframe commands batch")],n.prototype,"commandsBatchReady",null),n}(zr),ed=function(){function t(t){void 0===t&&(t=25),this.eb=t,this.sb=[]}return t.prototype.reset=function(){this.sb=[]},t.prototype.getMessages=function(){return this.sb},t.prototype.addMessage=function(t){this.sb.length<this.eb?csArray.prototype.push.call(this.sb,t):this.sb.length===this.eb&&(this.ob(t),csArray.prototype.push.call(this.sb,t))},t.prototype.ob=function(t){t.type=An.ChildLogMessage,t.content={message:"Buffer is full, events might be missing.",errorCode:"",level:dt.warn}},t}(),sd=function(t){function n(n){var i=t.call(this)||this;return i.buffer=new ed(n),i}return Q(n,t),n}(zr),od=function(t){function n(n,i,r,e,s){var o=t.call(this,25)||this;return o.U=n,o.hh=i,o.ub=r,o.cb=e,o.hb=s,o.ab=null,o.fb={boundElement:window,type:"message",listener:function(t){return o.qv(t)}},o}return Q(n,t),n.prototype.onStart=function(){hr(this.fb,!1),this.lb()},n.prototype.onStop=function(){ar(this.fb,!1),this.ab&&(En.closeChannelPort(this.ab),this.ab=null)},n.prototype.sendToParent=function(t,n){var i=this.buildChildBaseMessage(t,n);this.xm(i)},n.prototype.lb=function(){var t=this.buildChildBaseMessage(An.Discovery);En.sendPostMessage(window.parent,"*",t)},n.prototype.buildChildBaseMessage=function(t,n){var i=En.buildBaseMessage(t,bn.Child,this.U.projectId);return n&&(i.content=n),i},n.prototype.xm=function(t){null!==this.ab?En.sendChannelMessage(this.ab,t):this.buffer.addMessage(t)},n.prototype.yb=function(t,n){var i=this,r=En.getNewChannelMessage();this.ab=r.port1,this.ab.onmessage=function(t){i.od(t)};var e=this.buildChildBaseMessage(An.Discovery);e.id=n,En.sendPostMessage(window.parent,t,e,[r.port2]),this.sendAllMessagesFromBuffer()},n.prototype.od=function(t){switch(t.data.type){case An.TrackingContextResultMessage:this.hb.emitTrackingContextResultMessage(t.data.content);break;case An.IntegrationCallback:var n=t.data.content;n.initiator===Sn.AfterPageView?this.hb.emitAfterPageViewCallback(n):n.initiator===Sn.GetSessionKey?this.hb.emitIntegrationSessionKeyCallback(n):kn.warn("Iframe child received unknown IntegrationCallback type from parent : ".concat(csJSON.stringify(t.data)));break;case An.Stop:this.hh.emitOptout();break;case An.RecordingContext:var i=t.data.content;this.ub.setRecordingContext(i),this.hb.emitParentRecordingContextChange(i);break;case An.SensitiveStatus:var r=t.data.content;this.cb.setSensitiveStatus(r),this.hb.emitParentSensitiveStatusChange(r);break;default:kn.warn("Iframe child received unknown channelMessage type from parent : ".concat(csJSON.stringify(t.data)))}},n.prototype.qv=function(t){if(null===this.ab&&En.isMessageValid(t,bn.Parent,this.U.projectId,this.U.hostnames))switch(t.data.type){case An.Stop:this.hh.emitOptout();break;case An.Discovery:if(!Ut(t.data.id)||t.data.id<0)return void kn.warn("Iframe child received discovery without valid id from parent (".concat(t.origin,") : ").concat(csJSON.stringify(t.data)));this.yb(t.origin,t.data.id);break;default:kn.warn("Iframe child received unknown postMessage type from parent (".concat(t.origin,") : ").concat(csJSON.stringify(t.data)))}},n.prototype.sendAllMessagesFromBuffer=function(){var t,n;if(null!==this.ab){var i=this.buffer.getMessages();try{for(var r=et(i),e=r.next();!e.done;e=r.next()){var s=e.value;En.sendChannelMessage(this.ab,s)}}catch(n){t={error:n}}finally{try{e&&!e.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.wb(),this.buffer.reset()}},n.prototype.wb=function(){var t=En.buildBaseMessage(An.EndOfBufferedMessages,bn.Child,this.U.projectId);En.sendChannelMessage(this.ab,t)},n}(sd),ud=function(){function t(t){this.rb=t}return t.prototype.onStartTracking=function(){this.rb.start()},t.prototype.onOptout=function(){this.rb.stop()},t}(),cd=function(){function t(t,n,i,r,e){this.Ia=t,this.Pa=n,this.rb=i,this.ub=r,this.cb=e}return t.prototype.init=function(){var t=this;this.Ia.onChildMessage((function(n,i,r){return t.Pa.emitIframeEvent(n,i,r)})),this.Ia.setSentiveStatusCallback((function(){return t.cb.getSensitiveStatus()})),this.Ia.setRecordingContextCallback((function(){return t.ub.getRecordingContext()}))},t.prototype.onStartTracking=function(){this.Ia.start()},t.prototype.onOptout=function(){this.Ia.stop()},t.prototype.onIframeRecordingUserEvent=function(t){var n={events:t,containsUserEvent:!0};this.rb.sendToParent(An.RecordingEvent,n)},t.prototype.onIframeRecordingBrowserEvent=function(t){var n={events:t,containsUserEvent:!1};this.rb.sendToParent(An.RecordingEvent,n)},t.prototype.onIframeAnalysisUserEvent=function(t){var n={event:t,isUserEvent:!0};this.rb.sendToParent(An.AnalysisEvent,n)},t.prototype.onIframeAnalysisBrowserEvent=function(t){var n={event:t,isUserEvent:!1};this.rb.sendToParent(An.AnalysisEvent,n)},t.prototype.onIframeJavascriptError=function(t){this.rb.sendToParent(An.JavascriptError,t)},t.prototype.onIframeApiError=function(t){this.rb.sendToParent(An.ApiError,t)},t.prototype.onIframeDetailedApiError=function(t){this.rb.sendToParent(An.DetailedApiError,t)},t.prototype.onIframeEmerchandisingMessage=function(t){this.rb.sendToParent(An.EmerchandisingMessage,t)},t.prototype.onIframeCommands=function(t){this.rb.sendToParent(An.Commands,t)},t.prototype.onIframeIntegrationCallback=function(t){this.rb.sendToParent(An.IntegrationCallback,t)},t.prototype.onTrackingContextRequestCallback=function(t){this.rb.sendToParent(An.TrackingContextRequestMessage,t)},t.prototype.onIframeStaticResource=function(t){this.rb.sendToParent(An.StaticResource,t)},t.prototype.onIframeCustomError=function(t){this.rb.sendToParent(An.CustomError,t)},t.prototype.onTrackingContextResultCallback=function(t){this.Ia.sendToChildren(An.TrackingContextResultMessage,t)},t.prototype.onAfterPageViewCallback=function(t){this.Ia.sendToChildren(An.IntegrationCallback,t)},t.prototype.onIntegrationSessionKeyCallback=function(t){this.Ia.sendToChildren(An.IntegrationCallback,t)},t.prototype.onParentRecordingContextChange=function(t){this.Ia.sendToChildren(An.RecordingContext,t)},t.prototype.onParentSensitiveStatusChange=function(t){this.Ia.sendToChildren(An.SensitiveStatus,t)},t}(),hd=function(t){function n(n,i,r,e,s,o,u,c){var h=t.call(this)||this;return h.Vf=n,h.uf=i,h.rb=r,h.Xf=e,h.Kf=s,h.Zf=o,h.tl=u,h.nl=c,h}return Q(n,t),n.prototype.init=function(){var t,n,i,r,e,s=this;this.Vf.onEvent((function(t){return s._e(t)})),this.uf.onEvent((function(t){return s._e(t)})),null===(t=this.Xf)||void 0===t||t.onEvent((function(t){return s._e(t)})),null===(n=this.Kf)||void 0===n||n.onEvent((function(t){return s._e(t)})),null===(i=this.Zf)||void 0===i||i.onEvent((function(t){return s._e(t)})),null===(r=this.tl)||void 0===r||r.onEvent((function(t){return s.rl(t)})),null===(e=this.nl)||void 0===e||e.onEvent((function(t){return s.rl(t)}))},n.prototype.onStart=function(){var t,n,i,r,e;this.Vf.start(),this.uf.start(),null===(t=this.Xf)||void 0===t||t.start(),null===(n=this.Kf)||void 0===n||n.start(),null===(i=this.Zf)||void 0===i||i.start(),null===(r=this.tl)||void 0===r||r.start(),null===(e=this.nl)||void 0===e||e.start()},n.prototype.onStop=function(){var t,n,i,r,e;this.Vf.stop(),this.uf.stop(),null===(t=this.Xf)||void 0===t||t.stop(),null===(n=this.Kf)||void 0===n||n.stop(),null===(i=this.Zf)||void 0===i||i.stop(),null===(r=this.tl)||void 0===r||r.stop(),null===(e=this.nl)||void 0===e||e.stop()},n.prototype._e=function(t){var n={isUserEvent:!0,event:t};this.Ve(n)},n.prototype.rl=function(t){var n={isUserEvent:!1,event:t};this.Ve(n)},n.prototype.Ve=function(t){this.isStarted&&t.event.type!==pu.RESIZE&&this.rb.sendToParent(An.AnalysisEvent,t)},n}(zr),ad=["webview:analytics:start"],fd=["webview:analytics:stop"],ld=function(){function t(t,n,i,r,e,s,o,u,c){this.U=t,this.Jf=n,this.vf=i,this.rb=r,this.Et=e,this.pb=s,this.Qh=o,this.uf=u,this.gl=c}return t.prototype.init=function(){var t=th(this.U,this.Jf,this.gl),n=new Xu(t,this.Jf,this.vf),i=this.Et.isInWebViewContext()?{collectGestureVelocity:!0,collectGestureDistance:!0}:{collectGestureVelocity:!1,collectGestureDistance:!1},r=nh(this.U,this.Jf,this.gl),e=new Yu(r,this.uf,i);this.mb=new hd(n,e,this.rb,undefined,undefined,undefined,undefined,undefined),this.mb.init(),this.Et.isInWebViewContext()&&this.gb()},t.prototype.onStartTracking=function(){this.mb.start()},t.prototype.onOptout=function(){this.mb.stop()},t.prototype.onStartAnalytics=function(){this.mb.start()},t.prototype.onStopAnalytics=function(){this.mb.stop()},t.prototype.gb=function(){var t=this;this.Qh.register(ad,(function(){return t.pb.emitStartAnalytics()}),{disableApplyPending:!0}),this.Qh.register(fd,(function(){t.pb.emitStopRecording(),t.pb.emitStopAnalytics()}),{disableApplyPending:!0})},t}(),vd=function(t){function n(n,i,r,e,s,o,u){void 0===o&&(o=[]);var c=t.call(this)||this;return c.U=n,c.oe=i,c.fe=r,c.rb=e,c.ye=s,c.we=o,c.Se=u,c.Sb=!1,c.Te=new Br,c.re=[],c.bb=!1,c.Ce=function(t){return c.rl(t)},c.Ie=function(t){return c._e(t)},c}return Q(n,t),n.prototype.init=function(){this.Be()},n.prototype.Be=function(){var t;this.ye.onEvent(this.Ce,this.Ie),this.oe.onEvent(this.Ie),null===(t=this.fe)||void 0===t||t.onInputNodeToEncrypt(this.Ie)},n.prototype.activateOnlineAssetsOnNextStart=function(){this.Sb=!0},n.prototype.getStaticResourceManagerStatus=function(){return this.Se?{supported:Es.isSupported(),onlineAssets:{activated:this.Se.isOnlineAssetsActivated(),enableOnNextStart:this.Sb}}:null},n.prototype.rl=function(t){this.Ab(t),this.Eb()},n.prototype._e=function(t){this.Rb(t),this.Eb()},n.prototype.Rb=function(t){csArray.prototype.push.call(this.re,t),this.bb=!0},n.prototype.Ab=function(t){csArray.prototype.push.call(this.re,t)},n.prototype.Eb=function(){yi(this.we,(function(t){var n;return null===(n=t.flushEvents)||void 0===n?void 0:n.call(t)}));var t={containsUserEvent:this.bb,events:this.re};this.rb.sendToParent(An.RecordingEvent,t),this.re=[],this.bb=!1},n.prototype.onStart=function(){this.Se&&this.Sb&&(this.Se.enableOnlineAssets(),this.Sb=!1),this.ye.start(),this.U.emitDebugEvents&&this.Te.emit("replayRecordingStarted"),yi(this.we,(function(t){t.start&&t.start()}))},n.prototype.onStop=function(){var t;this.ye.stop(),this.oe.stop(),null===(t=this.Se)||void 0===t||t.disableOnlineAssets(),yi(this.we,(function(t){t.stop&&t.stop()}))},n.prototype.addInitialDom=function(t){for(var n=0;n<this.re.length;n+=1){if(this.re[n].date>=t.date)return csArray.prototype.splice.call(this.re,n,0,t),this.bb=!0,void this.Eb()}this.Rb(t),this.Eb()},n}(zr),dd=function(){function t(t){this.U=t}return t.prototype.isReplayUnanonymizedAllowedByConsent=function(){return!this.U.consentRequired},t}(),yd=function(){function t(){}return t.isWebViewLocalAssetsSupported=function(){return"URL"in window},t}(),wd=["webview:replay:start"],pd=["webview:replay:stop"],md=function(){function t(t,n,i,r,e,s,o,u){this.U=t,this.pb=n,this.Tb=i,this.Ob=r,this.Nb=e,this.Qh=s,this.ot=o,this.cb=u,this.kb=!1}return t.prototype.init=function(){var t=this,n=new dd(this.U),i=new ma;if(this.ra=new lf(this.ot),new df(this.ra,this.Qh).init(),this.sa=new pa(n,this.U,this.ot,i),this.sa.init(),yd.isWebViewLocalAssetsSupported()){var r=function(n){t.Cb(n)},e=function(t){return kn.error("An error occurred while fetching a styleSheet: "+t)},s=new Set,o=function(t){return!s.has(t)},u=function(n){s.add(n.assetId),t.Cb([n])};this.Tb.onAsset((function(n){t.Ib(n)})),this.Tb.onStyleSheetFound((function(n){t.Nb.getStyleSheetAssets(n.assetId,r,e,o,u)}))}this._b()},t.prototype.onStartRecording=function(){if(this.kb=!0,!this.ra.isUrlExcludedForSessionReplay()){var t=this.cb.getSensitiveStatus();this.pb.emitParentRecordingContextChange({isRecording:!0,isMutationTrackerStarted:!0,useAnonymization:t.useAnonymization})}},t.prototype.onStopRecording=function(){this.kb=!1,this.pb.emitParentRecordingContextChange({isRecording:!1,isMutationTrackerStarted:!1})},t.prototype.onArtificialPageViewEnd=function(){this.pb.emitParentRecordingContextChange({isRecording:!1})},t.prototype.onAfterArtificialPageView=function(){this.Ci()&&!this.ra.isUrlExcludedForSessionReplay()&&this.pb.emitParentRecordingContextChange({isRecording:!0})},t.prototype.Ci=function(){return this.kb},t.prototype._b=function(){var t=this;this.Qh.register(wd,(function(){t.pb.emitStartAnalytics(),t.pb.emitStartRecording()}),{disableApplyPending:!0}),this.Qh.register(pd,(function(){return t.pb.emitStopRecording()}),{disableApplyPending:!0})},t.prototype.Ib=function(t){this.Ob.sendToParent(An.Assets,{assets:[t]})},t.prototype.Cb=function(t){0!==t.length&&this.Ob.sendToParent(An.Assets,{assets:t})},t}();var gd=/(@import\s*("([^"]+)"|'([^']+)'))|(url\s*\(\s*((("([^"\]]+)"|'([^'\]]+)')\s*)|([^)\]]+))\))/g;function Sd(t,n){var i=t.replace(gd,(function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=t[3]||t[4],e=t[9]||t[10]||t[11],s=(r||e).trim().replace(/(\\)*\\(?:([a-fA-F0-9]{1,6})|(.))[\n\t\x20]?/g,(function(t,n,i,r){if("\\"===n)return t.slice(1);if(r)return r;var e=parseInt(i,16);return 55296<=e&&e<=57343||0===e||e>1114111?"�":String.fromCodePoint(e)}));return(r?"@import ":"")+"url("+function(t){if(-1===t.indexOf('"'))return'"'+t+'"';if(-1===t.indexOf("'"))return"'"+t+"'";return t}(n(s)||s)+")"}));return i}var bd,Ad=function(){function t(t){this.xb=t}return t.prototype.getStyleSheetAssets=function(t,n,i,r,e){var s=this,o=[];if(ce(t)){this.xb.getResourceContentText(t,(function(t,u){var c=s.$s(t,u);csArray.prototype.forEach.call(c,(function(t){csArray.prototype.push.call(o,t),ce(t.assetId)&&r(t.assetId)&&(null==e||e(t),s.getStyleSheetAssets(t.assetId,n,i,r,e))})),n(o)}),(function(t){return i(t)}))}},t.prototype.$s=function(t,n){return this.Pb(t,function(t){var n=[];return Sd(t,(function(t){return n.push(t),t})),n}(n))},t.prototype.Pb=function(t,n){return csArray.prototype.map.call(csArray.prototype.filter.call(csArray.prototype.filter.call(n,(function(t){return!oe(t)})),(function(t){return!ue(t)})),(function(n){return{assetId:yn(n,t),assetBasePath:t,assetRawPath:n}}))},t}(),Ed=function(){function t(){}return t.prototype.getResourceContentText=function(t,n,i){var r=this.Mb((function(i){n(t,i.responseText)}),i);r.open("GET",t),r.send()},t.prototype.Mb=function(t,n){var i=new XMLHttpRequest;return i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(200===i.status?t(i):n(i.statusText))},i},t}(),Rd=function(t){function n(n,i){var r=t.call(this)||this;return r.ah=n,r.rb=i,r}return Q(n,t),n.prototype.onStart=function(){},n.prototype.onStop=function(){},n.prototype.init=function(){var t=this;this.ah.onSendStaticResource((function(n){return t.rb.sendToParent(An.StaticResource,n)}))},n}(zr),Td=function(){function t(t,n,i,r,e,s,o,u,c,h,a,f){this.U=t,this.j=n,this.Zh=i,this.hh=r,this.rb=e,this.ub=s,this.Qh=o,this.hb=u,this.Et=c,this.ot=h,this.cb=a,this.pu=f}return t.prototype.init=function(){var t=this,n=[],i=this.ub.getRecordingContext();this.ua=new ho(!!i.useAnonymization,this.U.whitelistedAttributes,this.j,this.U.anonymizeDigits);var r=[];csArray.prototype.push.call(r,new Us,this.ua,new ao(this.pu));var e=new xs;csArray.prototype.push.call(n,e),!this.Et.isInWebViewContext()&&this.U.useStaticResourceManager&&Es.isSupported()&&(this.Se=new Es,csArray.prototype.push.call(r,this.Se),this.ah=new Ko,this.Db=new Rd(this.ah,this.rb),this.Db.init()),this.oe=new qr,this.oe.init(),csArray.prototype.push.call(n,new Ns(window.location,this.j));var s=[this.Zh,new vs,new Bo(csArray.prototype.filter.call(n,(function(t){return t}))),new So,new Ro,new ko,new Po(this.fe)];var o=new Fo(s,r),u=new Xo(o,this.hh,this.ah);if(this.Lb=new vd(this.U,this.oe,this.fe,this.rb,u,n,this.Se),this.Qh.register(cu,(function(){return t.ub.getRecordingContext().isRecording})),this.Qh.register(au,(function(){return t.Lb.getStaticResourceManagerStatus()})),this.Lb.init(),this.Et.isInWebViewContext()){var c=new Ad(new Ed);this.Ub=new md(this.U,this.hb,e,this.rb,c,this.Qh,this.ot,this.cb),this.hb.addListener(this.Ub),this.hh.addListener(this.Ub),this.Ub.init()}},t.prototype.onParentRecordingContextChange=function(t){var n,i;void 0!==t.useAnonymization&&this.ca(t.useAnonymization),t.encryptionSelectors&&(Ks.addSelector(t.encryptionSelectors),this.fe.setEncryptionSelectors(t.encryptionSelectors)),t.activateOnlineAssetsOnNextStart&&this.Lb.activateOnlineAssetsOnNextStart(),t.isRecording?(this.pa(),this.Lb.start(),null===(n=this.Db)||void 0===n||n.start()):(this.Lb.stop(),null===(i=this.Db)||void 0===i||i.stop())},t.prototype.onInitialDomStart=function(){},t.prototype.onInitialDomDone=function(t){this.oe.start(),this.Lb.addInitialDom(t)},t.prototype.ca=function(t){var n;this.ua.setAnonymization(t),null===(n=this.ma)||void 0===n||n.setAnonymization(t)},t.prototype.onOptout=function(){this.Lb.stop()},t.prototype.pa=function(){var t,n,i,r;(null===(n=null===(t=this.U.experimental.sessionReplay)||void 0===t?void 0:t.shadowRoot)||void 0===n?void 0:n.filterByHostSelector)&&yi(null===(r=null===(i=this.U.experimental.sessionReplay)||void 0===i?void 0:i.shadowRoot)||void 0===r?void 0:r.filterByHostSelector,(function(t){Lr(t)&&Ke.setShadowRootFilter((function(n){try{return Pr.call(n.host,t)}catch(t){return!1}}))}))},t}(),Od=function(){function t(t,n){this.Ob=t,this.jb=n}return t.prototype.init=function(){var t=this;this.Ob.onWebViewEvent((function(n,i){t.jb.emitWebviewEventToBridge(n,i)}))},t.prototype.onStartTracking=function(){this.Ob.start()},t.prototype.onOptout=function(){this.Ob.stop()},t.prototype.onStartAnalytics=function(){this.Ob.setAnalyticsStatus(!0)},t.prototype.onStopAnalytics=function(){this.Ob.setAnalyticsStatus(!1)},t.prototype.onParentRecordingContextChange=function(t){this.jb.setSessionReplayStatus(t.isRecording)},t}();!function(t){t[t.PAGE_VIEW=4]="PAGE_VIEW",t[t.TAP=6]="TAP",t[t.LONG_PRESS=8]="LONG_PRESS",t[t.DRAG=9]="DRAG",t[t.FLICK=10]="FLICK",t[t.DETAILED_API_ERROR=13]="DETAILED_API_ERROR",t[t.JAVASCRIPT_ERROR_SR=19]="JAVASCRIPT_ERROR_SR",t[t.CUSTOM_ERROR_SR=20]="CUSTOM_ERROR_SR",t[t.API_ERROR=21]="API_ERROR",t[t.CUSTOM_ERROR_AN=25]="CUSTOM_ERROR_AN",t[t.JAVASCRIPT_ERROR_AN=26]="JAVASCRIPT_ERROR_AN"}(bd||(bd={}));var Nd,kd=function(){function t(){this.qb=1}return t.prototype.transformEvent=function(t){switch(t.type){case pu.TAP:return{version:this.qb,type:bd.TAP,data:{path:t.tgt}};case pu.DRAG:var n=t;return{version:this.qb,type:bd.DRAG,data:{path:n.tgt,direction:n.fd,distance:n.distance,velocity:n.velocity}};case pu.FLICK:var i=t;return{version:this.qb,type:bd.FLICK,data:{path:i.tgt,direction:i.fd,distance:i.distance,velocity:i.velocity}};default:return null}},t}(),Cd=function(){function t(t,n,i,r){this.ot=t,this.ce=n,this.ae=i,this.dp=r,this.qb=1}return t.prototype.transformEvent=function(t,n){switch(t){case An.ApiError:case An.DetailedApiError:var i=this.ae.anonymize(n);return{version:this.qb,data:i};case An.JavascriptError:var r=Z(Z({},n),{pageUrl:this.ot.getAnonymizedUrl()});i=this.ce.anonymize(r);return{version:this.qb,data:Z(Z({},i),{date:Xt()})};case An.CustomError:var e=n;return e.message=this.dp.anonymize(e.message),{version:this.qb,data:Z(Z({},e),{date:Xt()})};default:return null}},t}();!function(t){t.buildCustomErrorEvent=function(t,n,i){void 0===i&&(i=!1);var r={message:ds.truncate(t,300,ds.ELLIPSIS),errorType:"customError"};return(i||function(t){var n=Object.keys(t).length;return n>0&&n<=5}(n))&&(!function(t){for(var n in t){var i=t[n];if(t[n].length>30&&(i=ds.truncate(t[n],30,ds.ELLIPSIS),t[n]=i),n.length>30){var r=ds.truncate(n,30,ds.ELLIPSIS);delete t[n],t[r]=i}}}(n),r.attributes=n),r}}(Nd||(Nd={}));var Id;!function(t){t.isCSJavascriptBridgeDefined=function(){return"object"==typeof window.CSJavascriptBridge&&"function"==typeof window.CSJavascriptBridge.optIn&&"function"==typeof window.CSJavascriptBridge.optOut&&"function"==typeof window.CSJavascriptBridge.sendEvent&&"function"==typeof window.CSJavascriptBridge.sendDynamicVar&&"function"==typeof window.CSJavascriptBridge.sendTransaction},t.getBridgeVersion=function(){if("function"==typeof window.CSJavascriptBridge.getVersion)try{var t=window.CSJavascriptBridge.getVersion();if(Lt(t))return t}catch(t){kn.warn("an error occurred when calling getVersion")}return null},t.notifyIsReadyForTracking=function(){"function"==typeof window.CSJavascriptBridge.onWebviewTrackingReady&&window.CSJavascriptBridge.onWebviewTrackingReady()},t.sendAnalysisEvent=function(t){window.CSJavascriptBridge.sendEvent(csJSON.stringify(t))},t.sendSREvent=function(t){var n,i;if(window.CSJavascriptBridge.sendSREvent)try{for(var r=et(t.events),e=r.next();!e.done;e=r.next()){var s=e.value;window.CSJavascriptBridge.sendSREvent(csJSON.stringify(s))}}catch(t){n={error:t}}finally{try{e&&!e.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.sendLog=function(t){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendLog&&window.CSJavascriptBridge.sendLog(csJSON.stringify(t))},t.sendOptIn=function(){window.CSJavascriptBridge.optIn()},t.sendOptOut=function(){window.CSJavascriptBridge.optOut()},t.sendDynamicVariable=function(t,n){window.CSJavascriptBridge.sendDynamicVar(t,n)},t.sendTransaction=function(t,n,i){window.CSJavascriptBridge.sendTransaction(t,n,i)},t.sendAssets=function(t,n){if(window.CSJavascriptBridge.sendAssets){var i=csJSON.stringify(t);window.CSJavascriptBridge.sendAssets(i,n||null)}else window.CSJavascriptBridge.sendSRAssets&&window.CSJavascriptBridge.sendSRAssets(csArray.prototype.map.call(t,(function(t){return t.assetId})))},t.sendNativeSREvent=function(t){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendNativeSREvent&&window.CSJavascriptBridge.sendNativeSREvent(csJSON.stringify(t))}}(Id||(Id={}));var _d=function(){function t(t,n,i,r,e,s,o,u){this.Hb=t,this.tf=n,this.Vb=i,this.Fb=r,this.Bb=e,this.hh=s,this.ot=o,this.ta=u,this.zb=!1}return t.prototype.emitWebviewEventToBridge=function(t,n){return it(this,void 0,void 0,(function(){var i,r,e,s,o,u,c,h,a=this;return rt(this,(function(f){switch(f.label){case 0:switch(t){case An.AnalysisEvent:return[3,1];case An.RecordingEvent:return[3,2];case An.ChildLogMessage:return[3,3];case An.Commands:return[3,4];case An.Assets:return[3,5];case An.JavascriptError:return[3,7];case An.ApiError:return[3,8];case An.DetailedApiError:return[3,9]}return[3,10];case 1:return(i=this.Vb.transformEvent(n.event))&&Id.sendAnalysisEvent(i),[3,11];case 2:return Id.sendSREvent(n),[3,11];case 3:return Id.sendLog(n),[3,11];case 4:return kn.tryToExecute("SDKMessageUtils.sendMessage.sendCommandMessage: ".concat(n),(function(){a.Gb(n)}))(),[3,11];case 5:return e=(r=n).assets,s=r.serializationId,[4,this.Bb.getTransformedAssets(e,s)];case 6:return o=f.sent(),Id.sendAssets(o,s),[3,11];case 7:return(u=this.Fb.transformEvent(An.JavascriptError,n))&&(this.zb&&Id.sendNativeSREvent(Z(Z({},u),{type:bd.JAVASCRIPT_ERROR_SR})),Id.sendAnalysisEvent(Z(Z({},u),{type:bd.JAVASCRIPT_ERROR_AN}))),[3,11];case 8:return(c=this.Fb.transformEvent(An.ApiError,n))&&Id.sendAnalysisEvent(Z(Z({},c),{type:bd.API_ERROR})),[3,11];case 9:return(h=this.Fb.transformEvent(An.DetailedApiError,n))&&Id.sendNativeSREvent(Z(Z({},h),{type:bd.DETAILED_API_ERROR})),[3,11];case 10:return[3,11];case 11:return[2]}}))}))},t.prototype.setSessionReplayStatus=function(t){this.zb=t},t.prototype.Gb=function(t){var n,i,r=t.commands;try{for(var e=et(r),s=e.next();!s.done;s=e.next()){var o=s.value;switch(!0){case csArray.prototype.indexOf.call(bf,o.name)>=0:Id.sendOptIn();break;case csArray.prototype.indexOf.call(Sf,o.name)>=0:this.hh.emitOptout(),Id.sendOptOut();break;case csArray.prototype.indexOf.call(Cu,o.name)>=0:this.$b(o);break;case csArray.prototype.indexOf.call(dh,o.name)>=0:this.Jb(o);break;case csArray.prototype.indexOf.call(Lu,o.name)>=0:this.Wb(o);break;case csArray.prototype.indexOf.call(Uu,o.name)>=0:break;case csArray.prototype.indexOf.call(ju,o.name)>=0:this.Qg();break;case csArray.prototype.indexOf.call(nd,o.name)>=0:this.Wb(o),this.Qg();break;case csArray.prototype.indexOf.call(ca,o.name)>=0:this.ta.addUrlMaskingPattern(o.params[0]);break;case csArray.prototype.indexOf.call(Ua,o.name)>=0:this.ta.addPartialUrlMaskingPattern(o.params[0]);break;case csArray.prototype.indexOf.call(ja,o.name)>=0:this.ta.resetPartialUrlMaskingPatterns();break;case csArray.prototype.indexOf.call(fa,o.name)>=0:this.Yb(o);break;default:kn.warn("WebviewBridgeEventEmitter received an unknown command: ".concat(csJSON.stringify(o)))}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}},t.prototype.$b=function(t){if(1===t.params.length){var n=t.params[0];if(Ou.isValid(n.key,n.value)){var i=this.Hb.anonymizePII(n.key),r=this.Hb.anonymizePII(n.value);Id.sendDynamicVariable(i,r)}}},t.prototype.Jb=function(t){if(1===t.params.length){var n=t.params[0];if(jt(n)){var i={type:bd.PAGE_VIEW,version:1,data:{url:n}};this.ot.overridePath(n),this.hh.emitArtificialPageViewEnd(),Id.sendAnalysisEvent(i),this.hh.emitAfterArtificialPageView()}}},t.prototype.Wb=function(t){if(1===t.params.length){var n=st(t.params,1)[0];n.value&&(n.revenue=n.value),this.tf.addTransaction(n)}},t.prototype.Qg=function(){var t=this.tf.getTransaction();_u.isValid(t)&&(Id.sendTransaction(t.id?t.id:null,t.revenue,t.currency?t.currency:""),this.tf.clear())},t.prototype.Yb=function(t){if(!(t.params.length<1)){var n=t.params[0],i=t.params[1]||{};if(jt(n)&&Ht(i)){var r=Nd.buildCustomErrorEvent(n,i),e=this.Fb.transformEvent(An.CustomError,r);e&&(this.zb&&Id.sendNativeSREvent(Z(Z({},e),{type:bd.CUSTOM_ERROR_SR})),Id.sendAnalysisEvent(Z(Z({},e),{type:bd.CUSTOM_ERROR_AN})))}}},t}(),xd="LOCAL_ASSET",Pd="NONE",Md="ONLY_LOCAL_ASSETS",Dd="ALL",Ld=function(){function t(t){var n,i;this.Xb=t,this.Kb=new Set,this.Qb=Pd;try{var r=null===(i=null===(n=window.CSJavascriptBridge)||void 0===n?void 0:n.getAssetTransformerMode)||void 0===i?void 0:i.call(n);r!==Md&&r!==Dd||(this.Qb=r)}catch(t){}}return t.prototype.setAssetProcessingMode=function(t){this.Qb=t},t.prototype.getTransformedAssets=function(t,n){return it(this,void 0,void 0,(function(){var i,r,e,s,o,u,c,h,a,f,l,v;return rt(this,(function(d){switch(d.label){case 0:if(this.Qb===Pd)return[2,t];i=[],d.label=1;case 1:d.trys.push([1,10,11,12]),r=et(t),e=r.next(),d.label=2;case 2:if(e.done)return[3,9];if(s=e.value,o=s.assetId,u=this.Zb(o),this.Qb!==Dd&&u!==xd)return[3,7];if(c=o,this.tA(o,n)&&(c=this.nA(o,n)),this.Kb.has(c))return csArray.prototype.push.call(i,s),[3,8];d.label=3;case 3:return d.trys.push([3,5,,6]),[4,this.Xb.getAssetContent(o)];case 4:return h=d.sent(),this.Kb.has(c)?(csArray.prototype.push.call(i,s),[3,8]):(csArray.prototype.push.call(i,Z(Z({},s),{retrievedAssetContent:h})),this.Kb.add(s.assetId),[3,6]);case 5:return a=d.sent(),kn.error("an error occurred while getting data for asset: ".concat(c,": ").concat(a)),csArray.prototype.push.call(i,s),[3,6];case 6:return[3,8];case 7:csArray.prototype.push.call(i,s),d.label=8;case 8:return e=r.next(),[3,2];case 9:return[3,12];case 10:return f=d.sent(),l={error:f},[3,12];case 11:try{e&&!e.done&&(v=r.return)&&v.call(r)}finally{if(l)throw l.error}return[7];case 12:return[2,i]}}))}))},t.prototype.Zb=function(t){var n=window.WEBVIEW_SERVER_URL||null;try{return"file:"===new csURL(t).protocol||n&&csString.prototype.startsWith.call(t,n)?xd:"REMOTE_ASSET"}catch(n){kn.error("Error constructing URL (".concat(t,'"): ').concat(n.message))}return"UNKNOWN_ASSET_TYPE"},t.prototype.tA=function(t,n){return n&&csString.prototype.endsWith.call(t,".css")||!1},t.prototype.nA=function(t,n){return"".concat(t,"#").concat(n)},t}(),Ud=function(){function t(){this.iA=52428800,this.rA=31457280,this.eA=0,this.sA=!1,this.oA=new Map,this.Zc=[]}return t.prototype.getAssetContent=function(t){return it(this,void 0,void 0,(function(){var n,i=this;return rt(this,(function(r){return(n=this.oA.get(t))?[2,n]:[2,new Promise((function(n,r){csArray.prototype.push.call(i.Zc,{assetUrl:t,successCallback:n,errorCallback:r}),i.sA||i.uA()}))]}))}))},t.prototype.uA=function(){return it(this,void 0,void 0,(function(){var t,n,i=this;return rt(this,(function(r){switch(r.label){case 0:this.sA=!0,t=function(){var t,r,e,s,o,u,c,h,a,f,l,v;return rt(this,(function(d){switch(d.label){case 0:if(t=csArray.prototype.shift.call(n.Zc),r=t.assetUrl,e=t.successCallback,s=t.errorCallback,o=n.oA.get(r))return e(o),[2,"continue"];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,n.cA("GET",r,"blob")];case 2:if(u=d.sent(),200===(c=u.target).status){if(h=c.getResponseHeader("Content-Type"),(a=Number(c.getResponseHeader("Content-Length")))&&Number(a)>n.rA)return v="asset is too big, size = ".concat(a," bytes"),s(v),[2,"continue"];(f=new FileReader).onload=function(){var t={data:csString.prototype.split.call(f.result,"base64,")[1],mimeType:null!=h?h:""};i.eA+=a,i.eA>i.iA&&(i.eA=0,i.oA.clear()),i.oA.set(r,t),e(t)},f.onerror=function(){s("Error converting XHR response to base64")},f.readAsDataURL(c.response)}else s("error downloading ".concat(r,": ").concat(c.statusText));return[3,4];case 3:return l=d.sent(),v="Error downloading resource ".concat(r,": ").concat(l.message),s(v),[3,4];case 4:return[2]}}))},n=this,r.label=1;case 1:return this.Zc.length>0?[5,t()]:[3,3];case 2:return r.sent(),[3,1];case 3:return this.sA=!1,[2]}}))}))},t.prototype.cA=function(t,n,i){return new Promise((function(r,e){var s=new XMLHttpRequest;s.open(t,n),s.responseType=i,s.onload=r,s.onerror=e,s.send()}))},t}();function jd(t){if(null==t?void 0:t.length)return vi(t,(function(t){return function(t){var n=[];try{n=vi(t.cssRules,(function(t){return t.cssText}))}catch(t){}return{cssRules:n}}(t)}))}var qd=function(){function t(t,n,i){this.rb=t,this.Nb=n,this.Tb=i}return t.prototype.handleCommand=function(t){var n=t&&t.withAssets,i=[],r=new Set,e=new Set,s=[];n&&yd.isWebViewLocalAssetsSupported()?(this.Tb.onAsset((function(t){r.has(t.assetId)||(r.add(t.assetId),csArray.prototype.push.call(i,t))})),this.Tb.onStyleSheetFound((function(t){e.has(t.assetId)||(e.add(t.assetId),csArray.prototype.push.call(s,t))})),this.Tb.stop(),this.Tb.start()):(this.Tb.stop(),yd.isWebViewLocalAssetsSupported()||kn.warn("Local asset is not supported on this browser"));var o,u=(void Xi(document).visitAll((function(t){var n;if(P(t)&&(null===(n=t.adoptedStyleSheets)||void 0===n?void 0:n.length)>0){var i=jd(t.adoptedStyleSheets);Tr.setProperty(t,"styles",i)}})),o=function(t,n){var i;return us(f(f({},n),{async:!1}))(t,(function(t){return i=t})),i}(document),Tr.traverse(o,(function(t){if(11===t.nodeType){var n=Tr.getProperty(t,"styles");n&&(t.adoptedStyleSheets=n)}})),o),c=csJSON.stringify(u);if(n){var h=Ha.generate();return this.hA(i,s,h),csJSON.stringify({serializedDom:c,serializationId:h})}return c},t.prototype.hA=function(t,n,i){var r=this;0===n.length?this.Cb(t,i):this.aA(t,n,i,(function(t,n){return r.Cb(t,n)}))},t.prototype.aA=function(t,n,i,r){var e=this,s=0,o=0,u=new Set(csArray.prototype.map.call(t,(function(t){return t.assetId}))),c=function(t){return!u.has(t)},h=function(i){u.has(i.assetId)||(u.add(i.assetId),csArray.prototype.push.call(n,i),csArray.prototype.push.call(t,i))},a=function(e){var c,h;try{for(var a=et(e),f=a.next();!f.done;f=a.next()){var l=f.value;u.has(l.assetId)||(u.add(l.assetId),csArray.prototype.push.call(t,l))}}catch(t){c={error:t}}finally{try{f&&!f.done&&(h=a.return)&&h.call(a)}finally{if(c)throw c.error}}++s+o===n.length&&r(t,i)},f=function(e){o++,kn.error("An error occurred while fetching a styleSheet: "+e),s+o===n.length&&r(t,i)};csArray.prototype.forEach.call(n,(function(t){e.Nb.getStyleSheetAssets(t.assetId,a,f,c,h)}))},t.prototype.Cb=function(t,n){this.rb.sendToParent(An.Assets,{assets:t,serializationId:n})},t}();var Hd,Vd,Fd=function(){function t(t){this.U=t,this.fA=null}return t.prototype.isSdkTrackingContext=function(t){return Ft(t)&&Ht(t)&&jt(t.sessionKey)&&Ut(t.pageNumber)&&jt(t.pageViewType)&&qt(t.isRecording)},t.prototype.update=function(t){if(!this.isSdkTrackingContext(t))return kn.warn("webViewTrackingContext.service received wrong sdkTrackingContext, content:".concat(csJSON.stringify(t))),void(this.fA=null);this.fA=Z(Z(Z({},t),{recordingConsentState:nu.NOT_NEEDED,projectId:this.U.projectId,uxaDomain:this.U.uxaDomain}),this.U.smbConfig)},t.prototype.getTrackingContext=function(){return this.fA},t}(),Bd=function(){function t(t){this.lA=t,this.Ea=[]}return t.prototype.handleCommand=function(t){if(Bt(t)){this.Ra(t);var n=this.lA.getTrackingContext();null!==n&&this.Ta(t,n)}},t.prototype.executeRegisteredCallbacks=function(t){var n=this,i=t.trackingContext;i&&csArray.prototype.map.call(this.Ea,(function(t){return n.Ta(t,i)}))},t.prototype.Ra=function(t){csArray.prototype.push.call(this.Ea,t)},t.prototype.Ta=function(t,n){csSetTimeout((function(){t(n)}))},t}(),zd=function(){function t(t,n){this.Ia=t,this.lA=n}return t.prototype.onIframeIntegrationCallback=function(t){var n=this.lA.getTrackingContext();null!==n&&(t.trackingContext=n,this.Ia.sendToChildren(An.IntegrationCallback,t))},t}(),Gd=function(){function t(t){this.commandsService=t,this.La=new Su}return t.prototype.registerChildCommands=function(){var t=this;this.commandsService.register(Eu,(function(n){return t.La.handleCommand(n,t.vA)}))},t.prototype.onParentRecordingContextChange=function(t){this.vA={isRecording:t.isRecording,recordingStartTimestamp:t.recordingStartTimestamp||0,etrState:t.etrState||Ai.ETR_OFF},this.La.executeCallbacks(this.vA)},nt([tu()],t.prototype,"onParentRecordingContextChange",null),t}(),$d=["serializeWebView","webview:serializeWebView"],Jd=["setAssetTransformerMode","webview:setAssetTransformerMode"],Wd=["webview:onAfterScreenView"],Yd=function(t){function n(n,i,r,e,s,o,u){var c=t.call(this,n)||this;return c.commandsService=n,c.rb=i,c.Ia=r,c.Bb=e,c.dA=s,c.Pa=o,c.U=u,c}return Q(n,t),n.prototype.init=function(){this.lA=new Fd(this.U),this.yA=new zd(this.Ia,this.lA),this.Pa.addListener(this.yA),this.wA=new Bd(this.lA);var t=new Ad(new Ed),n=new xs({async:!1});this.pA=new qd(this.rb,t,n),this.Hd()},n.prototype.onAfterPageViewCallback=function(t){this.wA.executeRegisteredCallbacks(t)},n.prototype.Hd=function(){var n=this;t.prototype.registerChildCommands.call(this),this.commandsService.register(bu,(function(t){n.wA.handleCommand(t)})),this.commandsService.register(Wd,(function(t){n.lA.update(t);var i=n.lA.getTrackingContext();null!==i&&n.dA.emitAfterPageViewCallback({initiator:Sn.AfterPageView,trackingContext:i})})),this.commandsService.register($d,(function(t){return n.pA.handleCommand(t)})),this.commandsService.register(Jd,(function(t){t!==Pd&&t!==Md&&t!==Dd||n.Bb.setAssetProcessingMode(t)}))},n}(Gd),Xd=function(){function t(t){this.rb=t,this.Ea={}}return t.prototype.handleCommand=function(t){Bt(t)&&this.Ra(t)},t.prototype.executeRegisteredCallbacks=function(t){var n=t.trackingContext;if(n)if(t.callbackId){var i=this.Ea[t.callbackId];i&&this.Ta(i,n)}else for(var r in this.Ea)this.Ta(this.Ea[r],n)},t.prototype.Ra=function(t){var n=lt.integer(),i={callbackId:n,initiator:Sn.AfterPageView};this.Ea[n]=t,this.rb.sendToParent(An.IntegrationCallback,i)},t.prototype.Ta=function(t,n){csSetTimeout((function(){t(n)}))},t}(),Kd=function(){function t(t){this.rb=t,this.Oa={}}return t.prototype.handleCommand=function(t){Ht(t)&&Bt(t.callback)&&this.ka(t.callback)},t.prototype.executePendingCallbacks=function(t){var n=t.trackingContext,i=t.callbackId;if(i&&n){var r=this.Oa[i];r&&(delete this.Oa[i],this.Ta(r,n.sessionKey))}},t.prototype.ka=function(t){var n=lt.integer(),i={callbackId:n,initiator:Sn.GetSessionKey};this.Oa[n]=t,this.rb.sendToParent(An.IntegrationCallback,i)},t.prototype.Ta=function(t,n){csSetTimeout((function(){t(n)}))},t}(),Qd=function(){function t(t,n){this.rb=t,this.Ia=n,this.mA={}}return t.prototype.handleCommand=function(t,n){Ht(t)&&Bt(n)&&this.ka(t,n)},t.prototype.executePendingCommand=function(t){var n=t.trackingContext,i=t.callbackId;if(i&&n)if(this.mA[i]){var r=st(this.mA[i],2),e=r[0],s=r[1];e&&(delete this.mA[i],this.Ta(n,e,s))}else this.Ia.sendToChildren(An.TrackingContextResultMessage,t)},t.prototype.ka=function(t,n){var i=lt.integer();this.mA[i]=[t,n],this.rb.sendToParent(An.TrackingContextRequestMessage,{callbackId:i})},t.prototype.Ta=function(t,n,i){csSetTimeout((function(){var r=wu(t,n);i(r)}))},t}(),Zd=function(t){function n(n,i,r){var e=t.call(this,n)||this;return e.commandsService=n,e.rb=i,e.Ia=r,e}return Q(n,t),n.prototype.init=function(){this.gA=new Xd(this.rb),this.SA=new Kd(this.rb),this.bA=new Qd(this.rb,this.Ia),this.Hd()},n.prototype.onAfterPageViewCallback=function(t){this.gA.executeRegisteredCallbacks(t)},n.prototype.onIntegrationSessionKeyCallback=function(t){this.SA.executePendingCallbacks(t)},n.prototype.onTrackingContextResultCallback=function(t){this.bA.executePendingCommand(t)},n.prototype.Hd=function(){var n=this;t.prototype.registerChildCommands.call(this),this.commandsService.register(bu,(function(t){n.gA.handleCommand(t)})),this.commandsService.register(Au,(function(t){return n.SA.handleCommand(t)})),this.commandsService.register(Ru,(function(t,i){n.bA.handleCommand(t,i)}))},n}(Gd),ty=function(){function t(t,n,i,r){this.Qh=t,this.nv=n,this.Zh=i,this.Uw=r}return t.prototype.init=function(){this.Hd(),this.Lw=new La(this.Zh,this.nv,this.Uw)},t.prototype.AA=function(){this.Lw.start()},t.prototype.Yi=function(){this.Lw.stop()},t.prototype.onParentSensitiveStatusChange=function(t){t.maskedElementSettings&&this.nv.setMaskedElementSettingsFromParent(t.maskedElementSettings),t.capturedElementSelector&&this.Uw.setWhitelistedElementsSelector(t.capturedElementSelector),t.started?this.AA():this.Yi()},t.prototype.Hd=function(){var t=this;this.Qh.register(ou,(function(n){t.Uw.setWhitelistedElementsSelector(n)})),this.Qh.register(Pa,(function(n){t.nv.setMaskedElementSettingsFromCommand(n)}))},t}(),ny=function(){function t(t,n,i,r,e,s,o){this.hh=t,this.Qh=n,this.nv=i,this.Zh=r,this.sa=e,this.Uw=s,this.cb=o,this.Lw=new La(this.Zh,this.nv,this.Uw,this.sa)}return t.prototype.init=function(){this.sa.init(),this.Hd()},t.prototype.onStartAnalytics=function(){this.hp()},t.prototype.onAfterArtificialPageView=function(){this.EA(),this.hp()},t.prototype.onStopAnalytics=function(){this.EA()},t.prototype.hp=function(){this.Lw.start(),this.cb.setSensitiveStatus({started:!0,useAnonymization:this.sa.shouldUseAnonymization()}),this.hh.emitSensitiveStatusChange()},t.prototype.EA=function(){this.Lw.stop(),this.cb.setSensitiveStatus({started:!1,useAnonymization:this.sa.shouldUseAnonymization()}),this.hh.emitSensitiveStatusChange()},t.prototype.Hd=function(){var t=this;this.Qh.register(ou,(function(n){t.Uw.setWhitelistedElementsSelector(n),t.hh.emitSensitiveStatusChange()})),this.Qh.register(Pa,(function(n){t.nv.setMaskedElementSettingsFromCommand(n),t.hh.emitSensitiveStatusChange()}))},t}(),iy=/(\b["']?key["']?\s*[=:]\s*["'](?:first|last)[ _-]?name["']\s*,?\s*["']?value["']?\s*[=:]\s*["'])(.+?)(["'])|(\b["']?(?:first|last)[\s_-]?name["']?\s*[=:]\s*["'])(.+?)(["'])/gi,ry=/(?:\(\d{3}\) \d{3}[- ]\d{4}\b)|(?:\b\d{3}([-\. ])\d{3}\1\d{4}\b)|(?:\b\d{2} \d{2} \d{2} \d{2} \d{2}\b)|(?:\b\d{4} \d{3} \d{3}\b)|(?:\b\d{2}([-\. ])\d{4}\2\d{4}\b)|(?:\b\d{3}([- ])\d{4}\3\d{4}\b)|(?:\+\d{1,3} \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \(\d{3}\) \d{3}-\d{4}\b)|(?:\+\d{1,3}([- ])\d{4}\4\d{3}\4\d{3}\b)|(?:\+\d{1,3} \d \d{4} \d{4}\b)|(?:\+\d{1,3} \d \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \d \d{2} \d{2} \d{2} \d{2}\b)|(?:\+\d{7,15}\b)|(?:\+\d{1,3} \d{6,12}\b)|(?:\+\d{1,3}([- ])\d{4}\5\d{3}\5\d{3}\b)/g,ey=function(){function t(t){this.j=t}return t.prototype.anonymize=function(t){return t=this.j.anonymizePII(t),t=this.RA(t),t=this.TA(t)},t.prototype.RA=function(t){return csString.prototype.replace.call(t,iy,"$1$4CS_ANONYMIZED_NAME$3$6")},t.prototype.TA=function(t){return csString.prototype.replace.call(t,ry,"CS_ANONYMIZED_PHONE")},t}(),sy=function(){function t(t,n,i,r,e,s,o,u,c){var h=this;this.pb=t,this.hh=n,this.U=i,this.rb=r,this.ub=e,this.Qh=s,this.Et=o,this.Ls=u,this.cb=c,this.op=function(){h.Qh.start(),h.sp.start()}}return t.prototype.start=function(){var t,n,i,r,e,s,o,u,c,h,a,f,l=this;this.Ls.schedule((function(){if(e=new Wh(l.U),s=new Ia((function(){})),f=new _a,l.Et.isInIframeContext()){var t=new ty(l.Qh,e,s,f);t.init(),l.pb.addListener(t)}if(i=new Pt,h=new rl(i),a=new jf(window.location,h),l.Et.isInWebViewContext()){var n=new dd(l.U),r=new ma,o=new pa(n,l.U,a,r),u=new ny(l.hh,l.Qh,e,s,o,f,l.cb);u.init(),l.pb.addListener(u)}})),this.Ls.schedule((function(){t=new el(W,l.U),n=new bh(t),r=new ld(l.U,t,n,l.rb,l.Et,l.pb,l.Qh,new ia(kn),l.cb),l.pb.addListener(r)})),oa.isRecordingSupported()&&this.Ls.schedule((function(){var t=new Td(l.U,i,s,l.hh,l.rb,l.ub,l.Qh,l.pb,l.Et,a,l.cb,h);l.hh.addListener(t),l.pb.addListener(t),t.init()})),this.Ls.schedule((function(){c=new Kh(l.U);var n=new sl(t),i=new ol(t),r=new ul(t),e=new cl;u=new Ff(n,i,r,e),o=new cd(c,u,l.rb,l.ub,l.cb)})),this.Ls.schedule((function(){u.addListener(o),l.pb.addListener(o),l.hh.addListener(o),l.hh.addListener(r)})),this.Ls.schedule((function(){var t;if(l.Et.isInWebViewContext()){var n=new Ud;l.Bb=new Ld(n),t=new Yd(l.Qh,l.rb,c,l.Bb,l.pb,u,l.U)}else t=new Zd(l.Qh,l.rb,c);l.pb.addListener(t),t.init()})),this.Ls.schedule((function(){o.init(),r.init()})),this.Ls.schedule((function(){if(l.Et.isInWebViewContext()){var t=new kd,n=new na(i,a),r=new vh,e=new ta(r,h),s=new ey(i),o=new Cd(a,n,e,s),u=new _d(i,new Pu(i,null,null),t,o,l.Bb,l.hh,a,r),c=new Od(l.rb,u);c.init(),l.hh.addListener(c),l.pb.addListener(c)}else{var f=new ud(l.rb);l.hh.addListener(f)}})),this.sp=new Ah,this.Ls.schedule((function(){l.sp.onLoad((function(){l.hh.emitStartTracking()})),l.op()}))},t}(),oy=function(t){function n(n,i){void 0===i&&(i=500);var r=t.call(this,2500)||this;return r.pb=n,r.OA=i,r.NA=!1,r.kA=void 0,r.CA=!0,r}return Q(n,t),n.prototype.onStart=function(){this.IA()},n.prototype.onStop=function(){this.buffer.reset(),this._A&&window.csClearInterval(this._A)},n.prototype.sendToParent=function(t,n){var i;if(this.xA())null===(i=this.PA)||void 0===i||i.call(this,t,n);else if(this.MA(t)){var r=this.buildChildBaseMessage(t,n);this.buffer.addMessage(r)}},n.prototype.xA=function(){return this.NA&&this.CA},n.prototype.MA=function(t){return!this.NA||t===An.Commands},n.prototype.onWebViewEvent=function(t){this.PA=t},n.prototype.setAnalyticsStatus=function(t){this.CA=t,this.CA&&this.DA()},n.prototype.sendAllMessagesFromBuffer=function(){var t,n,i,r=this.buffer.getMessages();try{for(var e=et(r),s=e.next();!s.done;s=e.next()){var o=s.value;null===(i=this.PA)||void 0===i||i.call(this,o.type,o.content)}}catch(n){t={error:n}}finally{try{s&&!s.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}this.buffer.reset()},n.prototype.DA=function(){var t,n,i;if(this.NA){var r=this.buffer.getMessages();try{for(var e=et(r),s=e.next();!s.done;s=e.next()){var o=s.value;o.type===An.Commands&&(null===(i=this.PA)||void 0===i||i.call(this,o.type,o.content))}}catch(n){t={error:n}}finally{try{s&&!s.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}this.buffer.reset()}},n.prototype.buildChildBaseMessage=function(t,n){return{type:t,content:n}},n.prototype.IA=function(){var t=this;this.NA=Id.isCSJavascriptBridgeDefined(),this.NA?this.LA():this._A=window.csSetInterval((function(){t.NA=Id.isCSJavascriptBridgeDefined(),t.NA&&(t.LA(),window.csClearInterval(t._A))}),this.OA)},n.prototype.LA=function(){this.kA=Id.getBridgeVersion(),null===this.kA?this.sendAllMessagesFromBuffer():this.kA>=2?(this.UA(),Id.notifyIsReadyForTracking()):kn.warn("bridge version ".concat(this.kA," is not supported"))},n.prototype.UA=function(){this.pb.emitStopAnalytics()},n}(sd),uy=function(){function t(){this.vA=null}return t.prototype.getRecordingContext=function(){return null===this.vA?{isRecording:!1}:this.vA},t.prototype.setRecordingContext=function(t){this.vA=t},t}(),cy=function(t){function n(n,i){var r=t.call(this)||this;return r.he=n,r.rb=i,r}return Q(n,t),n.prototype.onStart=function(){var t=this;this.he.subscribe(n.Xe,(function(n){return t.Ve(n)}))},n.prototype.onStop=function(){this.he.unsubscribe(n.Xe)},n.prototype.Ve=function(t){this.isStarted&&this.rb.sendToParent(An.ApiError,t)},n.Xe="ChildApiErrorsService",n}(zr),hy=function(t){function n(n,i){var r=t.call(this)||this;return r.he=n,r.rb=i,r}return Q(n,t),n.prototype.onStart=function(){var t=this;this.he.subscribe(n.Xe,(function(n){return t.Ve(n)}),{detailedEvent:!0})},n.prototype.onStop=function(){this.he.unsubscribe(n.Xe)},n.prototype.Ve=function(t){this.isStarted&&this.rb.sendToParent(An.DetailedApiError,t)},n.Xe="ChildDetailedApiErrorsService",n}(zr),ay=function(){function t(t,n,i){this.U=t,this.rb=n,this.ib=i}return t.prototype.init=function(){var t,n,i=new Pt;n=(null===(t=this.U.apiErrors.collectionRules)||void 0===t?void 0:t.length)?new ka(this.U.apiErrors,i):new Ca(this.U.apiErrors,i),this.he=new Zh(new Sa,new ba,n),this.jA=new cy(this.he,this.rb),this.qA=new hy(this.he,this.rb),this.he.init(),this.Hd()},t.prototype.Hd=function(){this.ib.register(ca)},t.prototype.onStartTracking=function(){this.jA.start()},t.prototype.onParentRecordingContextChange=function(t){t.isRecording?this.qA.start():this.qA.stop()},t.prototype.onOptout=function(){this.jA.stop(),this.qA.stop()},t.prototype.onStartAnalytics=function(){this.jA.start()},t.prototype.onStopAnalytics=function(){this.jA.stop()},t}(),fy=function(t){function n(n,i){var r=t.call(this)||this;return r.Vd=n,r.rb=i,r}return Q(n,t),n.prototype.onStart=function(){var t=this;this.Vd.subscribe(n.Xe,(function(n){return t.Ve(n)}))},n.prototype.onStop=function(){this.Vd.unsubscribe(n.Xe)},n.prototype.Ve=function(t){this.isStarted&&this.rb.sendToParent(An.JavascriptError,t)},n.Xe="ChildJavaScriptErrorsService",n}(zr),ly=function(){function t(t,n,i){this.U=t,this.rb=n,this.ib=i}return t.prototype.init=function(){var t=new $h;this.HA=new fy(t,this.rb),this.Hd()},t.prototype.onStartTracking=function(){this.HA.start()},t.prototype.onOptout=function(){this.HA.stop()},t.prototype.onStartAnalytics=function(){this.HA.start()},t.prototype.onStopAnalytics=function(){this.HA.stop()},t.prototype.Hd=function(){this.U.jsCustomErrorsEnabled&&!this.U.customErrors.enabled&&this.ib.register(fa)},t}(),vy=function(){function t(){this.VA={started:!1,useAnonymization:!0}}return t.prototype.getSensitiveStatus=function(){return this.VA},t.prototype.setSensitiveStatus=function(t){this.VA=t},t.prototype.getElementSensitiveStatus=function(t){return this.VA.started?_r.isMaskedElement(t)||_r.isMaskedElementChild(t)?Kc.MASKED:this.VA.useAnonymization?Vs.isWhitelistedElement(t)?Kc.CAPTURED:Kc.ANONYMIZED:Kc.CAPTURED:Kc.ANONYMIZED},t}(),dy=function(){function t(t,n,i){this.U=t,this.Et=n,this.Ls=i}return t.prototype.init=function(){var t,n,i,r,e,s,o,u,c,h=this;Mh.isSupported()&&Mh.setDigestSalt(this.U.projectId.toString()),this.Ls.schedule((function(){t=new td(h.Ls),n=new Zv,i=new uy,r=new vy;var o=[Rf.UXA];h.Et.isInWebViewContext()?(window.cs_wvt=window.cs_wvt||[],csArray.prototype.push.call(o,Rf.WVT),e=new oy(n)):e=new od(h.U,t,i,r,n),s=new Of(o)})),this.Ls.schedule((function(){o=new rd(s,e),u=new id(o)})),this.Ls.schedule((function(){u.init()})),this.Ls.schedule((function(){h.U.implementations&&((c=new $v(h.U.implementations,s,h.Ls)).init(),t.addListener(c))})),this.Ls.schedule((function(){if(h.U.apiErrors.enabled){var i=new ay(h.U,e,o);i.init(),t.addListener(i),n.addListener(i)}if(h.U.jsErrorsEnabled){var r=new ly(h.U,e,o);r.init(),t.addListener(r),n.addListener(r)}})),this.Ls.schedule((function(){t.addListener(u)})),this.Ls.schedule((function(){t.emitInitTracking()})),this.Ls.schedule((function(){new sy(n,t,h.U,e,i,s,h.Et,h.Ls,r).start()}))},t}(),yy=function(){function t(t,n,i){this.U=t,this.Et=n,this.q=i}return t.prototype.start=function(){var t,n,i,r,e;if(!window.UXAnalytics){window.UXAnalytics={},window.CSCurrentScript=document.currentScript;var s=new Is(!!(null===(t=this.U.taskSchedulerOptions)||void 0===t?void 0:t.enabled),null===(n=this.U.taskSchedulerOptions)||void 0===n?void 0:n.maxProcessingTime,null===(i=this.U.taskSchedulerOptions)||void 0===i?void 0:i.waitDuration),o=new oi(this.Et,this.U);o.init();var u=new ci(this.U,o);if(this.Et.isTopWindowTracker()&&u.canTrack()){if((null===(r=window.CSProtectnativeFunctionsLogs)||void 0===r?void 0:r.Warning)&&kn.warn("protectNativeFunctions failed: ".concat(window.CSProtectnativeFunctionsLogs.Warning)),null===(e=window.CSProtectnativeFunctionsLogs)||void 0===e?void 0:e.Critical)return void kn.error("protectNativeFunctions failed: ".concat(window.CSProtectnativeFunctionsLogs.Critical));var c=new td(s),h=new Kv(this.U,o,this.q,s,c);this.U.isQuotaEnabled()?h.initWithQuota():h.init()}else if(!this.Et.isTopWindowTracker()&&u.canTrackInChild()){new dy(this.U,this.Et,s).init()}var a=csString.prototype.indexOf.call(window.location.href,"csDebug=1")>-1;window.UXAnalytics={Sensitive:{isNodeSensitive:function(t){return _r.isMaskedElement(t)||_r.isMaskedElementChild(t)},isAttributeSensitive:function(t,n){return _r.isMaskedAttribute(t,n)},getSensitiveAttributes:function(t){return mi(t.attributes,(function(n){return _r.isMaskedAttribute(t,n.name)}))}},Console:{warn:function(t){a&&console.warn("cs.tracking.warning",t)},error:function(t){a&&console.error("cs.tracking.error",t)}}},!window.CSFrameCommunication&&Qv.isActivable()&&(window.CSFrameCommunication=Qv,Qv.waitForConnection())}},nt([ri("main.start"),qn("main.start")],t.prototype,"start",null),t}(),wy=function(){function t(){}return t.prototype.send=function(t,n,i){void 0===i&&(i=dt.warn);var r={message:t,errorCode:n,level:i};Id.sendLog(r)},t}();try{var py=new pt(window.CS_CONF);window._uxa=window._uxa||[],py.processOptionOverrides(window._uxa);var my=new mt(window,py);my.init();var gy=new On;if(jn=kn,Vn=!0,kn.computeIsActive(py.validationRate),my.isTopWindowTracker()){var Sy=new hn(py,gy);kn.setStrategy(Sy)}else if(my.isInIframeContext()){var by=new Tn(py);kn.setStrategy(by)}else if(my.isInWebViewContext()){var Ay=new wy;kn.setStrategy(Ay)}void 0===Hd&&(Hd=50),void 0===Vd&&(Vd=.1),$n=jn.isPerfLoggingActive()&&function(){var t;if(!(null===(t=window.performance)||void 0===t?void 0:t.mark))return!1;var n="isPerformanceMeasureSupported",i="".concat(n,"_a");return performance.mark(i),void 0!==performance.measure(n,i)}(),$n&&(zn=Hd,Gn=Vd),new yy(py,my,gy).start()}catch(Gi){}}();